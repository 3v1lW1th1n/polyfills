{"version":3,"file":"scoping-shim.min.js","sources":["../src/css-parse.js","../src/style-settings.js","../src/common-regex.js","../src/style-util.js","../src/style-transformer.js","../src/style-info.js","../src/style-properties.js","../src/style-placeholder.js","../src/style-cache.js","../src/document-watcher.js","../src/template-map.js","../src/apply-shim-utils.js","../src/document-wait.js","../src/scoping-shim.js","scoping-shim.js"],"sourcesContent":["/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n\n'use strict';\n\n/** @unrestricted */\nclass StyleNode {\n  constructor() {\n    /** @type {number} */\n    this['start'] = 0;\n    /** @type {number} */\n    this['end'] = 0;\n    /** @type {StyleNode} */\n    this['previous'] = null;\n    /** @type {StyleNode} */\n    this['parent'] = null;\n    /** @type {Array<StyleNode>} */\n    this['rules'] = null;\n    /** @type {string} */\n    this['parsedCssText'] = '';\n    /** @type {string} */\n    this['cssText'] = '';\n    /** @type {boolean} */\n    this['atRule'] = false;\n    /** @type {number} */\n    this['type'] = 0;\n    /** @type {string} */\n    this['keyframesName'] = '';\n    /** @type {string} */\n    this['selector'] = '';\n    /** @type {string} */\n    this['parsedSelector'] = '';\n  }\n}\n\nexport {StyleNode}\n\n// given a string of css, return a simple rule tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nexport function parse(text) {\n  text = clean(text);\n  return parseCss(lex(text), text);\n}\n\n// remove stuff we don't care about that may hinder parsing\n/**\n * @param {string} cssText\n * @return {string}\n */\nfunction clean(cssText) {\n  return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n\n// super simple {...} lexer that returns a node tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nfunction lex(text) {\n  let root = new StyleNode();\n  root['start'] = 0;\n  root['end'] = text.length\n  let n = root;\n  for (let i = 0, l = text.length; i < l; i++) {\n    if (text[i] === OPEN_BRACE) {\n      if (!n['rules']) {\n        n['rules'] = [];\n      }\n      let p = n;\n      let previous = p['rules'][p['rules'].length - 1] || null;\n      n = new StyleNode();\n      n['start'] = i + 1;\n      n['parent'] = p;\n      n['previous'] = previous;\n      p['rules'].push(n);\n    } else if (text[i] === CLOSE_BRACE) {\n      n['end'] = i + 1;\n      n = n['parent'] || root;\n    }\n  }\n  return root;\n}\n\n// add selectors/cssText to node tree\n/**\n * @param {StyleNode} node\n * @param {string} text\n * @return {StyleNode}\n */\nfunction parseCss(node, text) {\n  let t = text.substring(node['start'], node['end'] - 1);\n  node['parsedCssText'] = node['cssText'] = t.trim();\n  if (node['parent']) {\n    let ss = node['previous'] ? node['previous']['end'] : node['parent']['start'];\n    t = text.substring(ss, node['start'] - 1);\n    t = _expandUnicodeEscapes(t);\n    t = t.replace(RX.multipleSpaces, ' ');\n    // TODO(sorvell): ad hoc; make selector include only after last ;\n    // helps with mixin syntax\n    t = t.substring(t.lastIndexOf(';') + 1);\n    let s = node['parsedSelector'] = node['selector'] = t.trim();\n    node['atRule'] = (s.indexOf(AT_START) === 0);\n    // note, support a subset of rule types...\n    if (node['atRule']) {\n      if (s.indexOf(MEDIA_START) === 0) {\n        node['type'] = types.MEDIA_RULE;\n      } else if (s.match(RX.keyframesRule)) {\n        node['type'] = types.KEYFRAMES_RULE;\n        node['keyframesName'] =\n          node['selector'].split(RX.multipleSpaces).pop();\n      }\n    } else {\n      if (s.indexOf(VAR_START) === 0) {\n        node['type'] = types.MIXIN_RULE;\n      } else {\n        node['type'] = types.STYLE_RULE;\n      }\n    }\n  }\n  let r$ = node['rules'];\n  if (r$) {\n    for (let i = 0, l = r$.length, r;\n      (i < l) && (r = r$[i]); i++) {\n      parseCss(r, text);\n    }\n  }\n  return node;\n}\n\n/**\n * conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n * expanded form that doesn't require trailing space `\\000033`\n * @param {string} s\n * @return {string}\n */\nfunction _expandUnicodeEscapes(s) {\n  return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function() {\n    let code = arguments[1],\n      repeat = 6 - code.length;\n    while (repeat--) {\n      code = '0' + code;\n    }\n    return '\\\\' + code;\n  });\n}\n\n/**\n * stringify parsed css.\n * @param {StyleNode} node\n * @param {boolean=} preserveProperties\n * @param {string=} text\n * @return {string}\n */\nexport function stringify(node, preserveProperties, text = '') {\n  // calc rule cssText\n  let cssText = '';\n  if (node['cssText'] || node['rules']) {\n    let r$ = node['rules'];\n    if (r$ && !_hasMixinRules(r$)) {\n      for (let i = 0, l = r$.length, r;\n        (i < l) && (r = r$[i]); i++) {\n        cssText = stringify(r, preserveProperties, cssText);\n      }\n    } else {\n      cssText = preserveProperties ? node['cssText'] :\n        removeCustomProps(node['cssText']);\n      cssText = cssText.trim();\n      if (cssText) {\n        cssText = '  ' + cssText + '\\n';\n      }\n    }\n  }\n  // emit rule if there is cssText\n  if (cssText) {\n    if (node['selector']) {\n      text += node['selector'] + ' ' + OPEN_BRACE + '\\n';\n    }\n    text += cssText;\n    if (node['selector']) {\n      text += CLOSE_BRACE + '\\n\\n';\n    }\n  }\n  return text;\n}\n\n/**\n * @param {Array<StyleNode>} rules\n * @return {boolean}\n */\nfunction _hasMixinRules(rules) {\n  let r = rules[0];\n  return Boolean(r) && Boolean(r['selector']) && r['selector'].indexOf(VAR_START) === 0;\n}\n\n/**\n * @param {string} cssText\n * @return {string}\n */\nfunction removeCustomProps(cssText) {\n  cssText = removeCustomPropAssignment(cssText);\n  return removeCustomPropApply(cssText);\n}\n\n/**\n * @param {string} cssText\n * @return {string}\n */\nexport function removeCustomPropAssignment(cssText) {\n  return cssText\n    .replace(RX.customProp, '')\n    .replace(RX.mixinProp, '');\n}\n\n/**\n * @param {string} cssText\n * @return {string}\n */\nfunction removeCustomPropApply(cssText) {\n  return cssText\n    .replace(RX.mixinApply, '')\n    .replace(RX.varApply, '');\n}\n\n/** @enum {number} */\nexport const types = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7,\n  MEDIA_RULE: 4,\n  MIXIN_RULE: 1000\n}\n\nconst OPEN_BRACE = '{';\nconst CLOSE_BRACE = '}';\n\n// helper regexp's\nconst RX = {\n  comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n  port: /@import[^;]*;/gim,\n  customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n  mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n  mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n  varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n  keyframesRule: /^@[^\\s]*keyframes/,\n  multipleSpaces: /\\s+/g\n}\n\nconst VAR_START = '--';\nconst MEDIA_START = '@media';\nconst AT_START = '@';\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nexport let nativeShadow = !(window['ShadyDOM'] && window['ShadyDOM']['inUse']);\n// chrome 49 has semi-working css vars, check if box-shadow works\n// safari 9.1 has a recalc bug: https://bugs.webkit.org/show_bug.cgi?id=155782\nexport let nativeCssVariables = (!navigator.userAgent.match('AppleWebKit/601') &&\nwindow.CSS && CSS.supports && CSS.supports('box-shadow', '0 0 0 var(--foo)'));\n\n/**\n * @param {?Object} settings\n */\nfunction parseSettings(settings) {\n  if (settings) {\n    nativeCssVariables = nativeCssVariables && !settings['shimcssproperties'];\n    nativeShadow = nativeShadow && !settings['shimshadow'];\n  }\n}\n\nif (window.ShadyCSS) {\n  parseSettings(window['ShadyCSS']);\n} else if (window.WebComponents) {\n  parseSettings(window['WebComponents']['flags']);\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const VAR_ASSIGN = /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\\s}])|$)/gi;\nexport const MIXIN_MATCH = /(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi;\nexport const VAR_CONSUMED = /(--[\\w-]+)\\s*([:,;)]|$)/gi;\nexport const ANIMATION_MATCH = /(animation\\s*:)|(animation-name\\s*:)/;\nexport const MEDIA_MATCH = /@media[^(]*(\\([^)]*\\))/;\nexport const IS_VAR = /^--/;\nexport const BRACKETED = /\\{[^}]*\\}/g;\nexport const HOST_PREFIX = '(?:^|[^.#[:])';\nexport const HOST_SUFFIX = '($|[.:[\\\\s>+~])';","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {nativeShadow, nativeCssVariables} from './style-settings'\nimport {parse, stringify, types, StyleNode} from './css-parse' // eslint-disable-line no-unused-vars\nimport {MEDIA_MATCH} from './common-regex';\n\n/**\n * @param {string|StyleNode} rules\n * @param {function(StyleNode)=} callback\n */\nexport function toCssText (rules, callback) {\n  if (typeof rules === 'string') {\n    rules = parse(rules);\n  }\n  if (callback) {\n    forEachRule(rules, callback);\n  }\n  return stringify(rules, nativeCssVariables);\n}\n\n/**\n * @param {HTMLStyleElement} style\n * @return {StyleNode}\n */\nexport function rulesForStyle(style) {\n  if (!style['__cssRules'] && style.textContent) {\n    style['__cssRules'] = parse(style.textContent);\n  }\n  return style['__cssRules'];\n}\n\n// Tests if a rule is a keyframes selector, which looks almost exactly\n// like a normal selector but is not (it has nothing to do with scoping\n// for example).\n/**\n * @param {StyleNode} rule\n * @return {boolean}\n */\nexport function isKeyframesSelector(rule) {\n  return Boolean(rule['parent']) &&\n  rule['parent']['type'] === types.KEYFRAMES_RULE;\n}\n\n/**\n * @param {StyleNode} node\n * @param {Function=} styleRuleCallback\n * @param {Function=} keyframesRuleCallback\n * @param {boolean=} onlyActiveRules\n */\nexport function forEachRule(node, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {\n  if (!node) {\n    return;\n  }\n  let skipRules = false;\n  let type = node['type'];\n  if (onlyActiveRules) {\n    if (type === types.MEDIA_RULE) {\n      let matchMedia = node['selector'].match(MEDIA_MATCH);\n      if (matchMedia) {\n        // if rule is a non matching @media rule, skip subrules\n        if (!window.matchMedia(matchMedia[1]).matches) {\n          skipRules = true;\n        }\n      }\n    }\n  }\n  if (type === types.STYLE_RULE) {\n    styleRuleCallback(node);\n  } else if (keyframesRuleCallback &&\n    type === types.KEYFRAMES_RULE) {\n    keyframesRuleCallback(node);\n  } else if (type === types.MIXIN_RULE) {\n    skipRules = true;\n  }\n  let r$ = node['rules'];\n  if (r$ && !skipRules) {\n    for (let i=0, l=r$.length, r; (i<l) && (r=r$[i]); i++) {\n      forEachRule(r, styleRuleCallback, keyframesRuleCallback, onlyActiveRules);\n    }\n  }\n}\n\n// add a string of cssText to the document.\n/**\n * @param {string} cssText\n * @param {string} moniker\n * @param {Node} target\n * @param {Node} contextNode\n * @return {HTMLStyleElement}\n */\nexport function applyCss(cssText, moniker, target, contextNode) {\n  let style = createScopeStyle(cssText, moniker);\n  return applyStyle(style, target, contextNode);\n}\n\n/**\n * @param {Node} style\n * @param {?Node} target\n * @param {?Node} contextNode\n * @return {HTMLStyleElement}\n */\nexport function applyStyle(style, target, contextNode) {\n  target = target || document.head;\n  let after = (contextNode && contextNode.nextSibling) ||\n  target.firstChild;\n  lastHeadApplyNode = style;\n  return /** @type {HTMLStyleElement} */(target.insertBefore(style, after));\n}\n\n/**\n * @param {string} cssText\n * @param {string} moniker\n * @return {Element}\n */\nexport function createScopeStyle(cssText, moniker) {\n  let style = document.createElement('style');\n  if (moniker) {\n    style.setAttribute('scope', moniker);\n  }\n  style.textContent = cssText;\n  return style;\n}\n\n/** @type {Node} */\nlet lastHeadApplyNode = null;\n\n// insert a comment node as a styling position placeholder.\n/**\n * @param {string} moniker\n * @return {Node}\n */\nexport function applyStylePlaceHolder(moniker) {\n  let placeHolder = document.createComment(' Shady DOM styles for ' +\n    moniker + ' ');\n  let after = lastHeadApplyNode ?\n    lastHeadApplyNode['nextSibling'] : null;\n  let scope = document.head;\n  scope.insertBefore(placeHolder, after || scope.firstChild);\n  lastHeadApplyNode = placeHolder;\n  return placeHolder;\n}\n\n/**\n * @param {string} buildType\n * @return {boolean}\n */\nexport function isTargetedBuild(buildType) {\n  return nativeShadow ? buildType === 'shadow' : buildType === 'shady';\n}\n\n/**\n * @param {Element} element\n * @return {?string}\n */\nexport function getCssBuildType(element) {\n  return element.getAttribute('css-build');\n}\n\n/**\n * Walk from text[start] matching parens and\n * returns position of the outer end paren\n * @param {string} text\n * @param {number} start\n * @return {number}\n */\nfunction findMatchingParen(text, start) {\n  let level = 0;\n  for (let i=start, l=text.length; i < l; i++) {\n    if (text[i] === '(') {\n      level++;\n    } else if (text[i] === ')') {\n      if (--level === 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * @param {string} str\n * @param {function(string, string, string, string)} callback\n */\nexport function processVariableAndFallback(str, callback) {\n  // find 'var('\n  let start = str.indexOf('var(');\n  if (start === -1) {\n    // no var?, everything is prefix\n    return callback(str, '', '', '');\n  }\n  //${prefix}var(${inner})${suffix}\n  let end = findMatchingParen(str, start + 3);\n  let inner = str.substring(start + 4, end);\n  let prefix = str.substring(0, start);\n  // suffix may have other variables\n  let suffix = processVariableAndFallback(str.substring(end + 1), callback);\n  let comma = inner.indexOf(',');\n  // value and fallback args should be trimmed to match in property lookup\n  if (comma === -1) {\n    // variable, no fallback\n    return callback(prefix, inner.trim(), '', suffix);\n  }\n  // var(${value},${fallback})\n  let value = inner.substring(0, comma).trim();\n  let fallback = inner.substring(comma + 1).trim();\n  return callback(prefix, value, fallback, suffix);\n}\n\n/**\n * @param {Element} element\n * @param {string} value\n */\nexport function setElementClassRaw(element, value) {\n  // use native setAttribute provided by ShadyDOM when setAttribute is patched\n  if (window['ShadyDOM']) {\n    window['ShadyDOM']['nativeMethods']['setAttribute'].call(element, 'class', value);\n  } else {\n    element.setAttribute('class', value);\n  }\n}\n\n/**\n * @param {Element|Object} element\n * @return {{is: string, extends: string}}\n */\nexport function getIsExtends(element) {\n  let is = element.is || (element.getAttribute && element.getAttribute('is')) || element.localName;\n  let extendz = element.extends || element.localName !== is ? element.localName : '';\n  return {is, extends: extendz};\n}","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {StyleNode} from './css-parse' // eslint-disable-line no-unused-vars\nimport * as StyleUtil from './style-util'\nimport {nativeShadow} from './style-settings'\n\n/* Transforms ShadowDOM styling into ShadyDOM styling\n\n* scoping:\n\n  * elements in scope get scoping selector class=\"x-foo-scope\"\n  * selectors re-written as follows:\n\n    div button -> div.x-foo-scope button.x-foo-scope\n\n* :host -> scopeName\n\n* :host(...) -> scopeName...\n\n* ::slotted(...) -> scopeName > ...\n\n* ...:dir(ltr|rtl) -> [dir=\"ltr|rtl\"] ..., ...[dir=\"ltr|rtl\"]\n\n* :host(:dir[rtl]) -> scopeName:dir(rtl) -> [dir=\"rtl\"] scopeName, scopeName[dir=\"rtl\"]\n\n*/\nconst SCOPE_NAME = 'style-scope';\n\nclass StyleTransformer {\n  get SCOPE_NAME() {\n    return SCOPE_NAME;\n  }\n  // Given a node and scope name, add a scoping class to each node\n  // in the tree. This facilitates transforming css into scoped rules.\n  dom(node, scope, shouldRemoveScope) {\n    // one time optimization to skip scoping...\n    if (node['__styleScoped']) {\n      node['__styleScoped'] = null;\n    } else {\n      this._transformDom(node, scope || '', shouldRemoveScope);\n    }\n  }\n\n  _transformDom(node, selector, shouldRemoveScope) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      this.element(node, selector, shouldRemoveScope);\n    }\n    let c$ = (node.localName === 'template') ?\n      (node.content || node._content).childNodes :\n      node.children || node.childNodes;\n    if (c$) {\n      for (let i=0; i<c$.length; i++) {\n        this._transformDom(c$[i], selector, shouldRemoveScope);\n      }\n    }\n  }\n\n  element(element, scope, shouldRemoveScope) {\n    // note: if using classes, we add both the general 'style-scope' class\n    // as well as the specific scope. This enables easy filtering of all\n    // `style-scope` elements\n    if (scope) {\n      // note: svg on IE does not have classList so fallback to class\n      if (element.classList) {\n        if (shouldRemoveScope) {\n          element.classList.remove(SCOPE_NAME);\n          element.classList.remove(scope);\n        } else {\n          element.classList.add(SCOPE_NAME);\n          element.classList.add(scope);\n        }\n      } else if (element.getAttribute) {\n        let c = element.getAttribute(CLASS);\n        if (shouldRemoveScope) {\n          if (c) {\n            let newValue = c.replace(SCOPE_NAME, '').replace(scope, '');\n            StyleUtil.setElementClassRaw(element, newValue);\n          }\n        } else {\n          let newValue = (c ? c + ' ' : '') + SCOPE_NAME + ' ' + scope;\n          StyleUtil.setElementClassRaw(element, newValue);\n        }\n      }\n    }\n  }\n\n  elementStyles(element, styleRules, callback) {\n    let cssBuildType = element['__cssBuild'];\n    // no need to shim selectors if settings.useNativeShadow, also\n    // a shady css build will already have transformed selectors\n    // NOTE: This method may be called as part of static or property shimming.\n    // When there is a targeted build it will not be called for static shimming,\n    // but when the property shim is used it is called and should opt out of\n    // static shimming work when a proper build exists.\n    let cssText = '';\n    if (nativeShadow || cssBuildType === 'shady') {\n      cssText = StyleUtil.toCssText(styleRules, callback);\n    } else {\n      let {is, extends: ex} = StyleUtil.getIsExtends(element);\n      cssText = this.css(styleRules, is, ex, callback) + '\\n\\n';\n    }\n    return cssText.trim();\n  }\n\n  // Given a string of cssText and a scoping string (scope), returns\n  // a string of scoped css where each selector is transformed to include\n  // a class created from the scope. ShadowDOM selectors are also transformed\n  // (e.g. :host) to use the scoping selector.\n  css(rules, scope, ext, callback) {\n    let hostScope = this._calcHostScope(scope, ext);\n    scope = this._calcElementScope(scope);\n    let self = this;\n    return StyleUtil.toCssText(rules, function(/** StyleNode */rule) {\n      if (!rule.isScoped) {\n        self.rule(rule, scope, hostScope);\n        rule.isScoped = true;\n      }\n      if (callback) {\n        callback(rule, scope, hostScope);\n      }\n    });\n  }\n\n  _calcElementScope(scope) {\n    if (scope) {\n      return CSS_CLASS_PREFIX + scope;\n    } else {\n      return '';\n    }\n  }\n\n  _calcHostScope(scope, ext) {\n    return ext ? `[is=${scope}]` : scope;\n  }\n\n  rule(rule, scope, hostScope) {\n    this._transformRule(rule, this._transformComplexSelector,\n      scope, hostScope);\n  }\n\n  /**\n   * transforms a css rule to a scoped rule.\n   *\n   * @param {StyleNode} rule\n   * @param {Function} transformer\n   * @param {string=} scope\n   * @param {string=} hostScope\n   */\n  _transformRule(rule, transformer, scope, hostScope) {\n    // NOTE: save transformedSelector for subsequent matching of elements\n    // against selectors (e.g. when calculating style properties)\n    rule['selector'] = rule.transformedSelector =\n      this._transformRuleCss(rule, transformer, scope, hostScope);\n  }\n\n  /**\n   * @param {StyleNode} rule\n   * @param {Function} transformer\n   * @param {string=} scope\n   * @param {string=} hostScope\n   */\n  _transformRuleCss(rule, transformer, scope, hostScope) {\n    let p$ = rule['selector'].split(COMPLEX_SELECTOR_SEP);\n    // we want to skip transformation of rules that appear in keyframes,\n    // because they are keyframe selectors, not element selectors.\n    if (!StyleUtil.isKeyframesSelector(rule)) {\n      for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n        p$[i] = transformer.call(this, p, scope, hostScope);\n      }\n    }\n    return p$.join(COMPLEX_SELECTOR_SEP);\n  }\n\n/**\n * @param {string} selector\n * @param {string} scope\n * @param {string=} hostScope\n */\n  _transformComplexSelector(selector, scope, hostScope) {\n    let stop = false;\n    selector = selector.trim();\n    // Remove spaces inside of selectors like `:nth-of-type` because it confuses SIMPLE_SELECTOR_SEP\n    selector = selector.replace(NTH, (m, type, inner) => `:${type}(${inner.replace(/\\s/g, '')})`);\n    selector = selector.replace(SLOTTED_START, `${HOST} $1`);\n    selector = selector.replace(SIMPLE_SELECTOR_SEP, (m, c, s) => {\n      if (!stop) {\n        let info = this._transformCompoundSelector(s, c, scope, hostScope);\n        stop = stop || info.stop;\n        c = info.combinator;\n        s = info.value;\n      }\n      return c + s;\n    });\n    return selector;\n  }\n\n  _transformCompoundSelector(selector, combinator, scope, hostScope) {\n    // replace :host with host scoping class\n    let slottedIndex = selector.indexOf(SLOTTED);\n    if (selector.indexOf(HOST) >= 0) {\n      selector = this._transformHostSelector(selector, hostScope);\n    // replace other selectors with scoping class\n    } else if (slottedIndex !== 0) {\n      selector = scope ? this._transformSimpleSelector(selector, scope) :\n        selector;\n    }\n    // mark ::slotted() scope jump to replace with descendant selector + arg\n    // also ignore left-side combinator\n    let slotted = false;\n    if (slottedIndex >= 0) {\n      combinator = '';\n      slotted = true;\n    }\n    // process scope jumping selectors up to the scope jump and then stop\n    let stop;\n    if (slotted) {\n      stop = true;\n      if (slotted) {\n        // .zonk ::slotted(.foo) -> .zonk.scope > .foo\n        selector = selector.replace(SLOTTED_PAREN, (m, paren) => ` > ${paren}`);\n      }\n    }\n    selector = selector.replace(DIR_PAREN, (m, before, dir) =>\n      `[dir=\"${dir}\"] ${before}, ${before}[dir=\"${dir}\"]`);\n    return {value: selector, combinator, stop};\n  }\n\n  _transformSimpleSelector(selector, scope) {\n    let p$ = selector.split(PSEUDO_PREFIX);\n    p$[0] += scope;\n    return p$.join(PSEUDO_PREFIX);\n  }\n\n  // :host(...) -> scopeName...\n  _transformHostSelector(selector, hostScope) {\n    let m = selector.match(HOST_PAREN);\n    let paren = m && m[2].trim() || '';\n    if (paren) {\n      if (!paren[0].match(SIMPLE_SELECTOR_PREFIX)) {\n        // paren starts with a type selector\n        let typeSelector = paren.split(SIMPLE_SELECTOR_PREFIX)[0];\n        // if the type selector is our hostScope then avoid pre-pending it\n        if (typeSelector === hostScope) {\n          return paren;\n        // otherwise, this selector should not match in this scope so\n        // output a bogus selector.\n        } else {\n          return SELECTOR_NO_MATCH;\n        }\n      } else {\n        // make sure to do a replace here to catch selectors like:\n        // `:host(.foo)::before`\n        return selector.replace(HOST_PAREN, function(m, host, paren) {\n          return hostScope + paren;\n        });\n      }\n    // if no paren, do a straight :host replacement.\n    // TODO(sorvell): this should not strictly be necessary but\n    // it's needed to maintain support for `:host[foo]` type selectors\n    // which have been improperly used under Shady DOM. This should be\n    // deprecated.\n    } else {\n      return selector.replace(HOST, hostScope);\n    }\n  }\n\n  /**\n   * @param {StyleNode} rule\n   */\n  documentRule(rule) {\n    // reset selector in case this is redone.\n    rule['selector'] = rule['parsedSelector'];\n    this.normalizeRootSelector(rule);\n    this._transformRule(rule, this._transformDocumentSelector);\n  }\n\n  /**\n   * @param {StyleNode} rule\n   */\n  normalizeRootSelector(rule) {\n    if (rule['selector'] === ROOT) {\n      rule['selector'] = 'html';\n    }\n  }\n\n/**\n * @param {string} selector\n */\n  _transformDocumentSelector(selector) {\n    return selector.match(SLOTTED) ?\n      this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR) :\n      this._transformSimpleSelector(selector.trim(), SCOPE_DOC_SELECTOR);\n  }\n}\n\nlet NTH = /:(nth[-\\w]+)\\(([^)]+)\\)/;\nlet SCOPE_DOC_SELECTOR = `:not(.${SCOPE_NAME})`;\nlet COMPLEX_SELECTOR_SEP = ',';\nlet SIMPLE_SELECTOR_SEP = /(^|[\\s>+~]+)((?:\\[.+?\\]|[^\\s>+~=\\[])+)/g;\nlet SIMPLE_SELECTOR_PREFIX = /[[.:#*]/;\nlet HOST = ':host';\nlet ROOT = ':root';\nlet SLOTTED = '::slotted';\nlet SLOTTED_START = new RegExp(`^(${SLOTTED})`);\n// NOTE: this supports 1 nested () pair for things like\n// :host(:not([selected]), more general support requires\n// parsing which seems like overkill\nlet HOST_PAREN = /(:host)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\n// similar to HOST_PAREN\nlet SLOTTED_PAREN = /(?:::slotted)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\nlet DIR_PAREN = /(.*):dir\\((?:(ltr|rtl))\\)/;\nlet CSS_CLASS_PREFIX = '.';\nlet PSEUDO_PREFIX = ':';\nlet CLASS = 'class';\nlet SELECTOR_NO_MATCH = 'should_not_match';\n\nexport default new StyleTransformer()","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {StyleNode} from './css-parse' // eslint-disable-line no-unused-vars\n\n/** @const {string} */\nconst infoKey = '__styleInfo';\n\nexport default class StyleInfo {\n  /**\n   * @param {Element} node\n   * @return {StyleInfo}\n   */\n  static get(node) {\n    if (node) {\n      return node[infoKey];\n    } else {\n      return null;\n    }\n  }\n  /**\n   * @param {!Element} node\n   * @param {StyleInfo} styleInfo\n   * @return {StyleInfo}\n   */\n  static set(node, styleInfo) {\n    node[infoKey] = styleInfo;\n    return styleInfo;\n  }\n  /**\n   * @param {StyleNode} ast\n   * @param {Node=} placeholder\n   * @param {Array<string>=} ownStylePropertyNames\n   * @param {string=} elementName\n   * @param {string=} typeExtension\n   * @param {string=} cssBuild\n   */\n  constructor(ast, placeholder, ownStylePropertyNames, elementName, typeExtension, cssBuild) {\n    /** @type {StyleNode} */\n    this.styleRules = ast || null;\n    /** @type {Node} */\n    this.placeholder = placeholder || null;\n    /** @type {!Array<string>} */\n    this.ownStylePropertyNames = ownStylePropertyNames || [];\n    /** @type {Array<Object>} */\n    this.overrideStyleProperties = null;\n    /** @type {string} */\n    this.elementName = elementName || '';\n    /** @type {string} */\n    this.cssBuild = cssBuild || '';\n    /** @type {string} */\n    this.typeExtension = typeExtension || '';\n    /** @type {Object<string, string>} */\n    this.styleProperties = null;\n    /** @type {?string} */\n    this.scopeSelector = null;\n    /** @type {Node} */\n    this.customStyle = null;\n  }\n}","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {removeCustomPropAssignment, StyleNode} from './css-parse' // eslint-disable-line no-unused-vars\nimport {nativeShadow} from './style-settings'\nimport StyleTransformer from './style-transformer'\nimport * as StyleUtil from './style-util'\nimport * as RX from './common-regex'\nimport StyleInfo from './style-info'\n\n// TODO: dedupe with shady\n/**\n * @const {function(string):boolean}\n */\nconst matchesSelector = ((p) => p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\np.oMatchesSelector || p.webkitMatchesSelector)(window.Element.prototype);\n\nconst IS_IE = navigator.userAgent.match('Trident');\n\nconst XSCOPE_NAME = 'x-scope';\n\nclass StyleProperties {\n  get XSCOPE_NAME() {\n    return XSCOPE_NAME;\n  }\n/**\n * decorates styles with rule info and returns an array of used style property names\n *\n * @param {StyleNode} rules\n * @return {Array<string>}\n */\n  decorateStyles(rules) {\n    let self = this, props = {}, keyframes = [], ruleIndex = 0;\n    StyleUtil.forEachRule(rules, function(rule) {\n      self.decorateRule(rule);\n      // mark in-order position of ast rule in styles block, used for cache key\n      rule.index = ruleIndex++;\n      self.collectPropertiesInCssText(rule.propertyInfo.cssText, props);\n    }, function onKeyframesRule(rule) {\n      keyframes.push(rule);\n    });\n    // Cache all found keyframes rules for later reference:\n    rules._keyframes = keyframes;\n    // return this list of property names *consumes* in these styles.\n    let names = [];\n    for (let i in props) {\n      names.push(i);\n    }\n    return names;\n  }\n\n  // decorate a single rule with property info\n  decorateRule(rule) {\n    if (rule.propertyInfo) {\n      return rule.propertyInfo;\n    }\n    let info = {}, properties = {};\n    let hasProperties = this.collectProperties(rule, properties);\n    if (hasProperties) {\n      info.properties = properties;\n      // TODO(sorvell): workaround parser seeing mixins as additional rules\n      rule['rules'] = null;\n    }\n    info.cssText = this.collectCssText(rule);\n    rule.propertyInfo = info;\n    return info;\n  }\n\n  // collects the custom properties from a rule's cssText\n  collectProperties(rule, properties) {\n    let info = rule.propertyInfo;\n    if (info) {\n      if (info.properties) {\n        Object.assign(properties, info.properties);\n        return true;\n      }\n    } else {\n      let m, rx = RX.VAR_ASSIGN;\n      let cssText = rule['parsedCssText'];\n      let value;\n      let any;\n      while ((m = rx.exec(cssText))) {\n        // note: group 2 is var, 3 is mixin\n        value = (m[2] || m[3]).trim();\n        // value of 'inherit' or 'unset' is equivalent to not setting the property here\n        if (value !== 'inherit' || value !== 'unset') {\n          properties[m[1].trim()] = value;\n        }\n        any = true;\n      }\n      return any;\n    }\n\n  }\n\n  // returns cssText of properties that consume variables/mixins\n  collectCssText(rule) {\n    return this.collectConsumingCssText(rule['parsedCssText']);\n  }\n\n  // NOTE: we support consumption inside mixin assignment\n  // but not production, so strip out {...}\n  collectConsumingCssText(cssText) {\n    return cssText.replace(RX.BRACKETED, '')\n      .replace(RX.VAR_ASSIGN, '');\n  }\n\n  collectPropertiesInCssText(cssText, props) {\n    let m;\n    while ((m = RX.VAR_CONSUMED.exec(cssText))) {\n      let name = m[1];\n      // This regex catches all variable names, and following non-whitespace char\n      // If next char is not ':', then variable is a consumer\n      if (m[2] !== ':') {\n        props[name] = true;\n      }\n    }\n  }\n\n  // turns custom properties into realized values.\n  reify(props) {\n    // big perf optimization here: reify only *own* properties\n    // since this object has __proto__ of the element's scope properties\n    let names = Object.getOwnPropertyNames(props);\n    for (let i=0, n; i < names.length; i++) {\n      n = names[i];\n      props[n] = this.valueForProperty(props[n], props);\n    }\n  }\n\n  // given a property value, returns the reified value\n  // a property value may be:\n  // (1) a literal value like: red or 5px;\n  // (2) a variable value like: var(--a), var(--a, red), or var(--a, --b) or\n  // var(--a, var(--b));\n  // (3) a literal mixin value like { properties }. Each of these properties\n  // can have values that are: (a) literal, (b) variables, (c) @apply mixins.\n  valueForProperty(property, props) {\n    // case (1) default\n    // case (3) defines a mixin and we have to reify the internals\n    if (property) {\n      if (property.indexOf(';') >=0) {\n        property = this.valueForProperties(property, props);\n      } else {\n        // case (2) variable\n        let self = this;\n        let fn = function(prefix, value, fallback, suffix) {\n          if (!value) {\n            return prefix + suffix;\n          }\n          let propertyValue = self.valueForProperty(props[value], props);\n          // if value is \"initial\", then the variable should be treated as unset\n          if (!propertyValue || propertyValue === 'initial') {\n            // fallback may be --a or var(--a) or literal\n            propertyValue = self.valueForProperty(props[fallback] || fallback, props) ||\n            fallback;\n          } else if (propertyValue === 'apply-shim-inherit') {\n            // CSS build will replace `inherit` with `apply-shim-inherit`\n            // for use with native css variables.\n            // Since we have full control, we can use `inherit` directly.\n            propertyValue = 'inherit';\n          }\n          return prefix + (propertyValue || '') + suffix;\n        };\n        property = StyleUtil.processVariableAndFallback(property, fn);\n      }\n    }\n    return property && property.trim() || '';\n  }\n\n  // note: we do not yet support mixin within mixin\n  valueForProperties(property, props) {\n    let parts = property.split(';');\n    for (let i=0, p, m; i<parts.length; i++) {\n      if ((p = parts[i])) {\n        RX.MIXIN_MATCH.lastIndex = 0;\n        m = RX.MIXIN_MATCH.exec(p);\n        if (m) {\n          p = this.valueForProperty(props[m[1]], props);\n        } else {\n          let colon = p.indexOf(':');\n          if (colon !== -1) {\n            let pp = p.substring(colon);\n            pp = pp.trim();\n            pp = this.valueForProperty(pp, props) || pp;\n            p = p.substring(0, colon) + pp;\n          }\n        }\n        parts[i] = (p && p.lastIndexOf(';') === p.length - 1) ?\n          // strip trailing ;\n          p.slice(0, -1) :\n          p || '';\n      }\n    }\n    return parts.join(';');\n  }\n\n  applyProperties(rule, props) {\n    let output = '';\n    // dynamically added sheets may not be decorated so ensure they are.\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (rule.propertyInfo.cssText) {\n      output = this.valueForProperties(rule.propertyInfo.cssText, props);\n    }\n    rule['cssText'] = output;\n  }\n\n  // Apply keyframe transformations to the cssText of a given rule. The\n  // keyframeTransforms object is a map of keyframe names to transformer\n  // functions which take in cssText and spit out transformed cssText.\n  applyKeyframeTransforms(rule, keyframeTransforms) {\n    let input = rule['cssText'];\n    let output = rule['cssText'];\n    if (rule.hasAnimations == null) {\n      // Cache whether or not the rule has any animations to begin with:\n      rule.hasAnimations = RX.ANIMATION_MATCH.test(input);\n    }\n    // If there are no animations referenced, we can skip transforms:\n    if (rule.hasAnimations) {\n      let transform;\n      // If we haven't transformed this rule before, we iterate over all\n      // transforms:\n      if (rule.keyframeNamesToTransform == null) {\n        rule.keyframeNamesToTransform = [];\n        for (let keyframe in keyframeTransforms) {\n          transform = keyframeTransforms[keyframe];\n          output = transform(input);\n          // If the transform actually changed the CSS text, we cache the\n          // transform name for future use:\n          if (input !== output) {\n            input = output;\n            rule.keyframeNamesToTransform.push(keyframe);\n          }\n        }\n      } else {\n        // If we already have a list of keyframe names that apply to this\n        // rule, we apply only those keyframe name transforms:\n        for (let i = 0; i < rule.keyframeNamesToTransform.length; ++i) {\n          transform = keyframeTransforms[rule.keyframeNamesToTransform[i]];\n          input = transform(input);\n        }\n        output = input;\n      }\n    }\n    rule['cssText'] = output;\n  }\n\n  // Test if the rules in these styles matches the given `element` and if so,\n  // collect any custom properties into `props`.\n  /**\n   * @param {StyleNode} rules\n   * @param {Element} element\n   */\n  propertyDataFromStyles(rules, element) {\n    let props = {}, self = this;\n    // generates a unique key for these matches\n    let o = [];\n    // note: active rules excludes non-matching @media rules\n    StyleUtil.forEachRule(rules, function(rule) {\n      // TODO(sorvell): we could trim the set of rules at declaration\n      // time to only include ones that have properties\n      if (!rule.propertyInfo) {\n        self.decorateRule(rule);\n      }\n      // match element against transformedSelector: selector may contain\n      // unwanted uniquification and parsedSelector does not directly match\n      // for :host selectors.\n      let selectorToMatch = rule.transformedSelector || rule['parsedSelector'];\n      if (element && rule.propertyInfo.properties && selectorToMatch) {\n        if (matchesSelector.call(element, selectorToMatch)) {\n          self.collectProperties(rule, props);\n          // produce numeric key for these matches for lookup\n          addToBitMask(rule.index, o);\n        }\n      }\n    }, null, true);\n    return {properties: props, key: o};\n  }\n\n  /**\n   * @param {Element} scope\n   * @param {StyleNode} rule\n   * @param {string|undefined} cssBuild\n   * @param {function(Object)} callback\n   */\n  whenHostOrRootRule(scope, rule, cssBuild, callback) {\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (!rule.propertyInfo.properties) {\n      return;\n    }\n    let isExtends = StyleUtil.getIsExtends(scope);\n    let hostScope = scope.is ?\n      StyleTransformer._calcHostScope(isExtends.is, isExtends.extends) :\n      'html';\n    let parsedSelector = rule['parsedSelector'];\n    let isRoot = (parsedSelector === ':host > *' || parsedSelector === 'html');\n    let isHost = parsedSelector.indexOf(':host') === 0 && !isRoot;\n    // build info is either in scope (when scope is an element) or in the style\n    // when scope is the default scope; note: this allows default scope to have\n    // mixed mode built and unbuilt styles.\n    if (cssBuild === 'shady') {\n      // :root -> x-foo > *.x-foo for elements and html for custom-style\n      isRoot = parsedSelector === (hostScope + ' > *.' + hostScope) || parsedSelector.indexOf('html') !== -1;\n      // :host -> x-foo for elements, but sub-rules have .x-foo in them\n      isHost = !isRoot && parsedSelector.indexOf(hostScope) === 0;\n    }\n    if (cssBuild === 'shadow') {\n      isRoot = parsedSelector === ':host > *' || parsedSelector === 'html';\n      isHost = isHost && !isRoot;\n    }\n    if (!isRoot && !isHost) {\n      return;\n    }\n    let selectorToMatch = hostScope;\n    if (isHost) {\n      // need to transform :host under ShadowDOM because `:host` does not work with `matches`\n      if (nativeShadow && !rule.transformedSelector) {\n        // transform :host into a matchable selector\n        rule.transformedSelector =\n        StyleTransformer._transformRuleCss(\n          rule,\n          StyleTransformer._transformComplexSelector,\n          StyleTransformer._calcElementScope(isExtends.is),\n          hostScope\n        );\n      }\n      selectorToMatch = rule.transformedSelector || hostScope;\n    }\n    callback({\n      selector: selectorToMatch,\n      isHost: isHost,\n      isRoot: isRoot\n    });\n  }\n/**\n * @param {Element} scope\n * @param {StyleNode} rules\n * @return {Object}\n */\n  hostAndRootPropertiesForScope(scope, rules) {\n    let hostProps = {}, rootProps = {}, self = this;\n    // note: active rules excludes non-matching @media rules\n    let cssBuild = rules && rules['__cssBuild'];\n    StyleUtil.forEachRule(rules, function(rule) {\n      // if scope is StyleDefaults, use _element for matchesSelector\n      self.whenHostOrRootRule(scope, rule, cssBuild, function(info) {\n        let element = scope._element || scope;\n        if (matchesSelector.call(element, info.selector)) {\n          if (info.isHost) {\n            self.collectProperties(rule, hostProps);\n          } else {\n            self.collectProperties(rule, rootProps);\n          }\n        }\n      });\n    }, null, true);\n    return {rootProps: rootProps, hostProps: hostProps};\n  }\n\n  /**\n   * @param {Element} element\n   * @param {Object} properties\n   * @param {string} scopeSelector\n   */\n  transformStyles(element, properties, scopeSelector) {\n    let self = this;\n    let isExtends = StyleUtil.getIsExtends(element);\n    let hostSelector = StyleTransformer\n      ._calcHostScope(isExtends.is, isExtends.extends);\n    let rxHostSelector = element.extends ?\n      '\\\\' + hostSelector.slice(0, -1) + '\\\\]' :\n      hostSelector;\n    let hostRx = new RegExp(RX.HOST_PREFIX + rxHostSelector +\n      RX.HOST_SUFFIX);\n    let rules = StyleInfo.get(element).styleRules;\n    let keyframeTransforms =\n      this._elementKeyframeTransforms(element, rules, scopeSelector);\n    return StyleTransformer.elementStyles(element, rules, function(rule) {\n      self.applyProperties(rule, properties);\n      if (!nativeShadow &&\n          !StyleUtil.isKeyframesSelector(rule) &&\n          rule['cssText']) {\n        // NOTE: keyframe transforms only scope munge animation names, so it\n        // is not necessary to apply them in ShadowDOM.\n        self.applyKeyframeTransforms(rule, keyframeTransforms);\n        self._scopeSelector(rule, hostRx, hostSelector, scopeSelector);\n      }\n    });\n  }\n\n  /**\n   * @param {Element} element\n   * @param {StyleNode} rules\n   * @param {string} scopeSelector\n   * @return {Object}\n   */\n  _elementKeyframeTransforms(element, rules, scopeSelector) {\n    let keyframesRules = rules._keyframes;\n    let keyframeTransforms = {};\n    if (!nativeShadow && keyframesRules) {\n      // For non-ShadowDOM, we transform all known keyframes rules in\n      // advance for the current scope. This allows us to catch keyframes\n      // rules that appear anywhere in the stylesheet:\n      for (let i = 0, keyframesRule = keyframesRules[i];\n           i < keyframesRules.length;\n           keyframesRule = keyframesRules[++i]) {\n        this._scopeKeyframes(keyframesRule, scopeSelector);\n        keyframeTransforms[keyframesRule['keyframesName']] =\n            this._keyframesRuleTransformer(keyframesRule);\n      }\n    }\n    return keyframeTransforms;\n  }\n\n  // Generate a factory for transforming a chunk of CSS text to handle a\n  // particular scoped keyframes rule.\n  /**\n   * @param {StyleNode} keyframesRule\n   * @return {function(string):string}\n   */\n  _keyframesRuleTransformer(keyframesRule) {\n    return function(cssText) {\n      return cssText.replace(\n          keyframesRule.keyframesNameRx,\n          keyframesRule.transformedKeyframesName);\n    };\n  }\n\n/**\n * Transforms `@keyframes` names to be unique for the current host.\n * Example: @keyframes foo-anim -> @keyframes foo-anim-x-foo-0\n *\n * @param {StyleNode} rule\n * @param {string} scopeId\n */\n  _scopeKeyframes(rule, scopeId) {\n    rule.keyframesNameRx = new RegExp(rule['keyframesName'], 'g');\n    rule.transformedKeyframesName = rule['keyframesName'] + '-' + scopeId;\n    rule.transformedSelector = rule.transformedSelector || rule['selector'];\n    rule['selector'] = rule.transformedSelector.replace(\n        rule['keyframesName'], rule.transformedKeyframesName);\n  }\n\n  // Strategy: x scope shim a selector e.g. to scope `.x-foo-42` (via classes):\n  // non-host selector: .a.x-foo -> .x-foo-42 .a.x-foo\n  // host selector: x-foo.wide -> .x-foo-42.wide\n  // note: we use only the scope class (.x-foo-42) and not the hostSelector\n  // (x-foo) to scope :host rules; this helps make property host rules\n  // have low specificity. They are overrideable by class selectors but,\n  // unfortunately, not by type selectors (e.g. overriding via\n  // `.special` is ok, but not by `x-foo`).\n  /**\n   * @param {StyleNode} rule\n   * @param {RegExp} hostRx\n   * @param {string} hostSelector\n   * @param {string} scopeId\n   */\n  _scopeSelector(rule, hostRx, hostSelector, scopeId) {\n    rule.transformedSelector = rule.transformedSelector || rule['selector'];\n    let selector = rule.transformedSelector;\n    let scope = '.' + scopeId;\n    let parts = selector.split(',');\n    for (let i=0, l=parts.length, p; (i<l) && (p=parts[i]); i++) {\n      parts[i] = p.match(hostRx) ?\n        p.replace(hostSelector, scope) :\n        scope + ' ' + p;\n    }\n    rule['selector'] = parts.join(',');\n  }\n\n  /**\n   * @param {Element} element\n   * @param {string} selector\n   * @param {string} old\n   */\n  applyElementScopeSelector(element, selector, old) {\n    let c = element.getAttribute('class') || '';\n    let v = c;\n    if (old) {\n      v = c.replace(\n        new RegExp('\\\\s*' + XSCOPE_NAME + '\\\\s*' + old + '\\\\s*', 'g'), ' ');\n    }\n    v += (v ? ' ' : '') + XSCOPE_NAME + ' ' + selector;\n    if (c !== v) {\n      StyleUtil.setElementClassRaw(element, v);\n    }\n  }\n\n  /**\n   * @param {Element} element\n   * @param {Object} properties\n   * @param {string} selector\n   * @param {Element} style\n   * @return {Element}\n   */\n  applyElementStyle(element, properties, selector, style) {\n    // calculate cssText to apply\n    let cssText = style ? style.textContent || '' :\n      this.transformStyles(element, properties, selector);\n    // if shady and we have a cached style that is not style, decrement\n    let styleInfo = StyleInfo.get(element);\n    let s = styleInfo.customStyle;\n    if (s && !nativeShadow && (s !== style)) {\n      s['_useCount']--;\n      if (s['_useCount'] <= 0 && s.parentNode) {\n        s.parentNode.removeChild(s);\n      }\n    }\n    // apply styling always under native or if we generated style\n    // or the cached style is not in document(!)\n    if (nativeShadow) {\n      // update existing style only under native\n      if (styleInfo.customStyle) {\n        styleInfo.customStyle.textContent = cssText;\n        style = styleInfo.customStyle;\n      // otherwise, if we have css to apply, do so\n      } else if (cssText) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        style = StyleUtil.applyCss(cssText, selector, element.shadowRoot,\n          styleInfo.placeholder);\n      }\n    } else {\n      // shady and no cache hit\n      if (!style) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        if (cssText) {\n          style = StyleUtil.applyCss(cssText, selector, null,\n            styleInfo.placeholder);\n        }\n      // shady and cache hit but not in document\n      } else if (!style.parentNode) {\n        StyleUtil.applyStyle(style, null, styleInfo.placeholder);\n      }\n\n    }\n    // ensure this style is our custom style and increment its use count.\n    if (style) {\n      style['_useCount'] = style['_useCount'] || 0;\n      // increment use count if we changed styles\n      if (styleInfo.customStyle != style) {\n        style['_useCount']++;\n      }\n      styleInfo.customStyle = style;\n    }\n    // @media rules may be stale in IE 10 and 11\n    if (IS_IE) {\n      style.textContent = style.textContent;\n    }\n    return style;\n  }\n\n  /**\n   * @param {Element} style\n   * @param {Object} properties\n   */\n  applyCustomStyle(style, properties) {\n    let rules = StyleUtil.rulesForStyle(/** @type {HTMLStyleElement} */(style));\n    let self = this;\n    style.textContent = StyleUtil.toCssText(rules, function(/** StyleNode */rule) {\n      let css = rule['cssText'] = rule['parsedCssText'];\n      if (rule.propertyInfo && rule.propertyInfo.cssText) {\n        // remove property assignments\n        // so next function isn't confused\n        // NOTE: we have 3 categories of css:\n        // (1) normal properties,\n        // (2) custom property assignments (--foo: red;),\n        // (3) custom property usage: border: var(--foo); @apply(--foo);\n        // In elements, 1 and 3 are separated for efficiency; here they\n        // are not and this makes this case unique.\n        css = removeCustomPropAssignment(/** @type {string} */(css));\n        // replace with reified properties, scenario is same as mixin\n        rule['cssText'] = self.valueForProperties(css, properties);\n      }\n    });\n  }\n}\n\n/**\n * @param {number} n\n * @param {Array<number>} bits\n */\nfunction addToBitMask(n, bits) {\n  let o = parseInt(n / 32, 10);\n  let v = 1 << (n % 32);\n  bits[o] = (bits[o] || 0) | v;\n}\n\nexport default new StyleProperties();","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {applyStylePlaceHolder} from './style-util'\nimport {nativeShadow} from './style-settings'\n\nlet placeholderMap = {};\n\n/**\n * @const {Object|undefined}\n */\nconst ce = window['customElements'];\nif (ce && !nativeShadow) {\n  /**\n   * @const {function(string,Function,Object=)}\n   */\n  const origDefine = ce['define'];\n  ce['define'] = function(name, clazz, options) {\n    placeholderMap[name] = applyStylePlaceHolder(name);\n    return origDefine.call(ce, name, clazz, options);\n  };\n}\n\nexport default placeholderMap;\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n'use strict';\n\nexport default class StyleCache {\n  constructor(typeMax = 100) {\n    // map element name -> [{properties, styleElement, scopeSelector}]\n    this.cache = {};\n    this.typeMax = typeMax;\n  }\n\n  _validate(cacheEntry, properties, ownPropertyNames) {\n    for (let idx = 0; idx < ownPropertyNames.length; idx++) {\n      let pn = ownPropertyNames[idx];\n      if (cacheEntry.properties[pn] !== properties[pn]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  store(tagname, properties, styleElement, scopeSelector) {\n    let list = this.cache[tagname] || [];\n    list.push({properties, styleElement, scopeSelector});\n    if (list.length > this.typeMax) {\n      list.shift();\n    }\n    this.cache[tagname] = list;\n  }\n\n  fetch(tagname, properties, ownPropertyNames) {\n    let list = this.cache[tagname];\n    if (!list) {\n      return;\n    }\n    // reverse list for most-recent lookups\n    for (let idx = list.length - 1; idx >= 0; idx--) {\n      let entry = list[idx];\n      if (this._validate(entry, properties, ownPropertyNames)) {\n        return entry;\n      }\n    }\n  }\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {nativeShadow} from './style-settings'\nimport StyleTransformer from './style-transformer'\nimport {getIsExtends} from './style-util'\n\nexport let flush = function() {};\n\nif (!nativeShadow) {\n  let elementNeedsScoping = (element) => {\n    return (element.classList &&\n      !element.classList.contains(StyleTransformer.SCOPE_NAME) ||\n      // note: necessary for IE11\n      (element instanceof window['SVGElement'] && (!element.hasAttribute('class') ||\n      element.getAttribute('class').indexOf(StyleTransformer.SCOPE_NAME) < 0)));\n  }\n\n/**\n * @param {Array<MutationRecord|null>|null} mxns\n */\n  let handler = (mxns) => {\n    for (let x=0; x < mxns.length; x++) {\n      let mxn = mxns[x];\n      if (mxn.target === document.documentElement ||\n        mxn.target === document.head) {\n        continue;\n      }\n      for (let i=0; i < mxn.addedNodes.length; i++) {\n        let n = mxn.addedNodes[i];\n        if (elementNeedsScoping(n)) {\n          let root = n.getRootNode();\n          if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // may no longer be in a shadowroot\n            let host = /** @type {ShadowRoot} */(root).host;\n            if (host) {\n              let {is: scope} = getIsExtends(host);\n              StyleTransformer.dom(n, scope);\n            }\n          }\n        }\n      }\n      for (let i=0; i < mxn.removedNodes.length; i++) {\n        let n = /** @type {HTMLElement} */(mxn.removedNodes[i]);\n        if (n.nodeType === Node.ELEMENT_NODE) {\n          let classes = undefined;\n          if (n.classList) {\n            classes = Array.from(n.classList);\n          } else if (n.hasAttribute('class')) {\n            classes = n.getAttribute('class').split(/\\s+/);\n          }\n          if (classes !== undefined) {\n            // NOTE: relies on the scoping class always being adjacent to the\n            // SCOPE_NAME class.\n            let classIdx = classes.indexOf(StyleTransformer.SCOPE_NAME);\n            if (classIdx >= 0) {\n              let scope = classes[classIdx + 1];\n              if (scope) {\n                StyleTransformer.dom(n, scope, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  let observer = new MutationObserver(handler);\n  let start = (node) => {\n    observer.observe(node, {childList: true, subtree: true});\n  }\n  let nativeCustomElements = (window.customElements &&\n    !window['customElements']['flush']);\n  // need to start immediately with native custom elements\n  // TODO(dfreedm): with polyfilled HTMLImports and native custom elements\n  // excessive mutations may be observed; this can be optimized via cooperation\n  // with the HTMLImports polyfill.\n  if (nativeCustomElements) {\n    start(document);\n  } else {\n    let delayedStart = () => {\n      start(document.body);\n    }\n    // use polyfill timing if it's available\n    if (window['HTMLImports']) {\n      window['HTMLImports']['whenReady'](delayedStart);\n    // otherwise push beyond native imports being ready\n    // which requires RAF + readystate interactive.\n    } else {\n      requestAnimationFrame(function() {\n        if (document.readyState === 'loading') {\n          let listener = function() {\n            delayedStart();\n            document.removeEventListener('readystatechange', listener);\n          }\n          document.addEventListener('readystatechange', listener);\n        } else {\n          delayedStart();\n        }\n      });\n    }\n  }\n\n  flush = function() {\n    handler(observer.takeRecords());\n  }\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nexport default {};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\nimport templateMap from './template-map'\nimport {StyleNode} from './css-parse' // eslint-disable-line no-unused-vars\n\n/**\n * @const {Promise}\n */\nconst promise = Promise.resolve();\n\nexport function invalidate(elementName){\n  let template = templateMap[elementName];\n  if (template) {\n    invalidateTemplate(template);\n  }\n}\n\nexport function invalidateTemplate(template) {\n  template._applyShimInvalid = true;\n}\n\nexport function isValid(elementName) {\n  let template = templateMap[elementName];\n  if (template) {\n    return templateIsValid(template);\n  }\n  return true;\n}\n\nexport function templateIsValid(template) {\n  return !template._applyShimInvalid;\n}\n\nexport function isValidating(elementName) {\n  let template = templateMap[elementName];\n  if (template) {\n    return templateIsValidating(template);\n  }\n  return false;\n}\n\nexport function templateIsValidating(template) {\n  return template._validating;\n}\n\n/*\nthe template is marked as `validating` for one microtask so that all instances\nfound in the tree crawl of `applyStyle` will update themselves,\nbut the template will only be updated once.\n*/\nexport function startValidating(elementName) {\n  let template = templateMap[elementName];\n  startValidatingTemplate(template);\n}\n\nexport function startValidatingTemplate(template) {\n  if (!template._validating) {\n    template._validating = true;\n    promise.then(function() {\n      template._applyShimInvalid = false;\n      template._validating = false;\n    });\n  }\n}\n\nexport class ApplyShimShim {\n  constructor() {\n    /** @type {Object} */\n    this.impl;\n  }\n  ensure() {\n    if (!this.impl) {\n      this.impl = window['ApplyShim'] || {\n        ['detectMixin'](){return false},\n        ['transformRule'](){},\n        ['transformRules'](){},\n        ['transformTemplate'](){},\n        ['transformCustomStyle'](){},\n        ['transformStyle'](){}\n      };\n      this.impl['invalidCallback'] = invalidate;\n    }\n  }\n  /**\n   * @param {string} text\n   * @return {boolean}\n   */\n  detectMixin(text) {\n    this.ensure();\n    return this.impl['detectMixin'](text);\n  }\n  /**\n   * @param {StyleNode} ast\n   * @param {string=} elementName\n   */\n  transformRules(ast, elementName) {\n    this.ensure();\n    return this.impl['transformRules'](ast, elementName);\n  }\n  /**\n   * @param {StyleNode} ast\n   */\n  transformRule(ast) {\n    this.ensure();\n    this.impl['transformRule'](ast);\n  }\n  /**\n   * @param {!HTMLStyleElement} style\n   * @param {string=} elementName\n   */\n  transformStyle(style, elementName = '') {\n    this.ensure();\n    this.impl['transformStyle'](style, elementName);\n  }\n  /**\n   * @param {!HTMLStyleElement} style\n   */\n  transformCustomStyle(style) {\n    this.ensure();\n    this.impl['transformCustomStyle'](style);\n  }\n  /**\n   * @param {!HTMLTemplateElement} template\n   * @param {string} elementName\n   */\n  transformTemplate(template, elementName) {\n    this.ensure();\n    this.impl['transformTemplate'](template, elementName);\n  }\n}","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\n/** @type {Promise<void>} */\nlet readyPromise = null;\n\n/** @type {?function(function())} */\nlet whenReady = window['HTMLImports'] && window['HTMLImports']['whenReady'] || null;\n\n/**\n * @param {function()} callback\n */\nexport default function documentWait(callback) {\n  if (whenReady) {\n    whenReady(callback)\n  } else {\n    if (!readyPromise) {\n      /** @type {function()} */\n      let resolveFn;\n      readyPromise = new Promise((resolve) => {resolveFn = resolve});\n      if (document.readyState === 'complete') {\n        resolveFn();\n      } else {\n        document.addEventListener('readystatechange', () => {\n          if (document.readyState === 'complete') {\n            resolveFn();\n          }\n        });\n      }\n    }\n    readyPromise.then(callback);\n  }\n}","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {parse, StyleNode} from './css-parse'\nimport {nativeShadow, nativeCssVariables} from './style-settings'\nimport StyleTransformer from './style-transformer'\nimport * as StyleUtil from './style-util'\nimport StyleProperties from './style-properties'\nimport placeholderMap from './style-placeholder'\nimport StyleInfo from './style-info'\nimport StyleCache from './style-cache'\nimport {flush as watcherFlush} from './document-watcher'\nimport templateMap from './template-map'\nimport * as ApplyShimUtils from './apply-shim-utils'\nimport documentWait from './document-wait'\n\n/**\n * @const {ApplyShimUtils.ApplyShimShim}\n */\nconst ApplyShim = new ApplyShimUtils.ApplyShimShim();\n\n/**\n * @const {StyleCache}\n */\nconst styleCache = new StyleCache();\n\nexport default class ScopingShim {\n  constructor() {\n    this._scopeCounter = {};\n    this._documentOwner = document.documentElement;\n    let ast = new StyleNode();\n    ast['rules'] = [];\n    this._documentOwnerStyleInfo = StyleInfo.set(document.documentElement, new StyleInfo(ast));\n    this._elementsHaveApplied = false;\n    documentWait(() => {this._ensureCustomStyleInterface()});\n  }\n  flush() {\n    watcherFlush();\n  }\n  _generateScopeSelector(name) {\n    let id = this._scopeCounter[name] = (this._scopeCounter[name] || 0) + 1;\n    return `${name}-${id}`;\n  }\n  getStyleAst(style) {\n    return StyleUtil.rulesForStyle(style);\n  }\n  styleAstToString(ast) {\n    return StyleUtil.toCssText(ast);\n  }\n  _gatherStyles(template) {\n    let styles = template.content.querySelectorAll('style');\n    let cssText = [];\n    for (let i = 0; i < styles.length; i++) {\n      let s = styles[i];\n      cssText.push(s.textContent);\n      s.parentNode.removeChild(s);\n    }\n    return cssText.join('').trim();\n  }\n  _getCssBuild(template) {\n    let style = template.content.querySelector('style');\n    if (!style) {\n      return '';\n    }\n    return style.getAttribute('css-build') || '';\n  }\n  /**\n   * Prepare the styling and template for the given element type\n   *\n   * @param {HTMLTemplateElement} template\n   * @param {string} elementName\n   * @param {string=} typeExtension\n   */\n  prepareTemplate(template, elementName, typeExtension) {\n    if (template._prepared) {\n      return;\n    }\n    template._prepared = true;\n    template.name = elementName;\n    template.extends = typeExtension;\n    templateMap[elementName] = template;\n    let cssBuild = this._getCssBuild(template);\n    let cssText = this._gatherStyles(template);\n    let info = {\n      is: elementName,\n      extends: typeExtension,\n      __cssBuild: cssBuild,\n    };\n    if (!nativeShadow) {\n      StyleTransformer.dom(template.content, elementName);\n    }\n    // check if the styling has mixin definitions or uses\n    let hasMixins = ApplyShim.detectMixin(cssText);\n    let ast = parse(cssText);\n    // only run the applyshim transforms if there is a mixin involved\n    if (hasMixins && nativeCssVariables) {\n      ApplyShim.transformRules(ast, elementName);\n    }\n    template._styleAst = ast;\n    template._cssBuild = cssBuild;\n\n    let ownPropertyNames = [];\n    if (!nativeCssVariables) {\n      ownPropertyNames = StyleProperties.decorateStyles(template._styleAst, info);\n    }\n    if (!ownPropertyNames.length || nativeCssVariables) {\n      let root = nativeShadow ? template.content : null;\n      let placeholder = placeholderMap[elementName];\n      let style = this._generateStaticStyle(info, template._styleAst, root, placeholder);\n      template._style = style;\n    }\n    template._ownPropertyNames = ownPropertyNames;\n  }\n  _generateStaticStyle(info, rules, shadowroot, placeholder) {\n    let cssText = StyleTransformer.elementStyles(info, rules);\n    if (cssText.length) {\n      return StyleUtil.applyCss(cssText, info.is, shadowroot, placeholder);\n    }\n  }\n  _prepareHost(host) {\n    let {is, extends: typeExtension} = StyleUtil.getIsExtends(host);\n    let placeholder = placeholderMap[is];\n    let template = templateMap[is];\n    let ast;\n    let ownStylePropertyNames;\n    let cssBuild;\n    if (template) {\n      ast = template._styleAst;\n      ownStylePropertyNames = template._ownPropertyNames;\n      cssBuild = template._cssBuild;\n    }\n    return StyleInfo.set(host,\n      new StyleInfo(\n        ast,\n        placeholder,\n        ownStylePropertyNames,\n        is,\n        typeExtension,\n        cssBuild\n      )\n    );\n  }\n  _ensureCustomStyleInterface() {\n    if (this._customStyleInterface) {\n      return;\n    } else if (window['CustomStyleInterface']) {\n      this._customStyleInterface = window['CustomStyleInterface'];\n      /** @type {function(!HTMLStyleElement)} */\n      this._customStyleInterface['transformCallback'] = (style) => {this.transformCustomStyleForDocument(style)};\n      this._customStyleInterface['validateCallback'] = () => {\n        requestAnimationFrame(() => {\n          if (this._customStyleInterface['enqueued'] || this._elementsHaveApplied) {\n            this.flushCustomStyles();\n          }\n        })\n      };\n    } else {\n      this._customStyleInterface = {\n        ['findStyles']() {},\n        ['enqueued']: false,\n        ['getStyleForCustomStyle'](s) { return null }\n      }\n    }\n  }\n  /**\n   * Flush and apply custom styles to document\n   */\n  flushCustomStyles() {\n    this._ensureCustomStyleInterface();\n    this._customStyleInterface['findStyles']();\n    // early return if custom-styles don't need validation\n    if (!this._customStyleInterface['enqueued']) {\n      return;\n    }\n    let customStyles = this._customStyleInterface['customStyles'];\n    if (!nativeCssVariables) {\n      this._updateProperties(this._documentOwner, this._documentOwnerStyleInfo);\n      this._applyCustomStyles(customStyles);\n    } else {\n      this._revalidateCustomStyleApplyShim(customStyles);\n    }\n    this._customStyleInterface['enqueued'] = false;\n    // if custom elements have upgraded and there are no native custom properties, we must recalculate the whole tree\n    if (this._elementsHaveApplied && !nativeCssVariables) {\n      this.updateStyles();\n    }\n  }\n  /**\n   * Apply styles for the given element\n   *\n   * @param {!HTMLElement} host\n   * @param {Object=} overrideProps\n   */\n  applyElementStyle(host, overrideProps) {\n    let {is} = StyleUtil.getIsExtends(host);\n    let styleInfo = StyleInfo.get(host);\n    if (!styleInfo) {\n      styleInfo = this._prepareHost(host);\n    }\n    // Only trip the `elementsHaveApplied` flag if a node other that the root document has `applyStyle` called\n    if (!this._isRootOwner(host)) {\n      this._elementsHaveApplied = true;\n    }\n    if (overrideProps) {\n      styleInfo.overrideStyleProperties =\n        styleInfo.overrideStyleProperties || {};\n      Object.assign(styleInfo.overrideStyleProperties, overrideProps);\n    }\n    if (!nativeCssVariables) {\n     this._updateProperties(host, styleInfo);\n      if (styleInfo.ownStylePropertyNames && styleInfo.ownStylePropertyNames.length) {\n        this._applyStyleProperties(host, styleInfo);\n      }\n    } else {\n      if (styleInfo.overrideStyleProperties) {\n        this._updateNativeProperties(host, styleInfo.overrideStyleProperties);\n      }\n      let template = templateMap[is];\n      // bail early if there is no shadowroot for this element\n      if (!template && !this._isRootOwner(host)) {\n        return;\n      }\n      if (template && template._style && !ApplyShimUtils.templateIsValid(template)) {\n        // update template\n        if (!ApplyShimUtils.templateIsValidating(template)) {\n          ApplyShim.transformRules(template._styleAst, is);\n          template._style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n          ApplyShimUtils.startValidatingTemplate(template);\n        }\n        // update instance if native shadowdom\n        if (nativeShadow) {\n          let root = host.shadowRoot;\n          if (root) {\n            let style = root.querySelector('style');\n            style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n          }\n        }\n        styleInfo.styleRules = template._styleAst;\n      }\n    }\n  }\n  _styleOwnerForNode(node) {\n    let root = node.getRootNode();\n    let host = root.host;\n    if (host) {\n      if (StyleInfo.get(host)) {\n        return host;\n      } else {\n        return this._styleOwnerForNode(host);\n      }\n    }\n    return this._documentOwner;\n  }\n  _isRootOwner(node) {\n    return (node === this._documentOwner);\n  }\n  _applyStyleProperties(host, styleInfo) {\n    let is = StyleUtil.getIsExtends(host).is;\n    let cacheEntry = styleCache.fetch(is, styleInfo.styleProperties, styleInfo.ownStylePropertyNames);\n    let cachedScopeSelector = cacheEntry && cacheEntry.scopeSelector;\n    let cachedStyle = cacheEntry ? cacheEntry.styleElement : null;\n    let oldScopeSelector = styleInfo.scopeSelector;\n    // only generate new scope if cached style is not found\n    styleInfo.scopeSelector = cachedScopeSelector || this._generateScopeSelector(is);\n    let style = StyleProperties.applyElementStyle(host, styleInfo.styleProperties, styleInfo.scopeSelector, cachedStyle);\n    if (!nativeShadow) {\n      StyleProperties.applyElementScopeSelector(host, styleInfo.scopeSelector, oldScopeSelector);\n    }\n    if (!cacheEntry) {\n      styleCache.store(is, styleInfo.styleProperties, style, styleInfo.scopeSelector);\n    }\n    return style;\n  }\n  _updateProperties(host, styleInfo) {\n    let owner = this._styleOwnerForNode(host);\n    let ownerStyleInfo = StyleInfo.get(owner);\n    let ownerProperties = ownerStyleInfo.styleProperties;\n    let props = Object.create(ownerProperties || null);\n    let hostAndRootProps = StyleProperties.hostAndRootPropertiesForScope(host, styleInfo.styleRules);\n    let propertyData = StyleProperties.propertyDataFromStyles(ownerStyleInfo.styleRules, host);\n    let propertiesMatchingHost = propertyData.properties\n    Object.assign(\n      props,\n      hostAndRootProps.hostProps,\n      propertiesMatchingHost,\n      hostAndRootProps.rootProps\n    );\n    this._mixinOverrideStyles(props, styleInfo.overrideStyleProperties);\n    StyleProperties.reify(props);\n    styleInfo.styleProperties = props;\n  }\n  _mixinOverrideStyles(props, overrides) {\n    for (let p in overrides) {\n      let v = overrides[p];\n      // skip override props if they are not truthy or 0\n      // in order to fall back to inherited values\n      if (v || v === 0) {\n        props[p] = v;\n      }\n    }\n  }\n  _updateNativeProperties(element, properties) {\n    // remove previous properties\n    for (let p in properties) {\n      // NOTE: for bc with shim, don't apply null values.\n      if (p === null) {\n        element.style.removeProperty(p);\n      } else {\n        element.style.setProperty(p, properties[p]);\n      }\n    }\n  }\n  /**\n   * Update styles of the whole document\n   *\n   * @param {Object=} properties\n   */\n  updateStyles(properties) {\n    this.applySubtreeStyle(this._documentOwner, properties);\n  }\n  /**\n   * Update styles of a subtree\n   *\n   * @param {!HTMLElement} host\n   * @param {Object=} properties\n   */\n  applySubtreeStyle(host, properties) {\n    if (host.shadowRoot || this._isRootOwner(host)) {\n      this.applyElementStyle(host, properties);\n    }\n    // process the shadowdom children of `root`\n    let root = host.shadowRoot;\n    let shadowChildren = root && (root.children || root.childNodes);\n    if (shadowChildren) {\n      for (let i = 0; i < shadowChildren.length; i++) {\n        let c = /** @type {!HTMLElement} */(shadowChildren[i]);\n        this.applySubtreeStyle(c);\n      }\n    }\n    // process the lightdom children of `root`\n    let children = host.children || host.childNodes;\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        let c = /** @type {!HTMLElement} */(children[i]);\n        this.applySubtreeStyle(c);\n      }\n    }\n  }\n  /* Custom Style operations */\n  _revalidateCustomStyleApplyShim(customStyles) {\n    for (let i = 0; i < customStyles.length; i++) {\n      let c = customStyles[i];\n      let s = this._customStyleInterface['getStyleForCustomStyle'](c);\n      if (s) {\n        this._revalidateApplyShim(s);\n      }\n    }\n  }\n  _applyCustomStyles(customStyles) {\n    for (let i = 0; i < customStyles.length; i++) {\n      let c = customStyles[i];\n      let s = this._customStyleInterface['getStyleForCustomStyle'](c);\n      if (s) {\n        StyleProperties.applyCustomStyle(s, this._documentOwnerStyleInfo.styleProperties);\n      }\n    }\n  }\n  transformCustomStyleForDocument(style) {\n    let ast = StyleUtil.rulesForStyle(style);\n    StyleUtil.forEachRule(ast, (rule) => {\n      if (nativeShadow) {\n        StyleTransformer.normalizeRootSelector(rule);\n      } else {\n        StyleTransformer.documentRule(rule);\n      }\n      if (nativeCssVariables) {\n        ApplyShim.transformRule(rule);\n      }\n    });\n    if (nativeCssVariables) {\n      style.textContent = StyleUtil.toCssText(ast);\n    } else {\n      this._documentOwnerStyleInfo.styleRules.rules.push(ast);\n    }\n  }\n  _revalidateApplyShim(style) {\n    if (nativeCssVariables) {\n      let ast = StyleUtil.rulesForStyle(style);\n      ApplyShim.transformRules(ast);\n      style.textContent = StyleUtil.toCssText(ast);\n    }\n  }\n  getComputedStyleValue(element, property) {\n    let value;\n    if (!nativeCssVariables) {\n      // element is either a style host, or an ancestor of a style host\n      let styleInfo = StyleInfo.get(element) || StyleInfo.get(this._styleOwnerForNode(element));\n      value = styleInfo.styleProperties[property];\n    }\n    // fall back to the property value from the computed styling\n    value = value || window.getComputedStyle(element).getPropertyValue(property);\n    // trim whitespace that can come after the `:` in css\n    // example: padding: 2px -> \" 2px\"\n    return value.trim();\n  }\n  // given an element and a classString, replaces\n  // the element's class with the provided classString and adds\n  // any necessary ShadyCSS static and property based scoping selectors\n  setElementClass(element, classString) {\n    let root = element.getRootNode();\n    let classes = classString ? classString.split(/\\s/) : [];\n    let scopeName = root.host && root.host.localName;\n    // If no scope, try to discover scope name from existing class.\n    // This can occur if, for example, a template stamped element that\n    // has been scoped is manipulated when not in a root.\n    if (!scopeName) {\n      var classAttr = element.getAttribute('class');\n      if (classAttr) {\n        let k$ = classAttr.split(/\\s/);\n        for (let i=0; i < k$.length; i++) {\n          if (k$[i] === StyleTransformer.SCOPE_NAME) {\n            scopeName = k$[i+1];\n            break;\n          }\n        }\n      }\n    }\n    if (scopeName) {\n      classes.push(StyleTransformer.SCOPE_NAME, scopeName);\n    }\n    if (!nativeCssVariables) {\n      let styleInfo = StyleInfo.get(element);\n      if (styleInfo && styleInfo.scopeSelector) {\n        classes.push(StyleProperties.XSCOPE_NAME, styleInfo.scopeSelector);\n      }\n    }\n    StyleUtil.setElementClassRaw(element, classes.join(' '));\n  }\n  _styleInfoForNode(node) {\n    return StyleInfo.get(node);\n  }\n}\n\n/* exports */\nScopingShim.prototype['flush'] = ScopingShim.prototype.flush;\nScopingShim.prototype['prepareTemplate'] = ScopingShim.prototype.prepareTemplate;\nScopingShim.prototype['applyElementStyle'] = ScopingShim.prototype.applyElementStyle;\nScopingShim.prototype['updateStyles'] = ScopingShim.prototype.updateStyles;\nScopingShim.prototype['applySubtreeStyle'] = ScopingShim.prototype.applySubtreeStyle;\nScopingShim.prototype['getComputedStyleValue'] = ScopingShim.prototype.getComputedStyleValue;\nScopingShim.prototype['setElementClass'] = ScopingShim.prototype.setElementClass;\nScopingShim.prototype['_styleInfoForNode'] = ScopingShim.prototype._styleInfoForNode;\nScopingShim.prototype['transformCustomStyleForDocument'] = ScopingShim.prototype.transformCustomStyleForDocument;\nScopingShim.prototype['getStyleAst'] = ScopingShim.prototype.getStyleAst;\nScopingShim.prototype['styleAstToString'] = ScopingShim.prototype.styleAstToString;\nScopingShim.prototype['flushCustomStyles'] = ScopingShim.prototype.flushCustomStyles;\nObject.defineProperties(ScopingShim.prototype, {\n  'nativeShadow': {\n    get() {\n      return nativeShadow;\n    }\n  },\n  'nativeCss': {\n    get() {\n      return nativeCssVariables;\n    }\n  }\n});","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nimport ScopingShim from '../src/scoping-shim'\n\nwindow['ScopingShim'] = new ScopingShim();"],"names":["StyleUtil.setElementClassRaw","StyleUtil.toCssText","StyleUtil.getIsExtends","StyleUtil.isKeyframesSelector","StyleUtil.forEachRule","RX.VAR_ASSIGN","RX.BRACKETED","RX.VAR_CONSUMED","StyleUtil.processVariableAndFallback","RX.MIXIN_MATCH","RX.ANIMATION_MATCH","StyleTransformer","RX.HOST_PREFIX","RX.HOST_SUFFIX","StyleUtil.applyCss","StyleUtil.applyStyle","StyleUtil.rulesForStyle","ApplyShimUtils.ApplyShimShim","watcherFlush","StyleProperties","ApplyShimUtils.templateIsValid","ApplyShimUtils.templateIsValidating","ApplyShimUtils.startValidatingTemplate"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY3NzLXBhcnNlLmpzIiwiL1VzZXJzL2RmcmVlZG0vcG9seW1lci9jb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS1zZXR0aW5ncy5qcyIsIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY29tbW9uLXJlZ2V4LmpzIiwiL1VzZXJzL2RmcmVlZG0vcG9seW1lci9jb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS11dGlsLmpzIiwiL1VzZXJzL2RmcmVlZG0vcG9seW1lci9jb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS10cmFuc2Zvcm1lci5qcyIsIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtaW5mby5qcyIsIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtcHJvcGVydGllcy5qcyIsIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtcGxhY2Vob2xkZXIuanMiLCIvVXNlcnMvZGZyZWVkbS9wb2x5bWVyL2NvbXBvbmVudHMvc2hhZHljc3Mvc3JjL3N0eWxlLWNhY2hlLmpzIiwiL1VzZXJzL2RmcmVlZG0vcG9seW1lci9jb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9kb2N1bWVudC13YXRjaGVyLmpzIiwiL1VzZXJzL2RmcmVlZG0vcG9seW1lci9jb21wb25lbnRzL3NoYWR5Y3NzL3NyYy90ZW1wbGF0ZS1tYXAuanMiLCIvVXNlcnMvZGZyZWVkbS9wb2x5bWVyL2NvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2FwcGx5LXNoaW0tdXRpbHMuanMiLCIvVXNlcnMvZGZyZWVkbS9wb2x5bWVyL2NvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2RvY3VtZW50LXdhaXQuanMiLCIvVXNlcnMvZGZyZWVkbS9wb2x5bWVyL2NvbXBvbmVudHMvc2hhZHljc3Mvc3JjL3Njb3Bpbmctc2hpbS5qcyIsIi9Vc2Vycy9kZnJlZWRtL3BvbHltZXIvY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9zY29waW5nLXNoaW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLypcbkV4dHJlbWVseSBzaW1wbGUgY3NzIHBhcnNlci4gSW50ZW5kZWQgdG8gYmUgbm90IG1vcmUgdGhhbiB3aGF0IHdlIG5lZWRcbmFuZCBkZWZpbml0ZWx5IG5vdCBuZWNlc3NhcmlseSBjb3JyZWN0ID0pLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHVucmVzdHJpY3RlZCAqL1xuY2xhc3MgU3R5bGVOb2RlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snc3RhcnQnXSA9IDA7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snZW5kJ10gPSAwO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3ByZXZpb3VzJ10gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3BhcmVudCddID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0FycmF5PFN0eWxlTm9kZT59ICovXG4gICAgdGhpc1sncnVsZXMnXSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkQ3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1snY3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIHRoaXNbJ2F0UnVsZSddID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1sndHlwZSddID0gMDtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydrZXlmcmFtZXNOYW1lJ10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydzZWxlY3RvciddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkU2VsZWN0b3InXSA9ICcnO1xuICB9XG59XG5cbmV4cG9ydCB7U3R5bGVOb2RlfVxuXG4vLyBnaXZlbiBhIHN0cmluZyBvZiBjc3MsIHJldHVybiBhIHNpbXBsZSBydWxlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgdGV4dCA9IGNsZWFuKHRleHQpO1xuICByZXR1cm4gcGFyc2VDc3MobGV4KHRleHQpLCB0ZXh0KTtcbn1cblxuLy8gcmVtb3ZlIHN0dWZmIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhhdCBtYXkgaGluZGVyIHBhcnNpbmdcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2xlYW4oY3NzVGV4dCkge1xuICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKFJYLmNvbW1lbnRzLCAnJykucmVwbGFjZShSWC5wb3J0LCAnJyk7XG59XG5cbi8vIHN1cGVyIHNpbXBsZSB7Li4ufSBsZXhlciB0aGF0IHJldHVybnMgYSBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZnVuY3Rpb24gbGV4KHRleHQpIHtcbiAgbGV0IHJvb3QgPSBuZXcgU3R5bGVOb2RlKCk7XG4gIHJvb3RbJ3N0YXJ0J10gPSAwO1xuICByb290WydlbmQnXSA9IHRleHQubGVuZ3RoXG4gIGxldCBuID0gcm9vdDtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSB0ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSBPUEVOX0JSQUNFKSB7XG4gICAgICBpZiAoIW5bJ3J1bGVzJ10pIHtcbiAgICAgICAgblsncnVsZXMnXSA9IFtdO1xuICAgICAgfVxuICAgICAgbGV0IHAgPSBuO1xuICAgICAgbGV0IHByZXZpb3VzID0gcFsncnVsZXMnXVtwWydydWxlcyddLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gICAgICBuID0gbmV3IFN0eWxlTm9kZSgpO1xuICAgICAgblsnc3RhcnQnXSA9IGkgKyAxO1xuICAgICAgblsncGFyZW50J10gPSBwO1xuICAgICAgblsncHJldmlvdXMnXSA9IHByZXZpb3VzO1xuICAgICAgcFsncnVsZXMnXS5wdXNoKG4pO1xuICAgIH0gZWxzZSBpZiAodGV4dFtpXSA9PT0gQ0xPU0VfQlJBQ0UpIHtcbiAgICAgIG5bJ2VuZCddID0gaSArIDE7XG4gICAgICBuID0gblsncGFyZW50J10gfHwgcm9vdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGFkZCBzZWxlY3RvcnMvY3NzVGV4dCB0byBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ3NzKG5vZGUsIHRleHQpIHtcbiAgbGV0IHQgPSB0ZXh0LnN1YnN0cmluZyhub2RlWydzdGFydCddLCBub2RlWydlbmQnXSAtIDEpO1xuICBub2RlWydwYXJzZWRDc3NUZXh0J10gPSBub2RlWydjc3NUZXh0J10gPSB0LnRyaW0oKTtcbiAgaWYgKG5vZGVbJ3BhcmVudCddKSB7XG4gICAgbGV0IHNzID0gbm9kZVsncHJldmlvdXMnXSA/IG5vZGVbJ3ByZXZpb3VzJ11bJ2VuZCddIDogbm9kZVsncGFyZW50J11bJ3N0YXJ0J107XG4gICAgdCA9IHRleHQuc3Vic3RyaW5nKHNzLCBub2RlWydzdGFydCddIC0gMSk7XG4gICAgdCA9IF9leHBhbmRVbmljb2RlRXNjYXBlcyh0KTtcbiAgICB0ID0gdC5yZXBsYWNlKFJYLm11bHRpcGxlU3BhY2VzLCAnICcpO1xuICAgIC8vIFRPRE8oc29ydmVsbCk6IGFkIGhvYzsgbWFrZSBzZWxlY3RvciBpbmNsdWRlIG9ubHkgYWZ0ZXIgbGFzdCA7XG4gICAgLy8gaGVscHMgd2l0aCBtaXhpbiBzeW50YXhcbiAgICB0ID0gdC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZignOycpICsgMSk7XG4gICAgbGV0IHMgPSBub2RlWydwYXJzZWRTZWxlY3RvciddID0gbm9kZVsnc2VsZWN0b3InXSA9IHQudHJpbSgpO1xuICAgIG5vZGVbJ2F0UnVsZSddID0gKHMuaW5kZXhPZihBVF9TVEFSVCkgPT09IDApO1xuICAgIC8vIG5vdGUsIHN1cHBvcnQgYSBzdWJzZXQgb2YgcnVsZSB0eXBlcy4uLlxuICAgIGlmIChub2RlWydhdFJ1bGUnXSkge1xuICAgICAgaWYgKHMuaW5kZXhPZihNRURJQV9TVEFSVCkgPT09IDApIHtcbiAgICAgICAgbm9kZVsndHlwZSddID0gdHlwZXMuTUVESUFfUlVMRTtcbiAgICAgIH0gZWxzZSBpZiAocy5tYXRjaChSWC5rZXlmcmFtZXNSdWxlKSkge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5LRVlGUkFNRVNfUlVMRTtcbiAgICAgICAgbm9kZVsna2V5ZnJhbWVzTmFtZSddID1cbiAgICAgICAgICBub2RlWydzZWxlY3RvciddLnNwbGl0KFJYLm11bHRpcGxlU3BhY2VzKS5wb3AoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHMuaW5kZXhPZihWQVJfU1RBUlQpID09PSAwKSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLk1JWElOX1JVTEU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5TVFlMRV9SVUxFO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHIkLmxlbmd0aCwgcjtcbiAgICAgIChpIDwgbCkgJiYgKHIgPSByJFtpXSk7IGkrKykge1xuICAgICAgcGFyc2VDc3MociwgdGV4dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGNvbnZlcnNpb24gb2Ygc29ydCB1bmljb2RlIGVzY2FwZXMgd2l0aCBzcGFjZXMgbGlrZSBgXFwzMyBgIChhbmQgbG9uZ2VyKSBpbnRvXG4gKiBleHBhbmRlZCBmb3JtIHRoYXQgZG9lc24ndCByZXF1aXJlIHRyYWlsaW5nIHNwYWNlIGBcXDAwMDAzM2BcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9leHBhbmRVbmljb2RlRXNjYXBlcyhzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1xcXFwoWzAtOWEtZl17MSw2fSlcXHMvZ2ksIGZ1bmN0aW9uKCkge1xuICAgIGxldCBjb2RlID0gYXJndW1lbnRzWzFdLFxuICAgICAgcmVwZWF0ID0gNiAtIGNvZGUubGVuZ3RoO1xuICAgIHdoaWxlIChyZXBlYXQtLSkge1xuICAgICAgY29kZSA9ICcwJyArIGNvZGU7XG4gICAgfVxuICAgIHJldHVybiAnXFxcXCcgKyBjb2RlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBzdHJpbmdpZnkgcGFyc2VkIGNzcy5cbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBwcmVzZXJ2ZVByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG5vZGUsIHByZXNlcnZlUHJvcGVydGllcywgdGV4dCA9ICcnKSB7XG4gIC8vIGNhbGMgcnVsZSBjc3NUZXh0XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGlmIChub2RlWydjc3NUZXh0J10gfHwgbm9kZVsncnVsZXMnXSkge1xuICAgIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gICAgaWYgKHIkICYmICFfaGFzTWl4aW5SdWxlcyhyJCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gciQubGVuZ3RoLCByO1xuICAgICAgICAoaSA8IGwpICYmIChyID0gciRbaV0pOyBpKyspIHtcbiAgICAgICAgY3NzVGV4dCA9IHN0cmluZ2lmeShyLCBwcmVzZXJ2ZVByb3BlcnRpZXMsIGNzc1RleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjc3NUZXh0ID0gcHJlc2VydmVQcm9wZXJ0aWVzID8gbm9kZVsnY3NzVGV4dCddIDpcbiAgICAgICAgcmVtb3ZlQ3VzdG9tUHJvcHMobm9kZVsnY3NzVGV4dCddKTtcbiAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnRyaW0oKTtcbiAgICAgIGlmIChjc3NUZXh0KSB7XG4gICAgICAgIGNzc1RleHQgPSAnICAnICsgY3NzVGV4dCArICdcXG4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbWl0IHJ1bGUgaWYgdGhlcmUgaXMgY3NzVGV4dFxuICBpZiAoY3NzVGV4dCkge1xuICAgIGlmIChub2RlWydzZWxlY3RvciddKSB7XG4gICAgICB0ZXh0ICs9IG5vZGVbJ3NlbGVjdG9yJ10gKyAnICcgKyBPUEVOX0JSQUNFICsgJ1xcbic7XG4gICAgfVxuICAgIHRleHQgKz0gY3NzVGV4dDtcbiAgICBpZiAobm9kZVsnc2VsZWN0b3InXSkge1xuICAgICAgdGV4dCArPSBDTE9TRV9CUkFDRSArICdcXG5cXG4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGV4dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFN0eWxlTm9kZT59IHJ1bGVzXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBfaGFzTWl4aW5SdWxlcyhydWxlcykge1xuICBsZXQgciA9IHJ1bGVzWzBdO1xuICByZXR1cm4gQm9vbGVhbihyKSAmJiBCb29sZWFuKHJbJ3NlbGVjdG9yJ10pICYmIHJbJ3NlbGVjdG9yJ10uaW5kZXhPZihWQVJfU1RBUlQpID09PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUN1c3RvbVByb3BzKGNzc1RleHQpIHtcbiAgY3NzVGV4dCA9IHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KGNzc1RleHQpO1xuICByZXR1cm4gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXN0b21Qcm9wQXNzaWdubWVudChjc3NUZXh0KSB7XG4gIHJldHVybiBjc3NUZXh0XG4gICAgLnJlcGxhY2UoUlguY3VzdG9tUHJvcCwgJycpXG4gICAgLnJlcGxhY2UoUlgubWl4aW5Qcm9wLCAnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpIHtcbiAgcmV0dXJuIGNzc1RleHRcbiAgICAucmVwbGFjZShSWC5taXhpbkFwcGx5LCAnJylcbiAgICAucmVwbGFjZShSWC52YXJBcHBseSwgJycpO1xufVxuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCB0eXBlcyA9IHtcbiAgU1RZTEVfUlVMRTogMSxcbiAgS0VZRlJBTUVTX1JVTEU6IDcsXG4gIE1FRElBX1JVTEU6IDQsXG4gIE1JWElOX1JVTEU6IDEwMDBcbn1cblxuY29uc3QgT1BFTl9CUkFDRSA9ICd7JztcbmNvbnN0IENMT1NFX0JSQUNFID0gJ30nO1xuXG4vLyBoZWxwZXIgcmVnZXhwJ3NcbmNvbnN0IFJYID0ge1xuICBjb21tZW50czogL1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2dpbSxcbiAgcG9ydDogL0BpbXBvcnRbXjtdKjsvZ2ltLFxuICBjdXN0b21Qcm9wOiAvKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qPyg/Ols7XFxuXXwkKS9naW0sXG4gIG1peGluUHJvcDogLyg/Ol5bXjtcXC1cXHN9XSspPy0tW147e31dKj86W157fTtdKj97W159XSo/fSg/Ols7XFxuXXwkKT8vZ2ltLFxuICBtaXhpbkFwcGx5OiAvQGFwcGx5XFxzKlxcKD9bXik7XSpcXCk/XFxzKig/Ols7XFxuXXwkKT8vZ2ltLFxuICB2YXJBcHBseTogL1teOzpdKj86W147XSo/dmFyXFwoW147XSpcXCkoPzpbO1xcbl18JCk/L2dpbSxcbiAga2V5ZnJhbWVzUnVsZTogL15AW15cXHNdKmtleWZyYW1lcy8sXG4gIG11bHRpcGxlU3BhY2VzOiAvXFxzKy9nXG59XG5cbmNvbnN0IFZBUl9TVEFSVCA9ICctLSc7XG5jb25zdCBNRURJQV9TVEFSVCA9ICdAbWVkaWEnO1xuY29uc3QgQVRfU1RBUlQgPSAnQCc7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBsZXQgbmF0aXZlU2hhZG93ID0gISh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKTtcbi8vIGNocm9tZSA0OSBoYXMgc2VtaS13b3JraW5nIGNzcyB2YXJzLCBjaGVjayBpZiBib3gtc2hhZG93IHdvcmtzXG4vLyBzYWZhcmkgOS4xIGhhcyBhIHJlY2FsYyBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTU3ODJcbmV4cG9ydCBsZXQgbmF0aXZlQ3NzVmFyaWFibGVzID0gKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCdBcHBsZVdlYktpdC82MDEnKSAmJlxud2luZG93LkNTUyAmJiBDU1Muc3VwcG9ydHMgJiYgQ1NTLnN1cHBvcnRzKCdib3gtc2hhZG93JywgJzAgMCAwIHZhcigtLWZvbyknKSk7XG5cbi8qKlxuICogQHBhcmFtIHs/T2JqZWN0fSBzZXR0aW5nc1xuICovXG5mdW5jdGlvbiBwYXJzZVNldHRpbmdzKHNldHRpbmdzKSB7XG4gIGlmIChzZXR0aW5ncykge1xuICAgIG5hdGl2ZUNzc1ZhcmlhYmxlcyA9IG5hdGl2ZUNzc1ZhcmlhYmxlcyAmJiAhc2V0dGluZ3NbJ3NoaW1jc3Nwcm9wZXJ0aWVzJ107XG4gICAgbmF0aXZlU2hhZG93ID0gbmF0aXZlU2hhZG93ICYmICFzZXR0aW5nc1snc2hpbXNoYWRvdyddO1xuICB9XG59XG5cbmlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgcGFyc2VTZXR0aW5ncyh3aW5kb3dbJ1NoYWR5Q1NTJ10pO1xufSBlbHNlIGlmICh3aW5kb3cuV2ViQ29tcG9uZW50cykge1xuICBwYXJzZVNldHRpbmdzKHdpbmRvd1snV2ViQ29tcG9uZW50cyddWydmbGFncyddKTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBWQVJfQVNTSUdOID0gLyg/Ol58WztcXHN7XVxccyopKC0tW1xcdy1dKj8pXFxzKjpcXHMqKD86KFteO3tdKil8eyhbXn1dKil9KSg/Oig/PVs7XFxzfV0pfCQpL2dpO1xuZXhwb3J0IGNvbnN0IE1JWElOX01BVENIID0gLyg/Ol58XFxXKylAYXBwbHlcXHMqXFwoPyhbXik7XFxuXSopXFwpPy9naTtcbmV4cG9ydCBjb25zdCBWQVJfQ09OU1VNRUQgPSAvKC0tW1xcdy1dKylcXHMqKFs6LDspXXwkKS9naTtcbmV4cG9ydCBjb25zdCBBTklNQVRJT05fTUFUQ0ggPSAvKGFuaW1hdGlvblxccyo6KXwoYW5pbWF0aW9uLW5hbWVcXHMqOikvO1xuZXhwb3J0IGNvbnN0IE1FRElBX01BVENIID0gL0BtZWRpYVteKF0qKFxcKFteKV0qXFwpKS87XG5leHBvcnQgY29uc3QgSVNfVkFSID0gL14tLS87XG5leHBvcnQgY29uc3QgQlJBQ0tFVEVEID0gL1xce1tefV0qXFx9L2c7XG5leHBvcnQgY29uc3QgSE9TVF9QUkVGSVggPSAnKD86XnxbXi4jWzpdKSc7XG5leHBvcnQgY29uc3QgSE9TVF9TVUZGSVggPSAnKCR8Wy46W1xcXFxzPit+XSknOyIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtuYXRpdmVTaGFkb3csIG5hdGl2ZUNzc1ZhcmlhYmxlc30gZnJvbSAnLi9zdHlsZS1zZXR0aW5ncydcbmltcG9ydCB7cGFyc2UsIHN0cmluZ2lmeSwgdHlwZXMsIFN0eWxlTm9kZX0gZnJvbSAnLi9jc3MtcGFyc2UnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7TUVESUFfTUFUQ0h9IGZyb20gJy4vY29tbW9uLXJlZ2V4JztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xTdHlsZU5vZGV9IHJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFN0eWxlTm9kZSk9fSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Dc3NUZXh0IChydWxlcywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBydWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBydWxlcyA9IHBhcnNlKHJ1bGVzKTtcbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBmb3JFYWNoUnVsZShydWxlcywgY2FsbGJhY2spO1xuICB9XG4gIHJldHVybiBzdHJpbmdpZnkocnVsZXMsIG5hdGl2ZUNzc1ZhcmlhYmxlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybiB7U3R5bGVOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVsZXNGb3JTdHlsZShzdHlsZSkge1xuICBpZiAoIXN0eWxlWydfX2Nzc1J1bGVzJ10gJiYgc3R5bGUudGV4dENvbnRlbnQpIHtcbiAgICBzdHlsZVsnX19jc3NSdWxlcyddID0gcGFyc2Uoc3R5bGUudGV4dENvbnRlbnQpO1xuICB9XG4gIHJldHVybiBzdHlsZVsnX19jc3NSdWxlcyddO1xufVxuXG4vLyBUZXN0cyBpZiBhIHJ1bGUgaXMgYSBrZXlmcmFtZXMgc2VsZWN0b3IsIHdoaWNoIGxvb2tzIGFsbW9zdCBleGFjdGx5XG4vLyBsaWtlIGEgbm9ybWFsIHNlbGVjdG9yIGJ1dCBpcyBub3QgKGl0IGhhcyBub3RoaW5nIHRvIGRvIHdpdGggc2NvcGluZ1xuLy8gZm9yIGV4YW1wbGUpLlxuLyoqXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5ZnJhbWVzU2VsZWN0b3IocnVsZSkge1xuICByZXR1cm4gQm9vbGVhbihydWxlWydwYXJlbnQnXSkgJiZcbiAgcnVsZVsncGFyZW50J11bJ3R5cGUnXSA9PT0gdHlwZXMuS0VZRlJBTUVTX1JVTEU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdHlsZVJ1bGVDYWxsYmFja1xuICogQHBhcmFtIHtGdW5jdGlvbj19IGtleWZyYW1lc1J1bGVDYWxsYmFja1xuICogQHBhcmFtIHtib29sZWFuPX0gb25seUFjdGl2ZVJ1bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUnVsZShub2RlLCBzdHlsZVJ1bGVDYWxsYmFjaywga2V5ZnJhbWVzUnVsZUNhbGxiYWNrLCBvbmx5QWN0aXZlUnVsZXMpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBza2lwUnVsZXMgPSBmYWxzZTtcbiAgbGV0IHR5cGUgPSBub2RlWyd0eXBlJ107XG4gIGlmIChvbmx5QWN0aXZlUnVsZXMpIHtcbiAgICBpZiAodHlwZSA9PT0gdHlwZXMuTUVESUFfUlVMRSkge1xuICAgICAgbGV0IG1hdGNoTWVkaWEgPSBub2RlWydzZWxlY3RvciddLm1hdGNoKE1FRElBX01BVENIKTtcbiAgICAgIGlmIChtYXRjaE1lZGlhKSB7XG4gICAgICAgIC8vIGlmIHJ1bGUgaXMgYSBub24gbWF0Y2hpbmcgQG1lZGlhIHJ1bGUsIHNraXAgc3VicnVsZXNcbiAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShtYXRjaE1lZGlhWzFdKS5tYXRjaGVzKSB7XG4gICAgICAgICAgc2tpcFJ1bGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodHlwZSA9PT0gdHlwZXMuU1RZTEVfUlVMRSkge1xuICAgIHN0eWxlUnVsZUNhbGxiYWNrKG5vZGUpO1xuICB9IGVsc2UgaWYgKGtleWZyYW1lc1J1bGVDYWxsYmFjayAmJlxuICAgIHR5cGUgPT09IHR5cGVzLktFWUZSQU1FU19SVUxFKSB7XG4gICAga2V5ZnJhbWVzUnVsZUNhbGxiYWNrKG5vZGUpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IHR5cGVzLk1JWElOX1JVTEUpIHtcbiAgICBza2lwUnVsZXMgPSB0cnVlO1xuICB9XG4gIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gIGlmIChyJCAmJiAhc2tpcFJ1bGVzKSB7XG4gICAgZm9yIChsZXQgaT0wLCBsPXIkLmxlbmd0aCwgcjsgKGk8bCkgJiYgKHI9ciRbaV0pOyBpKyspIHtcbiAgICAgIGZvckVhY2hSdWxlKHIsIHN0eWxlUnVsZUNhbGxiYWNrLCBrZXlmcmFtZXNSdWxlQ2FsbGJhY2ssIG9ubHlBY3RpdmVSdWxlcyk7XG4gICAgfVxuICB9XG59XG5cbi8vIGFkZCBhIHN0cmluZyBvZiBjc3NUZXh0IHRvIHRoZSBkb2N1bWVudC5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBjb250ZXh0Tm9kZVxuICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q3NzKGNzc1RleHQsIG1vbmlrZXIsIHRhcmdldCwgY29udGV4dE5vZGUpIHtcbiAgbGV0IHN0eWxlID0gY3JlYXRlU2NvcGVTdHlsZShjc3NUZXh0LCBtb25pa2VyKTtcbiAgcmV0dXJuIGFwcGx5U3R5bGUoc3R5bGUsIHRhcmdldCwgY29udGV4dE5vZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gc3R5bGVcbiAqIEBwYXJhbSB7P05vZGV9IHRhcmdldFxuICogQHBhcmFtIHs/Tm9kZX0gY29udGV4dE5vZGVcbiAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlKHN0eWxlLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5oZWFkO1xuICBsZXQgYWZ0ZXIgPSAoY29udGV4dE5vZGUgJiYgY29udGV4dE5vZGUubmV4dFNpYmxpbmcpIHx8XG4gIHRhcmdldC5maXJzdENoaWxkO1xuICBsYXN0SGVhZEFwcGx5Tm9kZSA9IHN0eWxlO1xuICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MU3R5bGVFbGVtZW50fSAqLyh0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBhZnRlcikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlU3R5bGUoY3NzVGV4dCwgbW9uaWtlcikge1xuICBsZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBpZiAobW9uaWtlcikge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnc2NvcGUnLCBtb25pa2VyKTtcbiAgfVxuICBzdHlsZS50ZXh0Q29udGVudCA9IGNzc1RleHQ7XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqIEB0eXBlIHtOb2RlfSAqL1xubGV0IGxhc3RIZWFkQXBwbHlOb2RlID0gbnVsbDtcblxuLy8gaW5zZXJ0IGEgY29tbWVudCBub2RlIGFzIGEgc3R5bGluZyBwb3NpdGlvbiBwbGFjZWhvbGRlci5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vbmlrZXJcbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlUGxhY2VIb2xkZXIobW9uaWtlcikge1xuICBsZXQgcGxhY2VIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgU2hhZHkgRE9NIHN0eWxlcyBmb3IgJyArXG4gICAgbW9uaWtlciArICcgJyk7XG4gIGxldCBhZnRlciA9IGxhc3RIZWFkQXBwbHlOb2RlID9cbiAgICBsYXN0SGVhZEFwcGx5Tm9kZVsnbmV4dFNpYmxpbmcnXSA6IG51bGw7XG4gIGxldCBzY29wZSA9IGRvY3VtZW50LmhlYWQ7XG4gIHNjb3BlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlciwgYWZ0ZXIgfHwgc2NvcGUuZmlyc3RDaGlsZCk7XG4gIGxhc3RIZWFkQXBwbHlOb2RlID0gcGxhY2VIb2xkZXI7XG4gIHJldHVybiBwbGFjZUhvbGRlcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRUeXBlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUYXJnZXRlZEJ1aWxkKGJ1aWxkVHlwZSkge1xuICByZXR1cm4gbmF0aXZlU2hhZG93ID8gYnVpbGRUeXBlID09PSAnc2hhZG93JyA6IGJ1aWxkVHlwZSA9PT0gJ3NoYWR5Jztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4gez9zdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDc3NCdWlsZFR5cGUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Nzcy1idWlsZCcpO1xufVxuXG4vKipcbiAqIFdhbGsgZnJvbSB0ZXh0W3N0YXJ0XSBtYXRjaGluZyBwYXJlbnMgYW5kXG4gKiByZXR1cm5zIHBvc2l0aW9uIG9mIHRoZSBvdXRlciBlbmQgcGFyZW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZE1hdGNoaW5nUGFyZW4odGV4dCwgc3RhcnQpIHtcbiAgbGV0IGxldmVsID0gMDtcbiAgZm9yIChsZXQgaT1zdGFydCwgbD10ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSAnKCcpIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSAnKScpIHtcbiAgICAgIGlmICgtLWxldmVsID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmcpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLCBjYWxsYmFjaykge1xuICAvLyBmaW5kICd2YXIoJ1xuICBsZXQgc3RhcnQgPSBzdHIuaW5kZXhPZigndmFyKCcpO1xuICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgLy8gbm8gdmFyPywgZXZlcnl0aGluZyBpcyBwcmVmaXhcbiAgICByZXR1cm4gY2FsbGJhY2soc3RyLCAnJywgJycsICcnKTtcbiAgfVxuICAvLyR7cHJlZml4fXZhcigke2lubmVyfSkke3N1ZmZpeH1cbiAgbGV0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHN0ciwgc3RhcnQgKyAzKTtcbiAgbGV0IGlubmVyID0gc3RyLnN1YnN0cmluZyhzdGFydCArIDQsIGVuZCk7XG4gIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgLy8gc3VmZml4IG1heSBoYXZlIG90aGVyIHZhcmlhYmxlc1xuICBsZXQgc3VmZml4ID0gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLnN1YnN0cmluZyhlbmQgKyAxKSwgY2FsbGJhY2spO1xuICBsZXQgY29tbWEgPSBpbm5lci5pbmRleE9mKCcsJyk7XG4gIC8vIHZhbHVlIGFuZCBmYWxsYmFjayBhcmdzIHNob3VsZCBiZSB0cmltbWVkIHRvIG1hdGNoIGluIHByb3BlcnR5IGxvb2t1cFxuICBpZiAoY29tbWEgPT09IC0xKSB7XG4gICAgLy8gdmFyaWFibGUsIG5vIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNhbGxiYWNrKHByZWZpeCwgaW5uZXIudHJpbSgpLCAnJywgc3VmZml4KTtcbiAgfVxuICAvLyB2YXIoJHt2YWx1ZX0sJHtmYWxsYmFja30pXG4gIGxldCB2YWx1ZSA9IGlubmVyLnN1YnN0cmluZygwLCBjb21tYSkudHJpbSgpO1xuICBsZXQgZmFsbGJhY2sgPSBpbm5lci5zdWJzdHJpbmcoY29tbWEgKyAxKS50cmltKCk7XG4gIHJldHVybiBjYWxsYmFjayhwcmVmaXgsIHZhbHVlLCBmYWxsYmFjaywgc3VmZml4KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbWVudENsYXNzUmF3KGVsZW1lbnQsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgc2V0QXR0cmlidXRlIHByb3ZpZGVkIGJ5IFNoYWR5RE9NIHdoZW4gc2V0QXR0cmlidXRlIGlzIHBhdGNoZWRcbiAgaWYgKHdpbmRvd1snU2hhZHlET00nXSkge1xuICAgIHdpbmRvd1snU2hhZHlET00nXVsnbmF0aXZlTWV0aG9kcyddWydzZXRBdHRyaWJ1dGUnXS5jYWxsKGVsZW1lbnQsICdjbGFzcycsIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtZW50XG4gKiBAcmV0dXJuIHt7aXM6IHN0cmluZywgZXh0ZW5kczogc3RyaW5nfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElzRXh0ZW5kcyhlbGVtZW50KSB7XG4gIGxldCBpcyA9IGVsZW1lbnQuaXMgfHwgKGVsZW1lbnQuZ2V0QXR0cmlidXRlICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpcycpKSB8fCBlbGVtZW50LmxvY2FsTmFtZTtcbiAgbGV0IGV4dGVuZHogPSBlbGVtZW50LmV4dGVuZHMgfHwgZWxlbWVudC5sb2NhbE5hbWUgIT09IGlzID8gZWxlbWVudC5sb2NhbE5hbWUgOiAnJztcbiAgcmV0dXJuIHtpcywgZXh0ZW5kczogZXh0ZW5ken07XG59IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1N0eWxlTm9kZX0gZnJvbSAnLi9jc3MtcGFyc2UnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCAqIGFzIFN0eWxlVXRpbCBmcm9tICcuL3N0eWxlLXV0aWwnXG5pbXBvcnQge25hdGl2ZVNoYWRvd30gZnJvbSAnLi9zdHlsZS1zZXR0aW5ncydcblxuLyogVHJhbnNmb3JtcyBTaGFkb3dET00gc3R5bGluZyBpbnRvIFNoYWR5RE9NIHN0eWxpbmdcblxuKiBzY29waW5nOlxuXG4gICogZWxlbWVudHMgaW4gc2NvcGUgZ2V0IHNjb3Bpbmcgc2VsZWN0b3IgY2xhc3M9XCJ4LWZvby1zY29wZVwiXG4gICogc2VsZWN0b3JzIHJlLXdyaXR0ZW4gYXMgZm9sbG93czpcblxuICAgIGRpdiBidXR0b24gLT4gZGl2LngtZm9vLXNjb3BlIGJ1dHRvbi54LWZvby1zY29wZVxuXG4qIDpob3N0IC0+IHNjb3BlTmFtZVxuXG4qIDpob3N0KC4uLikgLT4gc2NvcGVOYW1lLi4uXG5cbiogOjpzbG90dGVkKC4uLikgLT4gc2NvcGVOYW1lID4gLi4uXG5cbiogLi4uOmRpcihsdHJ8cnRsKSAtPiBbZGlyPVwibHRyfHJ0bFwiXSAuLi4sIC4uLltkaXI9XCJsdHJ8cnRsXCJdXG5cbiogOmhvc3QoOmRpcltydGxdKSAtPiBzY29wZU5hbWU6ZGlyKHJ0bCkgLT4gW2Rpcj1cInJ0bFwiXSBzY29wZU5hbWUsIHNjb3BlTmFtZVtkaXI9XCJydGxcIl1cblxuKi9cbmNvbnN0IFNDT1BFX05BTUUgPSAnc3R5bGUtc2NvcGUnO1xuXG5jbGFzcyBTdHlsZVRyYW5zZm9ybWVyIHtcbiAgZ2V0IFNDT1BFX05BTUUoKSB7XG4gICAgcmV0dXJuIFNDT1BFX05BTUU7XG4gIH1cbiAgLy8gR2l2ZW4gYSBub2RlIGFuZCBzY29wZSBuYW1lLCBhZGQgYSBzY29waW5nIGNsYXNzIHRvIGVhY2ggbm9kZVxuICAvLyBpbiB0aGUgdHJlZS4gVGhpcyBmYWNpbGl0YXRlcyB0cmFuc2Zvcm1pbmcgY3NzIGludG8gc2NvcGVkIHJ1bGVzLlxuICBkb20obm9kZSwgc2NvcGUsIHNob3VsZFJlbW92ZVNjb3BlKSB7XG4gICAgLy8gb25lIHRpbWUgb3B0aW1pemF0aW9uIHRvIHNraXAgc2NvcGluZy4uLlxuICAgIGlmIChub2RlWydfX3N0eWxlU2NvcGVkJ10pIHtcbiAgICAgIG5vZGVbJ19fc3R5bGVTY29wZWQnXSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybURvbShub2RlLCBzY29wZSB8fCAnJywgc2hvdWxkUmVtb3ZlU2NvcGUpO1xuICAgIH1cbiAgfVxuXG4gIF90cmFuc2Zvcm1Eb20obm9kZSwgc2VsZWN0b3IsIHNob3VsZFJlbW92ZVNjb3BlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICB0aGlzLmVsZW1lbnQobm9kZSwgc2VsZWN0b3IsIHNob3VsZFJlbW92ZVNjb3BlKTtcbiAgICB9XG4gICAgbGV0IGMkID0gKG5vZGUubG9jYWxOYW1lID09PSAndGVtcGxhdGUnKSA/XG4gICAgICAobm9kZS5jb250ZW50IHx8IG5vZGUuX2NvbnRlbnQpLmNoaWxkTm9kZXMgOlxuICAgICAgbm9kZS5jaGlsZHJlbiB8fCBub2RlLmNoaWxkTm9kZXM7XG4gICAgaWYgKGMkKSB7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8YyQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtRG9tKGMkW2ldLCBzZWxlY3Rvciwgc2hvdWxkUmVtb3ZlU2NvcGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVsZW1lbnQoZWxlbWVudCwgc2NvcGUsIHNob3VsZFJlbW92ZVNjb3BlKSB7XG4gICAgLy8gbm90ZTogaWYgdXNpbmcgY2xhc3Nlcywgd2UgYWRkIGJvdGggdGhlIGdlbmVyYWwgJ3N0eWxlLXNjb3BlJyBjbGFzc1xuICAgIC8vIGFzIHdlbGwgYXMgdGhlIHNwZWNpZmljIHNjb3BlLiBUaGlzIGVuYWJsZXMgZWFzeSBmaWx0ZXJpbmcgb2YgYWxsXG4gICAgLy8gYHN0eWxlLXNjb3BlYCBlbGVtZW50c1xuICAgIGlmIChzY29wZSkge1xuICAgICAgLy8gbm90ZTogc3ZnIG9uIElFIGRvZXMgbm90IGhhdmUgY2xhc3NMaXN0IHNvIGZhbGxiYWNrIHRvIGNsYXNzXG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZVNjb3BlKSB7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNDT1BFX05BTUUpO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShzY29wZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNDT1BFX05BTUUpO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgbGV0IGMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShDTEFTUyk7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVTY29wZSkge1xuICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBjLnJlcGxhY2UoU0NPUEVfTkFNRSwgJycpLnJlcGxhY2Uoc2NvcGUsICcnKTtcbiAgICAgICAgICAgIFN0eWxlVXRpbC5zZXRFbGVtZW50Q2xhc3NSYXcoZWxlbWVudCwgbmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSAoYyA/IGMgKyAnICcgOiAnJykgKyBTQ09QRV9OQU1FICsgJyAnICsgc2NvcGU7XG4gICAgICAgICAgU3R5bGVVdGlsLnNldEVsZW1lbnRDbGFzc1JhdyhlbGVtZW50LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIHN0eWxlUnVsZXMsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGNzc0J1aWxkVHlwZSA9IGVsZW1lbnRbJ19fY3NzQnVpbGQnXTtcbiAgICAvLyBubyBuZWVkIHRvIHNoaW0gc2VsZWN0b3JzIGlmIHNldHRpbmdzLnVzZU5hdGl2ZVNoYWRvdywgYWxzb1xuICAgIC8vIGEgc2hhZHkgY3NzIGJ1aWxkIHdpbGwgYWxyZWFkeSBoYXZlIHRyYW5zZm9ybWVkIHNlbGVjdG9yc1xuICAgIC8vIE5PVEU6IFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgYXMgcGFydCBvZiBzdGF0aWMgb3IgcHJvcGVydHkgc2hpbW1pbmcuXG4gICAgLy8gV2hlbiB0aGVyZSBpcyBhIHRhcmdldGVkIGJ1aWxkIGl0IHdpbGwgbm90IGJlIGNhbGxlZCBmb3Igc3RhdGljIHNoaW1taW5nLFxuICAgIC8vIGJ1dCB3aGVuIHRoZSBwcm9wZXJ0eSBzaGltIGlzIHVzZWQgaXQgaXMgY2FsbGVkIGFuZCBzaG91bGQgb3B0IG91dCBvZlxuICAgIC8vIHN0YXRpYyBzaGltbWluZyB3b3JrIHdoZW4gYSBwcm9wZXIgYnVpbGQgZXhpc3RzLlxuICAgIGxldCBjc3NUZXh0ID0gJyc7XG4gICAgaWYgKG5hdGl2ZVNoYWRvdyB8fCBjc3NCdWlsZFR5cGUgPT09ICdzaGFkeScpIHtcbiAgICAgIGNzc1RleHQgPSBTdHlsZVV0aWwudG9Dc3NUZXh0KHN0eWxlUnVsZXMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHtpcywgZXh0ZW5kczogZXh9ID0gU3R5bGVVdGlsLmdldElzRXh0ZW5kcyhlbGVtZW50KTtcbiAgICAgIGNzc1RleHQgPSB0aGlzLmNzcyhzdHlsZVJ1bGVzLCBpcywgZXgsIGNhbGxiYWNrKSArICdcXG5cXG4nO1xuICAgIH1cbiAgICByZXR1cm4gY3NzVGV4dC50cmltKCk7XG4gIH1cblxuICAvLyBHaXZlbiBhIHN0cmluZyBvZiBjc3NUZXh0IGFuZCBhIHNjb3Bpbmcgc3RyaW5nIChzY29wZSksIHJldHVybnNcbiAgLy8gYSBzdHJpbmcgb2Ygc2NvcGVkIGNzcyB3aGVyZSBlYWNoIHNlbGVjdG9yIGlzIHRyYW5zZm9ybWVkIHRvIGluY2x1ZGVcbiAgLy8gYSBjbGFzcyBjcmVhdGVkIGZyb20gdGhlIHNjb3BlLiBTaGFkb3dET00gc2VsZWN0b3JzIGFyZSBhbHNvIHRyYW5zZm9ybWVkXG4gIC8vIChlLmcuIDpob3N0KSB0byB1c2UgdGhlIHNjb3Bpbmcgc2VsZWN0b3IuXG4gIGNzcyhydWxlcywgc2NvcGUsIGV4dCwgY2FsbGJhY2spIHtcbiAgICBsZXQgaG9zdFNjb3BlID0gdGhpcy5fY2FsY0hvc3RTY29wZShzY29wZSwgZXh0KTtcbiAgICBzY29wZSA9IHRoaXMuX2NhbGNFbGVtZW50U2NvcGUoc2NvcGUpO1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gU3R5bGVVdGlsLnRvQ3NzVGV4dChydWxlcywgZnVuY3Rpb24oLyoqIFN0eWxlTm9kZSAqL3J1bGUpIHtcbiAgICAgIGlmICghcnVsZS5pc1Njb3BlZCkge1xuICAgICAgICBzZWxmLnJ1bGUocnVsZSwgc2NvcGUsIGhvc3RTY29wZSk7XG4gICAgICAgIHJ1bGUuaXNTY29wZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKHJ1bGUsIHNjb3BlLCBob3N0U2NvcGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2NhbGNFbGVtZW50U2NvcGUoc2NvcGUpIHtcbiAgICBpZiAoc2NvcGUpIHtcbiAgICAgIHJldHVybiBDU1NfQ0xBU1NfUFJFRklYICsgc2NvcGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICBfY2FsY0hvc3RTY29wZShzY29wZSwgZXh0KSB7XG4gICAgcmV0dXJuIGV4dCA/IGBbaXM9JHtzY29wZX1dYCA6IHNjb3BlO1xuICB9XG5cbiAgcnVsZShydWxlLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgdGhpcy5fdHJhbnNmb3JtUnVsZShydWxlLCB0aGlzLl90cmFuc2Zvcm1Db21wbGV4U2VsZWN0b3IsXG4gICAgICBzY29wZSwgaG9zdFNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0cmFuc2Zvcm1zIGEgY3NzIHJ1bGUgdG8gYSBzY29wZWQgcnVsZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtZXJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzY29wZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IGhvc3RTY29wZVxuICAgKi9cbiAgX3RyYW5zZm9ybVJ1bGUocnVsZSwgdHJhbnNmb3JtZXIsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAvLyBOT1RFOiBzYXZlIHRyYW5zZm9ybWVkU2VsZWN0b3IgZm9yIHN1YnNlcXVlbnQgbWF0Y2hpbmcgb2YgZWxlbWVudHNcbiAgICAvLyBhZ2FpbnN0IHNlbGVjdG9ycyAoZS5nLiB3aGVuIGNhbGN1bGF0aW5nIHN0eWxlIHByb3BlcnRpZXMpXG4gICAgcnVsZVsnc2VsZWN0b3InXSA9IHJ1bGUudHJhbnNmb3JtZWRTZWxlY3RvciA9XG4gICAgICB0aGlzLl90cmFuc2Zvcm1SdWxlQ3NzKHJ1bGUsIHRyYW5zZm9ybWVyLCBzY29wZSwgaG9zdFNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm1lclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNjb3BlXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gaG9zdFNjb3BlXG4gICAqL1xuICBfdHJhbnNmb3JtUnVsZUNzcyhydWxlLCB0cmFuc2Zvcm1lciwgc2NvcGUsIGhvc3RTY29wZSkge1xuICAgIGxldCBwJCA9IHJ1bGVbJ3NlbGVjdG9yJ10uc3BsaXQoQ09NUExFWF9TRUxFQ1RPUl9TRVApO1xuICAgIC8vIHdlIHdhbnQgdG8gc2tpcCB0cmFuc2Zvcm1hdGlvbiBvZiBydWxlcyB0aGF0IGFwcGVhciBpbiBrZXlmcmFtZXMsXG4gICAgLy8gYmVjYXVzZSB0aGV5IGFyZSBrZXlmcmFtZSBzZWxlY3RvcnMsIG5vdCBlbGVtZW50IHNlbGVjdG9ycy5cbiAgICBpZiAoIVN0eWxlVXRpbC5pc0tleWZyYW1lc1NlbGVjdG9yKHJ1bGUpKSB7XG4gICAgICBmb3IgKGxldCBpPTAsIGw9cCQubGVuZ3RoLCBwOyAoaTxsKSAmJiAocD1wJFtpXSk7IGkrKykge1xuICAgICAgICBwJFtpXSA9IHRyYW5zZm9ybWVyLmNhbGwodGhpcywgcCwgc2NvcGUsIGhvc3RTY29wZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwJC5qb2luKENPTVBMRVhfU0VMRUNUT1JfU0VQKTtcbiAgfVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlXG4gKiBAcGFyYW0ge3N0cmluZz19IGhvc3RTY29wZVxuICovXG4gIF90cmFuc2Zvcm1Db21wbGV4U2VsZWN0b3Ioc2VsZWN0b3IsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICBsZXQgc3RvcCA9IGZhbHNlO1xuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IudHJpbSgpO1xuICAgIC8vIFJlbW92ZSBzcGFjZXMgaW5zaWRlIG9mIHNlbGVjdG9ycyBsaWtlIGA6bnRoLW9mLXR5cGVgIGJlY2F1c2UgaXQgY29uZnVzZXMgU0lNUExFX1NFTEVDVE9SX1NFUFxuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShOVEgsIChtLCB0eXBlLCBpbm5lcikgPT4gYDoke3R5cGV9KCR7aW5uZXIucmVwbGFjZSgvXFxzL2csICcnKX0pYCk7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKFNMT1RURURfU1RBUlQsIGAke0hPU1R9ICQxYCk7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKFNJTVBMRV9TRUxFQ1RPUl9TRVAsIChtLCBjLCBzKSA9PiB7XG4gICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgbGV0IGluZm8gPSB0aGlzLl90cmFuc2Zvcm1Db21wb3VuZFNlbGVjdG9yKHMsIGMsIHNjb3BlLCBob3N0U2NvcGUpO1xuICAgICAgICBzdG9wID0gc3RvcCB8fCBpbmZvLnN0b3A7XG4gICAgICAgIGMgPSBpbmZvLmNvbWJpbmF0b3I7XG4gICAgICAgIHMgPSBpbmZvLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGMgKyBzO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfVxuXG4gIF90cmFuc2Zvcm1Db21wb3VuZFNlbGVjdG9yKHNlbGVjdG9yLCBjb21iaW5hdG9yLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgLy8gcmVwbGFjZSA6aG9zdCB3aXRoIGhvc3Qgc2NvcGluZyBjbGFzc1xuICAgIGxldCBzbG90dGVkSW5kZXggPSBzZWxlY3Rvci5pbmRleE9mKFNMT1RURUQpO1xuICAgIGlmIChzZWxlY3Rvci5pbmRleE9mKEhPU1QpID49IDApIHtcbiAgICAgIHNlbGVjdG9yID0gdGhpcy5fdHJhbnNmb3JtSG9zdFNlbGVjdG9yKHNlbGVjdG9yLCBob3N0U2NvcGUpO1xuICAgIC8vIHJlcGxhY2Ugb3RoZXIgc2VsZWN0b3JzIHdpdGggc2NvcGluZyBjbGFzc1xuICAgIH0gZWxzZSBpZiAoc2xvdHRlZEluZGV4ICE9PSAwKSB7XG4gICAgICBzZWxlY3RvciA9IHNjb3BlID8gdGhpcy5fdHJhbnNmb3JtU2ltcGxlU2VsZWN0b3Ioc2VsZWN0b3IsIHNjb3BlKSA6XG4gICAgICAgIHNlbGVjdG9yO1xuICAgIH1cbiAgICAvLyBtYXJrIDo6c2xvdHRlZCgpIHNjb3BlIGp1bXAgdG8gcmVwbGFjZSB3aXRoIGRlc2NlbmRhbnQgc2VsZWN0b3IgKyBhcmdcbiAgICAvLyBhbHNvIGlnbm9yZSBsZWZ0LXNpZGUgY29tYmluYXRvclxuICAgIGxldCBzbG90dGVkID0gZmFsc2U7XG4gICAgaWYgKHNsb3R0ZWRJbmRleCA+PSAwKSB7XG4gICAgICBjb21iaW5hdG9yID0gJyc7XG4gICAgICBzbG90dGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gcHJvY2VzcyBzY29wZSBqdW1waW5nIHNlbGVjdG9ycyB1cCB0byB0aGUgc2NvcGUganVtcCBhbmQgdGhlbiBzdG9wXG4gICAgbGV0IHN0b3A7XG4gICAgaWYgKHNsb3R0ZWQpIHtcbiAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgaWYgKHNsb3R0ZWQpIHtcbiAgICAgICAgLy8gLnpvbmsgOjpzbG90dGVkKC5mb28pIC0+IC56b25rLnNjb3BlID4gLmZvb1xuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoU0xPVFRFRF9QQVJFTiwgKG0sIHBhcmVuKSA9PiBgID4gJHtwYXJlbn1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKERJUl9QQVJFTiwgKG0sIGJlZm9yZSwgZGlyKSA9PlxuICAgICAgYFtkaXI9XCIke2Rpcn1cIl0gJHtiZWZvcmV9LCAke2JlZm9yZX1bZGlyPVwiJHtkaXJ9XCJdYCk7XG4gICAgcmV0dXJuIHt2YWx1ZTogc2VsZWN0b3IsIGNvbWJpbmF0b3IsIHN0b3B9O1xuICB9XG5cbiAgX3RyYW5zZm9ybVNpbXBsZVNlbGVjdG9yKHNlbGVjdG9yLCBzY29wZSkge1xuICAgIGxldCBwJCA9IHNlbGVjdG9yLnNwbGl0KFBTRVVET19QUkVGSVgpO1xuICAgIHAkWzBdICs9IHNjb3BlO1xuICAgIHJldHVybiBwJC5qb2luKFBTRVVET19QUkVGSVgpO1xuICB9XG5cbiAgLy8gOmhvc3QoLi4uKSAtPiBzY29wZU5hbWUuLi5cbiAgX3RyYW5zZm9ybUhvc3RTZWxlY3RvcihzZWxlY3RvciwgaG9zdFNjb3BlKSB7XG4gICAgbGV0IG0gPSBzZWxlY3Rvci5tYXRjaChIT1NUX1BBUkVOKTtcbiAgICBsZXQgcGFyZW4gPSBtICYmIG1bMl0udHJpbSgpIHx8ICcnO1xuICAgIGlmIChwYXJlbikge1xuICAgICAgaWYgKCFwYXJlblswXS5tYXRjaChTSU1QTEVfU0VMRUNUT1JfUFJFRklYKSkge1xuICAgICAgICAvLyBwYXJlbiBzdGFydHMgd2l0aCBhIHR5cGUgc2VsZWN0b3JcbiAgICAgICAgbGV0IHR5cGVTZWxlY3RvciA9IHBhcmVuLnNwbGl0KFNJTVBMRV9TRUxFQ1RPUl9QUkVGSVgpWzBdO1xuICAgICAgICAvLyBpZiB0aGUgdHlwZSBzZWxlY3RvciBpcyBvdXIgaG9zdFNjb3BlIHRoZW4gYXZvaWQgcHJlLXBlbmRpbmcgaXRcbiAgICAgICAgaWYgKHR5cGVTZWxlY3RvciA9PT0gaG9zdFNjb3BlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVuO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgc2VsZWN0b3Igc2hvdWxkIG5vdCBtYXRjaCBpbiB0aGlzIHNjb3BlIHNvXG4gICAgICAgIC8vIG91dHB1dCBhIGJvZ3VzIHNlbGVjdG9yLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBTRUxFQ1RPUl9OT19NQVRDSDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIGRvIGEgcmVwbGFjZSBoZXJlIHRvIGNhdGNoIHNlbGVjdG9ycyBsaWtlOlxuICAgICAgICAvLyBgOmhvc3QoLmZvbyk6OmJlZm9yZWBcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoSE9TVF9QQVJFTiwgZnVuY3Rpb24obSwgaG9zdCwgcGFyZW4pIHtcbiAgICAgICAgICByZXR1cm4gaG9zdFNjb3BlICsgcGFyZW47XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIC8vIGlmIG5vIHBhcmVuLCBkbyBhIHN0cmFpZ2h0IDpob3N0IHJlcGxhY2VtZW50LlxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHRoaXMgc2hvdWxkIG5vdCBzdHJpY3RseSBiZSBuZWNlc3NhcnkgYnV0XG4gICAgLy8gaXQncyBuZWVkZWQgdG8gbWFpbnRhaW4gc3VwcG9ydCBmb3IgYDpob3N0W2Zvb11gIHR5cGUgc2VsZWN0b3JzXG4gICAgLy8gd2hpY2ggaGF2ZSBiZWVuIGltcHJvcGVybHkgdXNlZCB1bmRlciBTaGFkeSBET00uIFRoaXMgc2hvdWxkIGJlXG4gICAgLy8gZGVwcmVjYXRlZC5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoSE9TVCwgaG9zdFNjb3BlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAgICovXG4gIGRvY3VtZW50UnVsZShydWxlKSB7XG4gICAgLy8gcmVzZXQgc2VsZWN0b3IgaW4gY2FzZSB0aGlzIGlzIHJlZG9uZS5cbiAgICBydWxlWydzZWxlY3RvciddID0gcnVsZVsncGFyc2VkU2VsZWN0b3InXTtcbiAgICB0aGlzLm5vcm1hbGl6ZVJvb3RTZWxlY3RvcihydWxlKTtcbiAgICB0aGlzLl90cmFuc2Zvcm1SdWxlKHJ1bGUsIHRoaXMuX3RyYW5zZm9ybURvY3VtZW50U2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBydWxlXG4gICAqL1xuICBub3JtYWxpemVSb290U2VsZWN0b3IocnVsZSkge1xuICAgIGlmIChydWxlWydzZWxlY3RvciddID09PSBST09UKSB7XG4gICAgICBydWxlWydzZWxlY3RvciddID0gJ2h0bWwnO1xuICAgIH1cbiAgfVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICovXG4gIF90cmFuc2Zvcm1Eb2N1bWVudFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLm1hdGNoKFNMT1RURUQpID9cbiAgICAgIHRoaXMuX3RyYW5zZm9ybUNvbXBsZXhTZWxlY3RvcihzZWxlY3RvciwgU0NPUEVfRE9DX1NFTEVDVE9SKSA6XG4gICAgICB0aGlzLl90cmFuc2Zvcm1TaW1wbGVTZWxlY3RvcihzZWxlY3Rvci50cmltKCksIFNDT1BFX0RPQ19TRUxFQ1RPUik7XG4gIH1cbn1cblxubGV0IE5USCA9IC86KG50aFstXFx3XSspXFwoKFteKV0rKVxcKS87XG5sZXQgU0NPUEVfRE9DX1NFTEVDVE9SID0gYDpub3QoLiR7U0NPUEVfTkFNRX0pYDtcbmxldCBDT01QTEVYX1NFTEVDVE9SX1NFUCA9ICcsJztcbmxldCBTSU1QTEVfU0VMRUNUT1JfU0VQID0gLyhefFtcXHM+K35dKykoKD86XFxbLis/XFxdfFteXFxzPit+PVxcW10pKykvZztcbmxldCBTSU1QTEVfU0VMRUNUT1JfUFJFRklYID0gL1tbLjojKl0vO1xubGV0IEhPU1QgPSAnOmhvc3QnO1xubGV0IFJPT1QgPSAnOnJvb3QnO1xubGV0IFNMT1RURUQgPSAnOjpzbG90dGVkJztcbmxldCBTTE9UVEVEX1NUQVJUID0gbmV3IFJlZ0V4cChgXigke1NMT1RURUR9KWApO1xuLy8gTk9URTogdGhpcyBzdXBwb3J0cyAxIG5lc3RlZCAoKSBwYWlyIGZvciB0aGluZ3MgbGlrZVxuLy8gOmhvc3QoOm5vdChbc2VsZWN0ZWRdKSwgbW9yZSBnZW5lcmFsIHN1cHBvcnQgcmVxdWlyZXNcbi8vIHBhcnNpbmcgd2hpY2ggc2VlbXMgbGlrZSBvdmVya2lsbFxubGV0IEhPU1RfUEFSRU4gPSAvKDpob3N0KSg/OlxcKCgoPzpcXChbXikoXSpcXCl8W14pKF0qKSs/KVxcKSkvO1xuLy8gc2ltaWxhciB0byBIT1NUX1BBUkVOXG5sZXQgU0xPVFRFRF9QQVJFTiA9IC8oPzo6OnNsb3R0ZWQpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKS87XG5sZXQgRElSX1BBUkVOID0gLyguKik6ZGlyXFwoKD86KGx0cnxydGwpKVxcKS87XG5sZXQgQ1NTX0NMQVNTX1BSRUZJWCA9ICcuJztcbmxldCBQU0VVRE9fUFJFRklYID0gJzonO1xubGV0IENMQVNTID0gJ2NsYXNzJztcbmxldCBTRUxFQ1RPUl9OT19NQVRDSCA9ICdzaG91bGRfbm90X21hdGNoJztcblxuZXhwb3J0IGRlZmF1bHQgbmV3IFN0eWxlVHJhbnNmb3JtZXIoKSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlJyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IGluZm9LZXkgPSAnX19zdHlsZUluZm8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHlsZUluZm8ge1xuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gICAqIEByZXR1cm4ge1N0eWxlSW5mb31cbiAgICovXG4gIHN0YXRpYyBnZXQobm9kZSkge1xuICAgIGlmIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZVtpbmZvS2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7U3R5bGVJbmZvfSBzdHlsZUluZm9cbiAgICogQHJldHVybiB7U3R5bGVJbmZvfVxuICAgKi9cbiAgc3RhdGljIHNldChub2RlLCBzdHlsZUluZm8pIHtcbiAgICBub2RlW2luZm9LZXldID0gc3R5bGVJbmZvO1xuICAgIHJldHVybiBzdHlsZUluZm87XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBhc3RcbiAgICogQHBhcmFtIHtOb2RlPX0gcGxhY2Vob2xkZXJcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+PX0gb3duU3R5bGVQcm9wZXJ0eU5hbWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gZWxlbWVudE5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB0eXBlRXh0ZW5zaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gY3NzQnVpbGRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFzdCwgcGxhY2Vob2xkZXIsIG93blN0eWxlUHJvcGVydHlOYW1lcywgZWxlbWVudE5hbWUsIHR5cGVFeHRlbnNpb24sIGNzc0J1aWxkKSB7XG4gICAgLyoqIEB0eXBlIHtTdHlsZU5vZGV9ICovXG4gICAgdGhpcy5zdHlsZVJ1bGVzID0gYXN0IHx8IG51bGw7XG4gICAgLyoqIEB0eXBlIHtOb2RlfSAqL1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlciB8fCBudWxsO1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PHN0cmluZz59ICovXG4gICAgdGhpcy5vd25TdHlsZVByb3BlcnR5TmFtZXMgPSBvd25TdHlsZVByb3BlcnR5TmFtZXMgfHwgW107XG4gICAgLyoqIEB0eXBlIHtBcnJheTxPYmplY3Q+fSAqL1xuICAgIHRoaXMub3ZlcnJpZGVTdHlsZVByb3BlcnRpZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXMuZWxlbWVudE5hbWUgPSBlbGVtZW50TmFtZSB8fCAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzLmNzc0J1aWxkID0gY3NzQnVpbGQgfHwgJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpcy50eXBlRXh0ZW5zaW9uID0gdHlwZUV4dGVuc2lvbiB8fCAnJztcbiAgICAvKiogQHR5cGUge09iamVjdDxzdHJpbmcsIHN0cmluZz59ICovXG4gICAgdGhpcy5zdHlsZVByb3BlcnRpZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnNjb3BlU2VsZWN0b3IgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7Tm9kZX0gKi9cbiAgICB0aGlzLmN1c3RvbVN0eWxlID0gbnVsbDtcbiAgfVxufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtyZW1vdmVDdXN0b21Qcm9wQXNzaWdubWVudCwgU3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZScgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHtuYXRpdmVTaGFkb3d9IGZyb20gJy4vc3R5bGUtc2V0dGluZ3MnXG5pbXBvcnQgU3R5bGVUcmFuc2Zvcm1lciBmcm9tICcuL3N0eWxlLXRyYW5zZm9ybWVyJ1xuaW1wb3J0ICogYXMgU3R5bGVVdGlsIGZyb20gJy4vc3R5bGUtdXRpbCdcbmltcG9ydCAqIGFzIFJYIGZyb20gJy4vY29tbW9uLXJlZ2V4J1xuaW1wb3J0IFN0eWxlSW5mbyBmcm9tICcuL3N0eWxlLWluZm8nXG5cbi8vIFRPRE86IGRlZHVwZSB3aXRoIHNoYWR5XG4vKipcbiAqIEBjb25zdCB7ZnVuY3Rpb24oc3RyaW5nKTpib29sZWFufVxuICovXG5jb25zdCBtYXRjaGVzU2VsZWN0b3IgPSAoKHApID0+IHAubWF0Y2hlcyB8fCBwLm1hdGNoZXNTZWxlY3RvciB8fFxuICBwLm1vek1hdGNoZXNTZWxlY3RvciB8fCBwLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG5wLm9NYXRjaGVzU2VsZWN0b3IgfHwgcC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpKHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZSk7XG5cbmNvbnN0IElTX0lFID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgnVHJpZGVudCcpO1xuXG5jb25zdCBYU0NPUEVfTkFNRSA9ICd4LXNjb3BlJztcblxuY2xhc3MgU3R5bGVQcm9wZXJ0aWVzIHtcbiAgZ2V0IFhTQ09QRV9OQU1FKCkge1xuICAgIHJldHVybiBYU0NPUEVfTkFNRTtcbiAgfVxuLyoqXG4gKiBkZWNvcmF0ZXMgc3R5bGVzIHdpdGggcnVsZSBpbmZvIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHVzZWQgc3R5bGUgcHJvcGVydHkgbmFtZXNcbiAqXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZXNcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59XG4gKi9cbiAgZGVjb3JhdGVTdHlsZXMocnVsZXMpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMsIHByb3BzID0ge30sIGtleWZyYW1lcyA9IFtdLCBydWxlSW5kZXggPSAwO1xuICAgIFN0eWxlVXRpbC5mb3JFYWNoUnVsZShydWxlcywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgc2VsZi5kZWNvcmF0ZVJ1bGUocnVsZSk7XG4gICAgICAvLyBtYXJrIGluLW9yZGVyIHBvc2l0aW9uIG9mIGFzdCBydWxlIGluIHN0eWxlcyBibG9jaywgdXNlZCBmb3IgY2FjaGUga2V5XG4gICAgICBydWxlLmluZGV4ID0gcnVsZUluZGV4Kys7XG4gICAgICBzZWxmLmNvbGxlY3RQcm9wZXJ0aWVzSW5Dc3NUZXh0KHJ1bGUucHJvcGVydHlJbmZvLmNzc1RleHQsIHByb3BzKTtcbiAgICB9LCBmdW5jdGlvbiBvbktleWZyYW1lc1J1bGUocnVsZSkge1xuICAgICAga2V5ZnJhbWVzLnB1c2gocnVsZSk7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgYWxsIGZvdW5kIGtleWZyYW1lcyBydWxlcyBmb3IgbGF0ZXIgcmVmZXJlbmNlOlxuICAgIHJ1bGVzLl9rZXlmcmFtZXMgPSBrZXlmcmFtZXM7XG4gICAgLy8gcmV0dXJuIHRoaXMgbGlzdCBvZiBwcm9wZXJ0eSBuYW1lcyAqY29uc3VtZXMqIGluIHRoZXNlIHN0eWxlcy5cbiAgICBsZXQgbmFtZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpIGluIHByb3BzKSB7XG4gICAgICBuYW1lcy5wdXNoKGkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXM7XG4gIH1cblxuICAvLyBkZWNvcmF0ZSBhIHNpbmdsZSBydWxlIHdpdGggcHJvcGVydHkgaW5mb1xuICBkZWNvcmF0ZVJ1bGUocnVsZSkge1xuICAgIGlmIChydWxlLnByb3BlcnR5SW5mbykge1xuICAgICAgcmV0dXJuIHJ1bGUucHJvcGVydHlJbmZvO1xuICAgIH1cbiAgICBsZXQgaW5mbyA9IHt9LCBwcm9wZXJ0aWVzID0ge307XG4gICAgbGV0IGhhc1Byb3BlcnRpZXMgPSB0aGlzLmNvbGxlY3RQcm9wZXJ0aWVzKHJ1bGUsIHByb3BlcnRpZXMpO1xuICAgIGlmIChoYXNQcm9wZXJ0aWVzKSB7XG4gICAgICBpbmZvLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogd29ya2Fyb3VuZCBwYXJzZXIgc2VlaW5nIG1peGlucyBhcyBhZGRpdGlvbmFsIHJ1bGVzXG4gICAgICBydWxlWydydWxlcyddID0gbnVsbDtcbiAgICB9XG4gICAgaW5mby5jc3NUZXh0ID0gdGhpcy5jb2xsZWN0Q3NzVGV4dChydWxlKTtcbiAgICBydWxlLnByb3BlcnR5SW5mbyA9IGluZm87XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICAvLyBjb2xsZWN0cyB0aGUgY3VzdG9tIHByb3BlcnRpZXMgZnJvbSBhIHJ1bGUncyBjc3NUZXh0XG4gIGNvbGxlY3RQcm9wZXJ0aWVzKHJ1bGUsIHByb3BlcnRpZXMpIHtcbiAgICBsZXQgaW5mbyA9IHJ1bGUucHJvcGVydHlJbmZvO1xuICAgIGlmIChpbmZvKSB7XG4gICAgICBpZiAoaW5mby5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtLCByeCA9IFJYLlZBUl9BU1NJR047XG4gICAgICBsZXQgY3NzVGV4dCA9IHJ1bGVbJ3BhcnNlZENzc1RleHQnXTtcbiAgICAgIGxldCB2YWx1ZTtcbiAgICAgIGxldCBhbnk7XG4gICAgICB3aGlsZSAoKG0gPSByeC5leGVjKGNzc1RleHQpKSkge1xuICAgICAgICAvLyBub3RlOiBncm91cCAyIGlzIHZhciwgMyBpcyBtaXhpblxuICAgICAgICB2YWx1ZSA9IChtWzJdIHx8IG1bM10pLnRyaW0oKTtcbiAgICAgICAgLy8gdmFsdWUgb2YgJ2luaGVyaXQnIG9yICd1bnNldCcgaXMgZXF1aXZhbGVudCB0byBub3Qgc2V0dGluZyB0aGUgcHJvcGVydHkgaGVyZVxuICAgICAgICBpZiAodmFsdWUgIT09ICdpbmhlcml0JyB8fCB2YWx1ZSAhPT0gJ3Vuc2V0Jykge1xuICAgICAgICAgIHByb3BlcnRpZXNbbVsxXS50cmltKCldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYW55ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbnk7XG4gICAgfVxuXG4gIH1cblxuICAvLyByZXR1cm5zIGNzc1RleHQgb2YgcHJvcGVydGllcyB0aGF0IGNvbnN1bWUgdmFyaWFibGVzL21peGluc1xuICBjb2xsZWN0Q3NzVGV4dChydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdENvbnN1bWluZ0Nzc1RleHQocnVsZVsncGFyc2VkQ3NzVGV4dCddKTtcbiAgfVxuXG4gIC8vIE5PVEU6IHdlIHN1cHBvcnQgY29uc3VtcHRpb24gaW5zaWRlIG1peGluIGFzc2lnbm1lbnRcbiAgLy8gYnV0IG5vdCBwcm9kdWN0aW9uLCBzbyBzdHJpcCBvdXQgey4uLn1cbiAgY29sbGVjdENvbnN1bWluZ0Nzc1RleHQoY3NzVGV4dCkge1xuICAgIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoUlguQlJBQ0tFVEVELCAnJylcbiAgICAgIC5yZXBsYWNlKFJYLlZBUl9BU1NJR04sICcnKTtcbiAgfVxuXG4gIGNvbGxlY3RQcm9wZXJ0aWVzSW5Dc3NUZXh0KGNzc1RleHQsIHByb3BzKSB7XG4gICAgbGV0IG07XG4gICAgd2hpbGUgKChtID0gUlguVkFSX0NPTlNVTUVELmV4ZWMoY3NzVGV4dCkpKSB7XG4gICAgICBsZXQgbmFtZSA9IG1bMV07XG4gICAgICAvLyBUaGlzIHJlZ2V4IGNhdGNoZXMgYWxsIHZhcmlhYmxlIG5hbWVzLCBhbmQgZm9sbG93aW5nIG5vbi13aGl0ZXNwYWNlIGNoYXJcbiAgICAgIC8vIElmIG5leHQgY2hhciBpcyBub3QgJzonLCB0aGVuIHZhcmlhYmxlIGlzIGEgY29uc3VtZXJcbiAgICAgIGlmIChtWzJdICE9PSAnOicpIHtcbiAgICAgICAgcHJvcHNbbmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHR1cm5zIGN1c3RvbSBwcm9wZXJ0aWVzIGludG8gcmVhbGl6ZWQgdmFsdWVzLlxuICByZWlmeShwcm9wcykge1xuICAgIC8vIGJpZyBwZXJmIG9wdGltaXphdGlvbiBoZXJlOiByZWlmeSBvbmx5ICpvd24qIHByb3BlcnRpZXNcbiAgICAvLyBzaW5jZSB0aGlzIG9iamVjdCBoYXMgX19wcm90b19fIG9mIHRoZSBlbGVtZW50J3Mgc2NvcGUgcHJvcGVydGllc1xuICAgIGxldCBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKTtcbiAgICBmb3IgKGxldCBpPTAsIG47IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbiA9IG5hbWVzW2ldO1xuICAgICAgcHJvcHNbbl0gPSB0aGlzLnZhbHVlRm9yUHJvcGVydHkocHJvcHNbbl0sIHByb3BzKTtcbiAgICB9XG4gIH1cblxuICAvLyBnaXZlbiBhIHByb3BlcnR5IHZhbHVlLCByZXR1cm5zIHRoZSByZWlmaWVkIHZhbHVlXG4gIC8vIGEgcHJvcGVydHkgdmFsdWUgbWF5IGJlOlxuICAvLyAoMSkgYSBsaXRlcmFsIHZhbHVlIGxpa2U6IHJlZCBvciA1cHg7XG4gIC8vICgyKSBhIHZhcmlhYmxlIHZhbHVlIGxpa2U6IHZhcigtLWEpLCB2YXIoLS1hLCByZWQpLCBvciB2YXIoLS1hLCAtLWIpIG9yXG4gIC8vIHZhcigtLWEsIHZhcigtLWIpKTtcbiAgLy8gKDMpIGEgbGl0ZXJhbCBtaXhpbiB2YWx1ZSBsaWtlIHsgcHJvcGVydGllcyB9LiBFYWNoIG9mIHRoZXNlIHByb3BlcnRpZXNcbiAgLy8gY2FuIGhhdmUgdmFsdWVzIHRoYXQgYXJlOiAoYSkgbGl0ZXJhbCwgKGIpIHZhcmlhYmxlcywgKGMpIEBhcHBseSBtaXhpbnMuXG4gIHZhbHVlRm9yUHJvcGVydHkocHJvcGVydHksIHByb3BzKSB7XG4gICAgLy8gY2FzZSAoMSkgZGVmYXVsdFxuICAgIC8vIGNhc2UgKDMpIGRlZmluZXMgYSBtaXhpbiBhbmQgd2UgaGF2ZSB0byByZWlmeSB0aGUgaW50ZXJuYWxzXG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICBpZiAocHJvcGVydHkuaW5kZXhPZignOycpID49MCkge1xuICAgICAgICBwcm9wZXJ0eSA9IHRoaXMudmFsdWVGb3JQcm9wZXJ0aWVzKHByb3BlcnR5LCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjYXNlICgyKSB2YXJpYWJsZVxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBmbiA9IGZ1bmN0aW9uKHByZWZpeCwgdmFsdWUsIGZhbGxiYWNrLCBzdWZmaXgpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgc3VmZml4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IHNlbGYudmFsdWVGb3JQcm9wZXJ0eShwcm9wc1t2YWx1ZV0sIHByb3BzKTtcbiAgICAgICAgICAvLyBpZiB2YWx1ZSBpcyBcImluaXRpYWxcIiwgdGhlbiB0aGUgdmFyaWFibGUgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgdW5zZXRcbiAgICAgICAgICBpZiAoIXByb3BlcnR5VmFsdWUgfHwgcHJvcGVydHlWYWx1ZSA9PT0gJ2luaXRpYWwnKSB7XG4gICAgICAgICAgICAvLyBmYWxsYmFjayBtYXkgYmUgLS1hIG9yIHZhcigtLWEpIG9yIGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBzZWxmLnZhbHVlRm9yUHJvcGVydHkocHJvcHNbZmFsbGJhY2tdIHx8IGZhbGxiYWNrLCBwcm9wcykgfHxcbiAgICAgICAgICAgIGZhbGxiYWNrO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlWYWx1ZSA9PT0gJ2FwcGx5LXNoaW0taW5oZXJpdCcpIHtcbiAgICAgICAgICAgIC8vIENTUyBidWlsZCB3aWxsIHJlcGxhY2UgYGluaGVyaXRgIHdpdGggYGFwcGx5LXNoaW0taW5oZXJpdGBcbiAgICAgICAgICAgIC8vIGZvciB1c2Ugd2l0aCBuYXRpdmUgY3NzIHZhcmlhYmxlcy5cbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIGhhdmUgZnVsbCBjb250cm9sLCB3ZSBjYW4gdXNlIGBpbmhlcml0YCBkaXJlY3RseS5cbiAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSAnaW5oZXJpdCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmVmaXggKyAocHJvcGVydHlWYWx1ZSB8fCAnJykgKyBzdWZmaXg7XG4gICAgICAgIH07XG4gICAgICAgIHByb3BlcnR5ID0gU3R5bGVVdGlsLnByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrKHByb3BlcnR5LCBmbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS50cmltKCkgfHwgJyc7XG4gIH1cblxuICAvLyBub3RlOiB3ZSBkbyBub3QgeWV0IHN1cHBvcnQgbWl4aW4gd2l0aGluIG1peGluXG4gIHZhbHVlRm9yUHJvcGVydGllcyhwcm9wZXJ0eSwgcHJvcHMpIHtcbiAgICBsZXQgcGFydHMgPSBwcm9wZXJ0eS5zcGxpdCgnOycpO1xuICAgIGZvciAobGV0IGk9MCwgcCwgbTsgaTxwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKChwID0gcGFydHNbaV0pKSB7XG4gICAgICAgIFJYLk1JWElOX01BVENILmxhc3RJbmRleCA9IDA7XG4gICAgICAgIG0gPSBSWC5NSVhJTl9NQVRDSC5leGVjKHApO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHAgPSB0aGlzLnZhbHVlRm9yUHJvcGVydHkocHJvcHNbbVsxXV0sIHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgY29sb24gPSBwLmluZGV4T2YoJzonKTtcbiAgICAgICAgICBpZiAoY29sb24gIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgcHAgPSBwLnN1YnN0cmluZyhjb2xvbik7XG4gICAgICAgICAgICBwcCA9IHBwLnRyaW0oKTtcbiAgICAgICAgICAgIHBwID0gdGhpcy52YWx1ZUZvclByb3BlcnR5KHBwLCBwcm9wcykgfHwgcHA7XG4gICAgICAgICAgICBwID0gcC5zdWJzdHJpbmcoMCwgY29sb24pICsgcHA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBhcnRzW2ldID0gKHAgJiYgcC5sYXN0SW5kZXhPZignOycpID09PSBwLmxlbmd0aCAtIDEpID9cbiAgICAgICAgICAvLyBzdHJpcCB0cmFpbGluZyA7XG4gICAgICAgICAgcC5zbGljZSgwLCAtMSkgOlxuICAgICAgICAgIHAgfHwgJyc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKCc7Jyk7XG4gIH1cblxuICBhcHBseVByb3BlcnRpZXMocnVsZSwgcHJvcHMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgLy8gZHluYW1pY2FsbHkgYWRkZWQgc2hlZXRzIG1heSBub3QgYmUgZGVjb3JhdGVkIHNvIGVuc3VyZSB0aGV5IGFyZS5cbiAgICBpZiAoIXJ1bGUucHJvcGVydHlJbmZvKSB7XG4gICAgICB0aGlzLmRlY29yYXRlUnVsZShydWxlKTtcbiAgICB9XG4gICAgaWYgKHJ1bGUucHJvcGVydHlJbmZvLmNzc1RleHQpIHtcbiAgICAgIG91dHB1dCA9IHRoaXMudmFsdWVGb3JQcm9wZXJ0aWVzKHJ1bGUucHJvcGVydHlJbmZvLmNzc1RleHQsIHByb3BzKTtcbiAgICB9XG4gICAgcnVsZVsnY3NzVGV4dCddID0gb3V0cHV0O1xuICB9XG5cbiAgLy8gQXBwbHkga2V5ZnJhbWUgdHJhbnNmb3JtYXRpb25zIHRvIHRoZSBjc3NUZXh0IG9mIGEgZ2l2ZW4gcnVsZS4gVGhlXG4gIC8vIGtleWZyYW1lVHJhbnNmb3JtcyBvYmplY3QgaXMgYSBtYXAgb2Yga2V5ZnJhbWUgbmFtZXMgdG8gdHJhbnNmb3JtZXJcbiAgLy8gZnVuY3Rpb25zIHdoaWNoIHRha2UgaW4gY3NzVGV4dCBhbmQgc3BpdCBvdXQgdHJhbnNmb3JtZWQgY3NzVGV4dC5cbiAgYXBwbHlLZXlmcmFtZVRyYW5zZm9ybXMocnVsZSwga2V5ZnJhbWVUcmFuc2Zvcm1zKSB7XG4gICAgbGV0IGlucHV0ID0gcnVsZVsnY3NzVGV4dCddO1xuICAgIGxldCBvdXRwdXQgPSBydWxlWydjc3NUZXh0J107XG4gICAgaWYgKHJ1bGUuaGFzQW5pbWF0aW9ucyA9PSBudWxsKSB7XG4gICAgICAvLyBDYWNoZSB3aGV0aGVyIG9yIG5vdCB0aGUgcnVsZSBoYXMgYW55IGFuaW1hdGlvbnMgdG8gYmVnaW4gd2l0aDpcbiAgICAgIHJ1bGUuaGFzQW5pbWF0aW9ucyA9IFJYLkFOSU1BVElPTl9NQVRDSC50ZXN0KGlucHV0KTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIGFuaW1hdGlvbnMgcmVmZXJlbmNlZCwgd2UgY2FuIHNraXAgdHJhbnNmb3JtczpcbiAgICBpZiAocnVsZS5oYXNBbmltYXRpb25zKSB7XG4gICAgICBsZXQgdHJhbnNmb3JtO1xuICAgICAgLy8gSWYgd2UgaGF2ZW4ndCB0cmFuc2Zvcm1lZCB0aGlzIHJ1bGUgYmVmb3JlLCB3ZSBpdGVyYXRlIG92ZXIgYWxsXG4gICAgICAvLyB0cmFuc2Zvcm1zOlxuICAgICAgaWYgKHJ1bGUua2V5ZnJhbWVOYW1lc1RvVHJhbnNmb3JtID09IG51bGwpIHtcbiAgICAgICAgcnVsZS5rZXlmcmFtZU5hbWVzVG9UcmFuc2Zvcm0gPSBbXTtcbiAgICAgICAgZm9yIChsZXQga2V5ZnJhbWUgaW4ga2V5ZnJhbWVUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgdHJhbnNmb3JtID0ga2V5ZnJhbWVUcmFuc2Zvcm1zW2tleWZyYW1lXTtcbiAgICAgICAgICBvdXRwdXQgPSB0cmFuc2Zvcm0oaW5wdXQpO1xuICAgICAgICAgIC8vIElmIHRoZSB0cmFuc2Zvcm0gYWN0dWFsbHkgY2hhbmdlZCB0aGUgQ1NTIHRleHQsIHdlIGNhY2hlIHRoZVxuICAgICAgICAgIC8vIHRyYW5zZm9ybSBuYW1lIGZvciBmdXR1cmUgdXNlOlxuICAgICAgICAgIGlmIChpbnB1dCAhPT0gb3V0cHV0KSB7XG4gICAgICAgICAgICBpbnB1dCA9IG91dHB1dDtcbiAgICAgICAgICAgIHJ1bGUua2V5ZnJhbWVOYW1lc1RvVHJhbnNmb3JtLnB1c2goa2V5ZnJhbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgbGlzdCBvZiBrZXlmcmFtZSBuYW1lcyB0aGF0IGFwcGx5IHRvIHRoaXNcbiAgICAgICAgLy8gcnVsZSwgd2UgYXBwbHkgb25seSB0aG9zZSBrZXlmcmFtZSBuYW1lIHRyYW5zZm9ybXM6XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcnVsZS5rZXlmcmFtZU5hbWVzVG9UcmFuc2Zvcm0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB0cmFuc2Zvcm0gPSBrZXlmcmFtZVRyYW5zZm9ybXNbcnVsZS5rZXlmcmFtZU5hbWVzVG9UcmFuc2Zvcm1baV1dO1xuICAgICAgICAgIGlucHV0ID0gdHJhbnNmb3JtKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgPSBpbnB1dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcnVsZVsnY3NzVGV4dCddID0gb3V0cHV0O1xuICB9XG5cbiAgLy8gVGVzdCBpZiB0aGUgcnVsZXMgaW4gdGhlc2Ugc3R5bGVzIG1hdGNoZXMgdGhlIGdpdmVuIGBlbGVtZW50YCBhbmQgaWYgc28sXG4gIC8vIGNvbGxlY3QgYW55IGN1c3RvbSBwcm9wZXJ0aWVzIGludG8gYHByb3BzYC5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBydWxlc1xuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICovXG4gIHByb3BlcnR5RGF0YUZyb21TdHlsZXMocnVsZXMsIGVsZW1lbnQpIHtcbiAgICBsZXQgcHJvcHMgPSB7fSwgc2VsZiA9IHRoaXM7XG4gICAgLy8gZ2VuZXJhdGVzIGEgdW5pcXVlIGtleSBmb3IgdGhlc2UgbWF0Y2hlc1xuICAgIGxldCBvID0gW107XG4gICAgLy8gbm90ZTogYWN0aXZlIHJ1bGVzIGV4Y2x1ZGVzIG5vbi1tYXRjaGluZyBAbWVkaWEgcnVsZXNcbiAgICBTdHlsZVV0aWwuZm9yRWFjaFJ1bGUocnVsZXMsIGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgIC8vIFRPRE8oc29ydmVsbCk6IHdlIGNvdWxkIHRyaW0gdGhlIHNldCBvZiBydWxlcyBhdCBkZWNsYXJhdGlvblxuICAgICAgLy8gdGltZSB0byBvbmx5IGluY2x1ZGUgb25lcyB0aGF0IGhhdmUgcHJvcGVydGllc1xuICAgICAgaWYgKCFydWxlLnByb3BlcnR5SW5mbykge1xuICAgICAgICBzZWxmLmRlY29yYXRlUnVsZShydWxlKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hdGNoIGVsZW1lbnQgYWdhaW5zdCB0cmFuc2Zvcm1lZFNlbGVjdG9yOiBzZWxlY3RvciBtYXkgY29udGFpblxuICAgICAgLy8gdW53YW50ZWQgdW5pcXVpZmljYXRpb24gYW5kIHBhcnNlZFNlbGVjdG9yIGRvZXMgbm90IGRpcmVjdGx5IG1hdGNoXG4gICAgICAvLyBmb3IgOmhvc3Qgc2VsZWN0b3JzLlxuICAgICAgbGV0IHNlbGVjdG9yVG9NYXRjaCA9IHJ1bGUudHJhbnNmb3JtZWRTZWxlY3RvciB8fCBydWxlWydwYXJzZWRTZWxlY3RvciddO1xuICAgICAgaWYgKGVsZW1lbnQgJiYgcnVsZS5wcm9wZXJ0eUluZm8ucHJvcGVydGllcyAmJiBzZWxlY3RvclRvTWF0Y2gpIHtcbiAgICAgICAgaWYgKG1hdGNoZXNTZWxlY3Rvci5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yVG9NYXRjaCkpIHtcbiAgICAgICAgICBzZWxmLmNvbGxlY3RQcm9wZXJ0aWVzKHJ1bGUsIHByb3BzKTtcbiAgICAgICAgICAvLyBwcm9kdWNlIG51bWVyaWMga2V5IGZvciB0aGVzZSBtYXRjaGVzIGZvciBsb29rdXBcbiAgICAgICAgICBhZGRUb0JpdE1hc2socnVsZS5pbmRleCwgbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBudWxsLCB0cnVlKTtcbiAgICByZXR1cm4ge3Byb3BlcnRpZXM6IHByb3BzLCBrZXk6IG99O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc2NvcGVcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjc3NCdWlsZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCl9IGNhbGxiYWNrXG4gICAqL1xuICB3aGVuSG9zdE9yUm9vdFJ1bGUoc2NvcGUsIHJ1bGUsIGNzc0J1aWxkLCBjYWxsYmFjaykge1xuICAgIGlmICghcnVsZS5wcm9wZXJ0eUluZm8pIHtcbiAgICAgIHRoaXMuZGVjb3JhdGVSdWxlKHJ1bGUpO1xuICAgIH1cbiAgICBpZiAoIXJ1bGUucHJvcGVydHlJbmZvLnByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGlzRXh0ZW5kcyA9IFN0eWxlVXRpbC5nZXRJc0V4dGVuZHMoc2NvcGUpO1xuICAgIGxldCBob3N0U2NvcGUgPSBzY29wZS5pcyA/XG4gICAgICBTdHlsZVRyYW5zZm9ybWVyLl9jYWxjSG9zdFNjb3BlKGlzRXh0ZW5kcy5pcywgaXNFeHRlbmRzLmV4dGVuZHMpIDpcbiAgICAgICdodG1sJztcbiAgICBsZXQgcGFyc2VkU2VsZWN0b3IgPSBydWxlWydwYXJzZWRTZWxlY3RvciddO1xuICAgIGxldCBpc1Jvb3QgPSAocGFyc2VkU2VsZWN0b3IgPT09ICc6aG9zdCA+IConIHx8IHBhcnNlZFNlbGVjdG9yID09PSAnaHRtbCcpO1xuICAgIGxldCBpc0hvc3QgPSBwYXJzZWRTZWxlY3Rvci5pbmRleE9mKCc6aG9zdCcpID09PSAwICYmICFpc1Jvb3Q7XG4gICAgLy8gYnVpbGQgaW5mbyBpcyBlaXRoZXIgaW4gc2NvcGUgKHdoZW4gc2NvcGUgaXMgYW4gZWxlbWVudCkgb3IgaW4gdGhlIHN0eWxlXG4gICAgLy8gd2hlbiBzY29wZSBpcyB0aGUgZGVmYXVsdCBzY29wZTsgbm90ZTogdGhpcyBhbGxvd3MgZGVmYXVsdCBzY29wZSB0byBoYXZlXG4gICAgLy8gbWl4ZWQgbW9kZSBidWlsdCBhbmQgdW5idWlsdCBzdHlsZXMuXG4gICAgaWYgKGNzc0J1aWxkID09PSAnc2hhZHknKSB7XG4gICAgICAvLyA6cm9vdCAtPiB4LWZvbyA+ICoueC1mb28gZm9yIGVsZW1lbnRzIGFuZCBodG1sIGZvciBjdXN0b20tc3R5bGVcbiAgICAgIGlzUm9vdCA9IHBhcnNlZFNlbGVjdG9yID09PSAoaG9zdFNjb3BlICsgJyA+ICouJyArIGhvc3RTY29wZSkgfHwgcGFyc2VkU2VsZWN0b3IuaW5kZXhPZignaHRtbCcpICE9PSAtMTtcbiAgICAgIC8vIDpob3N0IC0+IHgtZm9vIGZvciBlbGVtZW50cywgYnV0IHN1Yi1ydWxlcyBoYXZlIC54LWZvbyBpbiB0aGVtXG4gICAgICBpc0hvc3QgPSAhaXNSb290ICYmIHBhcnNlZFNlbGVjdG9yLmluZGV4T2YoaG9zdFNjb3BlKSA9PT0gMDtcbiAgICB9XG4gICAgaWYgKGNzc0J1aWxkID09PSAnc2hhZG93Jykge1xuICAgICAgaXNSb290ID0gcGFyc2VkU2VsZWN0b3IgPT09ICc6aG9zdCA+IConIHx8IHBhcnNlZFNlbGVjdG9yID09PSAnaHRtbCc7XG4gICAgICBpc0hvc3QgPSBpc0hvc3QgJiYgIWlzUm9vdDtcbiAgICB9XG4gICAgaWYgKCFpc1Jvb3QgJiYgIWlzSG9zdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgc2VsZWN0b3JUb01hdGNoID0gaG9zdFNjb3BlO1xuICAgIGlmIChpc0hvc3QpIHtcbiAgICAgIC8vIG5lZWQgdG8gdHJhbnNmb3JtIDpob3N0IHVuZGVyIFNoYWRvd0RPTSBiZWNhdXNlIGA6aG9zdGAgZG9lcyBub3Qgd29yayB3aXRoIGBtYXRjaGVzYFxuICAgICAgaWYgKG5hdGl2ZVNoYWRvdyAmJiAhcnVsZS50cmFuc2Zvcm1lZFNlbGVjdG9yKSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybSA6aG9zdCBpbnRvIGEgbWF0Y2hhYmxlIHNlbGVjdG9yXG4gICAgICAgIHJ1bGUudHJhbnNmb3JtZWRTZWxlY3RvciA9XG4gICAgICAgIFN0eWxlVHJhbnNmb3JtZXIuX3RyYW5zZm9ybVJ1bGVDc3MoXG4gICAgICAgICAgcnVsZSxcbiAgICAgICAgICBTdHlsZVRyYW5zZm9ybWVyLl90cmFuc2Zvcm1Db21wbGV4U2VsZWN0b3IsXG4gICAgICAgICAgU3R5bGVUcmFuc2Zvcm1lci5fY2FsY0VsZW1lbnRTY29wZShpc0V4dGVuZHMuaXMpLFxuICAgICAgICAgIGhvc3RTY29wZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc2VsZWN0b3JUb01hdGNoID0gcnVsZS50cmFuc2Zvcm1lZFNlbGVjdG9yIHx8IGhvc3RTY29wZTtcbiAgICB9XG4gICAgY2FsbGJhY2soe1xuICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yVG9NYXRjaCxcbiAgICAgIGlzSG9zdDogaXNIb3N0LFxuICAgICAgaXNSb290OiBpc1Jvb3RcbiAgICB9KTtcbiAgfVxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHNjb3BlXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZXNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuICBob3N0QW5kUm9vdFByb3BlcnRpZXNGb3JTY29wZShzY29wZSwgcnVsZXMpIHtcbiAgICBsZXQgaG9zdFByb3BzID0ge30sIHJvb3RQcm9wcyA9IHt9LCBzZWxmID0gdGhpcztcbiAgICAvLyBub3RlOiBhY3RpdmUgcnVsZXMgZXhjbHVkZXMgbm9uLW1hdGNoaW5nIEBtZWRpYSBydWxlc1xuICAgIGxldCBjc3NCdWlsZCA9IHJ1bGVzICYmIHJ1bGVzWydfX2Nzc0J1aWxkJ107XG4gICAgU3R5bGVVdGlsLmZvckVhY2hSdWxlKHJ1bGVzLCBmdW5jdGlvbihydWxlKSB7XG4gICAgICAvLyBpZiBzY29wZSBpcyBTdHlsZURlZmF1bHRzLCB1c2UgX2VsZW1lbnQgZm9yIG1hdGNoZXNTZWxlY3RvclxuICAgICAgc2VsZi53aGVuSG9zdE9yUm9vdFJ1bGUoc2NvcGUsIHJ1bGUsIGNzc0J1aWxkLCBmdW5jdGlvbihpbmZvKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gc2NvcGUuX2VsZW1lbnQgfHwgc2NvcGU7XG4gICAgICAgIGlmIChtYXRjaGVzU2VsZWN0b3IuY2FsbChlbGVtZW50LCBpbmZvLnNlbGVjdG9yKSkge1xuICAgICAgICAgIGlmIChpbmZvLmlzSG9zdCkge1xuICAgICAgICAgICAgc2VsZi5jb2xsZWN0UHJvcGVydGllcyhydWxlLCBob3N0UHJvcHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmNvbGxlY3RQcm9wZXJ0aWVzKHJ1bGUsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBudWxsLCB0cnVlKTtcbiAgICByZXR1cm4ge3Jvb3RQcm9wczogcm9vdFByb3BzLCBob3N0UHJvcHM6IGhvc3RQcm9wc307XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZVNlbGVjdG9yXG4gICAqL1xuICB0cmFuc2Zvcm1TdHlsZXMoZWxlbWVudCwgcHJvcGVydGllcywgc2NvcGVTZWxlY3Rvcikge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgaXNFeHRlbmRzID0gU3R5bGVVdGlsLmdldElzRXh0ZW5kcyhlbGVtZW50KTtcbiAgICBsZXQgaG9zdFNlbGVjdG9yID0gU3R5bGVUcmFuc2Zvcm1lclxuICAgICAgLl9jYWxjSG9zdFNjb3BlKGlzRXh0ZW5kcy5pcywgaXNFeHRlbmRzLmV4dGVuZHMpO1xuICAgIGxldCByeEhvc3RTZWxlY3RvciA9IGVsZW1lbnQuZXh0ZW5kcyA/XG4gICAgICAnXFxcXCcgKyBob3N0U2VsZWN0b3Iuc2xpY2UoMCwgLTEpICsgJ1xcXFxdJyA6XG4gICAgICBob3N0U2VsZWN0b3I7XG4gICAgbGV0IGhvc3RSeCA9IG5ldyBSZWdFeHAoUlguSE9TVF9QUkVGSVggKyByeEhvc3RTZWxlY3RvciArXG4gICAgICBSWC5IT1NUX1NVRkZJWCk7XG4gICAgbGV0IHJ1bGVzID0gU3R5bGVJbmZvLmdldChlbGVtZW50KS5zdHlsZVJ1bGVzO1xuICAgIGxldCBrZXlmcmFtZVRyYW5zZm9ybXMgPVxuICAgICAgdGhpcy5fZWxlbWVudEtleWZyYW1lVHJhbnNmb3JtcyhlbGVtZW50LCBydWxlcywgc2NvcGVTZWxlY3Rvcik7XG4gICAgcmV0dXJuIFN0eWxlVHJhbnNmb3JtZXIuZWxlbWVudFN0eWxlcyhlbGVtZW50LCBydWxlcywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgc2VsZi5hcHBseVByb3BlcnRpZXMocnVsZSwgcHJvcGVydGllcyk7XG4gICAgICBpZiAoIW5hdGl2ZVNoYWRvdyAmJlxuICAgICAgICAgICFTdHlsZVV0aWwuaXNLZXlmcmFtZXNTZWxlY3RvcihydWxlKSAmJlxuICAgICAgICAgIHJ1bGVbJ2Nzc1RleHQnXSkge1xuICAgICAgICAvLyBOT1RFOiBrZXlmcmFtZSB0cmFuc2Zvcm1zIG9ubHkgc2NvcGUgbXVuZ2UgYW5pbWF0aW9uIG5hbWVzLCBzbyBpdFxuICAgICAgICAvLyBpcyBub3QgbmVjZXNzYXJ5IHRvIGFwcGx5IHRoZW0gaW4gU2hhZG93RE9NLlxuICAgICAgICBzZWxmLmFwcGx5S2V5ZnJhbWVUcmFuc2Zvcm1zKHJ1bGUsIGtleWZyYW1lVHJhbnNmb3Jtcyk7XG4gICAgICAgIHNlbGYuX3Njb3BlU2VsZWN0b3IocnVsZSwgaG9zdFJ4LCBob3N0U2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlU2VsZWN0b3JcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgX2VsZW1lbnRLZXlmcmFtZVRyYW5zZm9ybXMoZWxlbWVudCwgcnVsZXMsIHNjb3BlU2VsZWN0b3IpIHtcbiAgICBsZXQga2V5ZnJhbWVzUnVsZXMgPSBydWxlcy5fa2V5ZnJhbWVzO1xuICAgIGxldCBrZXlmcmFtZVRyYW5zZm9ybXMgPSB7fTtcbiAgICBpZiAoIW5hdGl2ZVNoYWRvdyAmJiBrZXlmcmFtZXNSdWxlcykge1xuICAgICAgLy8gRm9yIG5vbi1TaGFkb3dET00sIHdlIHRyYW5zZm9ybSBhbGwga25vd24ga2V5ZnJhbWVzIHJ1bGVzIGluXG4gICAgICAvLyBhZHZhbmNlIGZvciB0aGUgY3VycmVudCBzY29wZS4gVGhpcyBhbGxvd3MgdXMgdG8gY2F0Y2gga2V5ZnJhbWVzXG4gICAgICAvLyBydWxlcyB0aGF0IGFwcGVhciBhbnl3aGVyZSBpbiB0aGUgc3R5bGVzaGVldDpcbiAgICAgIGZvciAobGV0IGkgPSAwLCBrZXlmcmFtZXNSdWxlID0ga2V5ZnJhbWVzUnVsZXNbaV07XG4gICAgICAgICAgIGkgPCBrZXlmcmFtZXNSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgIGtleWZyYW1lc1J1bGUgPSBrZXlmcmFtZXNSdWxlc1srK2ldKSB7XG4gICAgICAgIHRoaXMuX3Njb3BlS2V5ZnJhbWVzKGtleWZyYW1lc1J1bGUsIHNjb3BlU2VsZWN0b3IpO1xuICAgICAgICBrZXlmcmFtZVRyYW5zZm9ybXNba2V5ZnJhbWVzUnVsZVsna2V5ZnJhbWVzTmFtZSddXSA9XG4gICAgICAgICAgICB0aGlzLl9rZXlmcmFtZXNSdWxlVHJhbnNmb3JtZXIoa2V5ZnJhbWVzUnVsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlmcmFtZVRyYW5zZm9ybXM7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBhIGZhY3RvcnkgZm9yIHRyYW5zZm9ybWluZyBhIGNodW5rIG9mIENTUyB0ZXh0IHRvIGhhbmRsZSBhXG4gIC8vIHBhcnRpY3VsYXIgc2NvcGVkIGtleWZyYW1lcyBydWxlLlxuICAvKipcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IGtleWZyYW1lc1J1bGVcbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKTpzdHJpbmd9XG4gICAqL1xuICBfa2V5ZnJhbWVzUnVsZVRyYW5zZm9ybWVyKGtleWZyYW1lc1J1bGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY3NzVGV4dCkge1xuICAgICAgcmV0dXJuIGNzc1RleHQucmVwbGFjZShcbiAgICAgICAgICBrZXlmcmFtZXNSdWxlLmtleWZyYW1lc05hbWVSeCxcbiAgICAgICAgICBrZXlmcmFtZXNSdWxlLnRyYW5zZm9ybWVkS2V5ZnJhbWVzTmFtZSk7XG4gICAgfTtcbiAgfVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYEBrZXlmcmFtZXNgIG5hbWVzIHRvIGJlIHVuaXF1ZSBmb3IgdGhlIGN1cnJlbnQgaG9zdC5cbiAqIEV4YW1wbGU6IEBrZXlmcmFtZXMgZm9vLWFuaW0gLT4gQGtleWZyYW1lcyBmb28tYW5pbS14LWZvby0wXG4gKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZUlkXG4gKi9cbiAgX3Njb3BlS2V5ZnJhbWVzKHJ1bGUsIHNjb3BlSWQpIHtcbiAgICBydWxlLmtleWZyYW1lc05hbWVSeCA9IG5ldyBSZWdFeHAocnVsZVsna2V5ZnJhbWVzTmFtZSddLCAnZycpO1xuICAgIHJ1bGUudHJhbnNmb3JtZWRLZXlmcmFtZXNOYW1lID0gcnVsZVsna2V5ZnJhbWVzTmFtZSddICsgJy0nICsgc2NvcGVJZDtcbiAgICBydWxlLnRyYW5zZm9ybWVkU2VsZWN0b3IgPSBydWxlLnRyYW5zZm9ybWVkU2VsZWN0b3IgfHwgcnVsZVsnc2VsZWN0b3InXTtcbiAgICBydWxlWydzZWxlY3RvciddID0gcnVsZS50cmFuc2Zvcm1lZFNlbGVjdG9yLnJlcGxhY2UoXG4gICAgICAgIHJ1bGVbJ2tleWZyYW1lc05hbWUnXSwgcnVsZS50cmFuc2Zvcm1lZEtleWZyYW1lc05hbWUpO1xuICB9XG5cbiAgLy8gU3RyYXRlZ3k6IHggc2NvcGUgc2hpbSBhIHNlbGVjdG9yIGUuZy4gdG8gc2NvcGUgYC54LWZvby00MmAgKHZpYSBjbGFzc2VzKTpcbiAgLy8gbm9uLWhvc3Qgc2VsZWN0b3I6IC5hLngtZm9vIC0+IC54LWZvby00MiAuYS54LWZvb1xuICAvLyBob3N0IHNlbGVjdG9yOiB4LWZvby53aWRlIC0+IC54LWZvby00Mi53aWRlXG4gIC8vIG5vdGU6IHdlIHVzZSBvbmx5IHRoZSBzY29wZSBjbGFzcyAoLngtZm9vLTQyKSBhbmQgbm90IHRoZSBob3N0U2VsZWN0b3JcbiAgLy8gKHgtZm9vKSB0byBzY29wZSA6aG9zdCBydWxlczsgdGhpcyBoZWxwcyBtYWtlIHByb3BlcnR5IGhvc3QgcnVsZXNcbiAgLy8gaGF2ZSBsb3cgc3BlY2lmaWNpdHkuIFRoZXkgYXJlIG92ZXJyaWRlYWJsZSBieSBjbGFzcyBzZWxlY3RvcnMgYnV0LFxuICAvLyB1bmZvcnR1bmF0ZWx5LCBub3QgYnkgdHlwZSBzZWxlY3RvcnMgKGUuZy4gb3ZlcnJpZGluZyB2aWFcbiAgLy8gYC5zcGVjaWFsYCBpcyBvaywgYnV0IG5vdCBieSBgeC1mb29gKS5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBydWxlXG4gICAqIEBwYXJhbSB7UmVnRXhwfSBob3N0UnhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhvc3RTZWxlY3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGVJZFxuICAgKi9cbiAgX3Njb3BlU2VsZWN0b3IocnVsZSwgaG9zdFJ4LCBob3N0U2VsZWN0b3IsIHNjb3BlSWQpIHtcbiAgICBydWxlLnRyYW5zZm9ybWVkU2VsZWN0b3IgPSBydWxlLnRyYW5zZm9ybWVkU2VsZWN0b3IgfHwgcnVsZVsnc2VsZWN0b3InXTtcbiAgICBsZXQgc2VsZWN0b3IgPSBydWxlLnRyYW5zZm9ybWVkU2VsZWN0b3I7XG4gICAgbGV0IHNjb3BlID0gJy4nICsgc2NvcGVJZDtcbiAgICBsZXQgcGFydHMgPSBzZWxlY3Rvci5zcGxpdCgnLCcpO1xuICAgIGZvciAobGV0IGk9MCwgbD1wYXJ0cy5sZW5ndGgsIHA7IChpPGwpICYmIChwPXBhcnRzW2ldKTsgaSsrKSB7XG4gICAgICBwYXJ0c1tpXSA9IHAubWF0Y2goaG9zdFJ4KSA/XG4gICAgICAgIHAucmVwbGFjZShob3N0U2VsZWN0b3IsIHNjb3BlKSA6XG4gICAgICAgIHNjb3BlICsgJyAnICsgcDtcbiAgICB9XG4gICAgcnVsZVsnc2VsZWN0b3InXSA9IHBhcnRzLmpvaW4oJywnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRcbiAgICovXG4gIGFwcGx5RWxlbWVudFNjb3BlU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IsIG9sZCkge1xuICAgIGxldCBjID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XG4gICAgbGV0IHYgPSBjO1xuICAgIGlmIChvbGQpIHtcbiAgICAgIHYgPSBjLnJlcGxhY2UoXG4gICAgICAgIG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBYU0NPUEVfTkFNRSArICdcXFxccyonICsgb2xkICsgJ1xcXFxzKicsICdnJyksICcgJyk7XG4gICAgfVxuICAgIHYgKz0gKHYgPyAnICcgOiAnJykgKyBYU0NPUEVfTkFNRSArICcgJyArIHNlbGVjdG9yO1xuICAgIGlmIChjICE9PSB2KSB7XG4gICAgICBTdHlsZVV0aWwuc2V0RWxlbWVudENsYXNzUmF3KGVsZW1lbnQsIHYpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3R5bGVcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICovXG4gIGFwcGx5RWxlbWVudFN0eWxlKGVsZW1lbnQsIHByb3BlcnRpZXMsIHNlbGVjdG9yLCBzdHlsZSkge1xuICAgIC8vIGNhbGN1bGF0ZSBjc3NUZXh0IHRvIGFwcGx5XG4gICAgbGV0IGNzc1RleHQgPSBzdHlsZSA/IHN0eWxlLnRleHRDb250ZW50IHx8ICcnIDpcbiAgICAgIHRoaXMudHJhbnNmb3JtU3R5bGVzKGVsZW1lbnQsIHByb3BlcnRpZXMsIHNlbGVjdG9yKTtcbiAgICAvLyBpZiBzaGFkeSBhbmQgd2UgaGF2ZSBhIGNhY2hlZCBzdHlsZSB0aGF0IGlzIG5vdCBzdHlsZSwgZGVjcmVtZW50XG4gICAgbGV0IHN0eWxlSW5mbyA9IFN0eWxlSW5mby5nZXQoZWxlbWVudCk7XG4gICAgbGV0IHMgPSBzdHlsZUluZm8uY3VzdG9tU3R5bGU7XG4gICAgaWYgKHMgJiYgIW5hdGl2ZVNoYWRvdyAmJiAocyAhPT0gc3R5bGUpKSB7XG4gICAgICBzWydfdXNlQ291bnQnXS0tO1xuICAgICAgaWYgKHNbJ191c2VDb3VudCddIDw9IDAgJiYgcy5wYXJlbnROb2RlKSB7XG4gICAgICAgIHMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gYXBwbHkgc3R5bGluZyBhbHdheXMgdW5kZXIgbmF0aXZlIG9yIGlmIHdlIGdlbmVyYXRlZCBzdHlsZVxuICAgIC8vIG9yIHRoZSBjYWNoZWQgc3R5bGUgaXMgbm90IGluIGRvY3VtZW50KCEpXG4gICAgaWYgKG5hdGl2ZVNoYWRvdykge1xuICAgICAgLy8gdXBkYXRlIGV4aXN0aW5nIHN0eWxlIG9ubHkgdW5kZXIgbmF0aXZlXG4gICAgICBpZiAoc3R5bGVJbmZvLmN1c3RvbVN0eWxlKSB7XG4gICAgICAgIHN0eWxlSW5mby5jdXN0b21TdHlsZS50ZXh0Q29udGVudCA9IGNzc1RleHQ7XG4gICAgICAgIHN0eWxlID0gc3R5bGVJbmZvLmN1c3RvbVN0eWxlO1xuICAgICAgLy8gb3RoZXJ3aXNlLCBpZiB3ZSBoYXZlIGNzcyB0byBhcHBseSwgZG8gc29cbiAgICAgIH0gZWxzZSBpZiAoY3NzVGV4dCkge1xuICAgICAgICAvLyBhcHBseSBjc3MgYWZ0ZXIgdGhlIHNjb3BlIHN0eWxlIG9mIHRoZSBlbGVtZW50IHRvIGhlbHAgd2l0aFxuICAgICAgICAvLyBzdHlsZSBwcmVjZWRlbmNlIHJ1bGVzLlxuICAgICAgICBzdHlsZSA9IFN0eWxlVXRpbC5hcHBseUNzcyhjc3NUZXh0LCBzZWxlY3RvciwgZWxlbWVudC5zaGFkb3dSb290LFxuICAgICAgICAgIHN0eWxlSW5mby5wbGFjZWhvbGRlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNoYWR5IGFuZCBubyBjYWNoZSBoaXRcbiAgICAgIGlmICghc3R5bGUpIHtcbiAgICAgICAgLy8gYXBwbHkgY3NzIGFmdGVyIHRoZSBzY29wZSBzdHlsZSBvZiB0aGUgZWxlbWVudCB0byBoZWxwIHdpdGhcbiAgICAgICAgLy8gc3R5bGUgcHJlY2VkZW5jZSBydWxlcy5cbiAgICAgICAgaWYgKGNzc1RleHQpIHtcbiAgICAgICAgICBzdHlsZSA9IFN0eWxlVXRpbC5hcHBseUNzcyhjc3NUZXh0LCBzZWxlY3RvciwgbnVsbCxcbiAgICAgICAgICAgIHN0eWxlSW5mby5wbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgIC8vIHNoYWR5IGFuZCBjYWNoZSBoaXQgYnV0IG5vdCBpbiBkb2N1bWVudFxuICAgICAgfSBlbHNlIGlmICghc3R5bGUucGFyZW50Tm9kZSkge1xuICAgICAgICBTdHlsZVV0aWwuYXBwbHlTdHlsZShzdHlsZSwgbnVsbCwgc3R5bGVJbmZvLnBsYWNlaG9sZGVyKTtcbiAgICAgIH1cblxuICAgIH1cbiAgICAvLyBlbnN1cmUgdGhpcyBzdHlsZSBpcyBvdXIgY3VzdG9tIHN0eWxlIGFuZCBpbmNyZW1lbnQgaXRzIHVzZSBjb3VudC5cbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHN0eWxlWydfdXNlQ291bnQnXSA9IHN0eWxlWydfdXNlQ291bnQnXSB8fCAwO1xuICAgICAgLy8gaW5jcmVtZW50IHVzZSBjb3VudCBpZiB3ZSBjaGFuZ2VkIHN0eWxlc1xuICAgICAgaWYgKHN0eWxlSW5mby5jdXN0b21TdHlsZSAhPSBzdHlsZSkge1xuICAgICAgICBzdHlsZVsnX3VzZUNvdW50J10rKztcbiAgICAgIH1cbiAgICAgIHN0eWxlSW5mby5jdXN0b21TdHlsZSA9IHN0eWxlO1xuICAgIH1cbiAgICAvLyBAbWVkaWEgcnVsZXMgbWF5IGJlIHN0YWxlIGluIElFIDEwIGFuZCAxMVxuICAgIGlmIChJU19JRSkge1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3R5bGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICovXG4gIGFwcGx5Q3VzdG9tU3R5bGUoc3R5bGUsIHByb3BlcnRpZXMpIHtcbiAgICBsZXQgcnVsZXMgPSBTdHlsZVV0aWwucnVsZXNGb3JTdHlsZSgvKiogQHR5cGUge0hUTUxTdHlsZUVsZW1lbnR9ICovKHN0eWxlKSk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gU3R5bGVVdGlsLnRvQ3NzVGV4dChydWxlcywgZnVuY3Rpb24oLyoqIFN0eWxlTm9kZSAqL3J1bGUpIHtcbiAgICAgIGxldCBjc3MgPSBydWxlWydjc3NUZXh0J10gPSBydWxlWydwYXJzZWRDc3NUZXh0J107XG4gICAgICBpZiAocnVsZS5wcm9wZXJ0eUluZm8gJiYgcnVsZS5wcm9wZXJ0eUluZm8uY3NzVGV4dCkge1xuICAgICAgICAvLyByZW1vdmUgcHJvcGVydHkgYXNzaWdubWVudHNcbiAgICAgICAgLy8gc28gbmV4dCBmdW5jdGlvbiBpc24ndCBjb25mdXNlZFxuICAgICAgICAvLyBOT1RFOiB3ZSBoYXZlIDMgY2F0ZWdvcmllcyBvZiBjc3M6XG4gICAgICAgIC8vICgxKSBub3JtYWwgcHJvcGVydGllcyxcbiAgICAgICAgLy8gKDIpIGN1c3RvbSBwcm9wZXJ0eSBhc3NpZ25tZW50cyAoLS1mb286IHJlZDspLFxuICAgICAgICAvLyAoMykgY3VzdG9tIHByb3BlcnR5IHVzYWdlOiBib3JkZXI6IHZhcigtLWZvbyk7IEBhcHBseSgtLWZvbyk7XG4gICAgICAgIC8vIEluIGVsZW1lbnRzLCAxIGFuZCAzIGFyZSBzZXBhcmF0ZWQgZm9yIGVmZmljaWVuY3k7IGhlcmUgdGhleVxuICAgICAgICAvLyBhcmUgbm90IGFuZCB0aGlzIG1ha2VzIHRoaXMgY2FzZSB1bmlxdWUuXG4gICAgICAgIGNzcyA9IHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyhjc3MpKTtcbiAgICAgICAgLy8gcmVwbGFjZSB3aXRoIHJlaWZpZWQgcHJvcGVydGllcywgc2NlbmFyaW8gaXMgc2FtZSBhcyBtaXhpblxuICAgICAgICBydWxlWydjc3NUZXh0J10gPSBzZWxmLnZhbHVlRm9yUHJvcGVydGllcyhjc3MsIHByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYml0c1xuICovXG5mdW5jdGlvbiBhZGRUb0JpdE1hc2sobiwgYml0cykge1xuICBsZXQgbyA9IHBhcnNlSW50KG4gLyAzMiwgMTApO1xuICBsZXQgdiA9IDEgPDwgKG4gJSAzMik7XG4gIGJpdHNbb10gPSAoYml0c1tvXSB8fCAwKSB8IHY7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdHlsZVByb3BlcnRpZXMoKTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7YXBwbHlTdHlsZVBsYWNlSG9sZGVyfSBmcm9tICcuL3N0eWxlLXV0aWwnXG5pbXBvcnQge25hdGl2ZVNoYWRvd30gZnJvbSAnLi9zdHlsZS1zZXR0aW5ncydcblxubGV0IHBsYWNlaG9sZGVyTWFwID0ge307XG5cbi8qKlxuICogQGNvbnN0IHtPYmplY3R8dW5kZWZpbmVkfVxuICovXG5jb25zdCBjZSA9IHdpbmRvd1snY3VzdG9tRWxlbWVudHMnXTtcbmlmIChjZSAmJiAhbmF0aXZlU2hhZG93KSB7XG4gIC8qKlxuICAgKiBAY29uc3Qge2Z1bmN0aW9uKHN0cmluZyxGdW5jdGlvbixPYmplY3Q9KX1cbiAgICovXG4gIGNvbnN0IG9yaWdEZWZpbmUgPSBjZVsnZGVmaW5lJ107XG4gIGNlWydkZWZpbmUnXSA9IGZ1bmN0aW9uKG5hbWUsIGNsYXp6LCBvcHRpb25zKSB7XG4gICAgcGxhY2Vob2xkZXJNYXBbbmFtZV0gPSBhcHBseVN0eWxlUGxhY2VIb2xkZXIobmFtZSk7XG4gICAgcmV0dXJuIG9yaWdEZWZpbmUuY2FsbChjZSwgbmFtZSwgY2xhenosIG9wdGlvbnMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBwbGFjZWhvbGRlck1hcDtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0eWxlQ2FjaGUge1xuICBjb25zdHJ1Y3Rvcih0eXBlTWF4ID0gMTAwKSB7XG4gICAgLy8gbWFwIGVsZW1lbnQgbmFtZSAtPiBbe3Byb3BlcnRpZXMsIHN0eWxlRWxlbWVudCwgc2NvcGVTZWxlY3Rvcn1dXG4gICAgdGhpcy5jYWNoZSA9IHt9O1xuICAgIHRoaXMudHlwZU1heCA9IHR5cGVNYXg7XG4gIH1cblxuICBfdmFsaWRhdGUoY2FjaGVFbnRyeSwgcHJvcGVydGllcywgb3duUHJvcGVydHlOYW1lcykge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG93blByb3BlcnR5TmFtZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgbGV0IHBuID0gb3duUHJvcGVydHlOYW1lc1tpZHhdO1xuICAgICAgaWYgKGNhY2hlRW50cnkucHJvcGVydGllc1twbl0gIT09IHByb3BlcnRpZXNbcG5dKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdG9yZSh0YWduYW1lLCBwcm9wZXJ0aWVzLCBzdHlsZUVsZW1lbnQsIHNjb3BlU2VsZWN0b3IpIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMuY2FjaGVbdGFnbmFtZV0gfHwgW107XG4gICAgbGlzdC5wdXNoKHtwcm9wZXJ0aWVzLCBzdHlsZUVsZW1lbnQsIHNjb3BlU2VsZWN0b3J9KTtcbiAgICBpZiAobGlzdC5sZW5ndGggPiB0aGlzLnR5cGVNYXgpIHtcbiAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICB9XG4gICAgdGhpcy5jYWNoZVt0YWduYW1lXSA9IGxpc3Q7XG4gIH1cblxuICBmZXRjaCh0YWduYW1lLCBwcm9wZXJ0aWVzLCBvd25Qcm9wZXJ0eU5hbWVzKSB7XG4gICAgbGV0IGxpc3QgPSB0aGlzLmNhY2hlW3RhZ25hbWVdO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyByZXZlcnNlIGxpc3QgZm9yIG1vc3QtcmVjZW50IGxvb2t1cHNcbiAgICBmb3IgKGxldCBpZHggPSBsaXN0Lmxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgbGV0IGVudHJ5ID0gbGlzdFtpZHhdO1xuICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKGVudHJ5LCBwcm9wZXJ0aWVzLCBvd25Qcm9wZXJ0eU5hbWVzKSkge1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7bmF0aXZlU2hhZG93fSBmcm9tICcuL3N0eWxlLXNldHRpbmdzJ1xuaW1wb3J0IFN0eWxlVHJhbnNmb3JtZXIgZnJvbSAnLi9zdHlsZS10cmFuc2Zvcm1lcidcbmltcG9ydCB7Z2V0SXNFeHRlbmRzfSBmcm9tICcuL3N0eWxlLXV0aWwnXG5cbmV4cG9ydCBsZXQgZmx1c2ggPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoIW5hdGl2ZVNoYWRvdykge1xuICBsZXQgZWxlbWVudE5lZWRzU2NvcGluZyA9IChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIChlbGVtZW50LmNsYXNzTGlzdCAmJlxuICAgICAgIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFN0eWxlVHJhbnNmb3JtZXIuU0NPUEVfTkFNRSkgfHxcbiAgICAgIC8vIG5vdGU6IG5lY2Vzc2FyeSBmb3IgSUUxMVxuICAgICAgKGVsZW1lbnQgaW5zdGFuY2VvZiB3aW5kb3dbJ1NWR0VsZW1lbnQnXSAmJiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdjbGFzcycpIHx8XG4gICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5pbmRleE9mKFN0eWxlVHJhbnNmb3JtZXIuU0NPUEVfTkFNRSkgPCAwKSkpO1xuICB9XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxNdXRhdGlvblJlY29yZHxudWxsPnxudWxsfSBteG5zXG4gKi9cbiAgbGV0IGhhbmRsZXIgPSAobXhucykgPT4ge1xuICAgIGZvciAobGV0IHg9MDsgeCA8IG14bnMubGVuZ3RoOyB4KyspIHtcbiAgICAgIGxldCBteG4gPSBteG5zW3hdO1xuICAgICAgaWYgKG14bi50YXJnZXQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fFxuICAgICAgICBteG4udGFyZ2V0ID09PSBkb2N1bWVudC5oZWFkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbXhuLmFkZGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG4gPSBteG4uYWRkZWROb2Rlc1tpXTtcbiAgICAgICAgaWYgKGVsZW1lbnROZWVkc1Njb3BpbmcobikpIHtcbiAgICAgICAgICBsZXQgcm9vdCA9IG4uZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgICBpZiAocm9vdC5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAvLyBtYXkgbm8gbG9uZ2VyIGJlIGluIGEgc2hhZG93cm9vdFxuICAgICAgICAgICAgbGV0IGhvc3QgPSAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovKHJvb3QpLmhvc3Q7XG4gICAgICAgICAgICBpZiAoaG9zdCkge1xuICAgICAgICAgICAgICBsZXQge2lzOiBzY29wZX0gPSBnZXRJc0V4dGVuZHMoaG9zdCk7XG4gICAgICAgICAgICAgIFN0eWxlVHJhbnNmb3JtZXIuZG9tKG4sIHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG14bi5yZW1vdmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG4gPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhteG4ucmVtb3ZlZE5vZGVzW2ldKTtcbiAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgbGV0IGNsYXNzZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKG4uY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICBjbGFzc2VzID0gQXJyYXkuZnJvbShuLmNsYXNzTGlzdCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChuLmhhc0F0dHJpYnV0ZSgnY2xhc3MnKSkge1xuICAgICAgICAgICAgY2xhc3NlcyA9IG4uZ2V0QXR0cmlidXRlKCdjbGFzcycpLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjbGFzc2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IHJlbGllcyBvbiB0aGUgc2NvcGluZyBjbGFzcyBhbHdheXMgYmVpbmcgYWRqYWNlbnQgdG8gdGhlXG4gICAgICAgICAgICAvLyBTQ09QRV9OQU1FIGNsYXNzLlxuICAgICAgICAgICAgbGV0IGNsYXNzSWR4ID0gY2xhc3Nlcy5pbmRleE9mKFN0eWxlVHJhbnNmb3JtZXIuU0NPUEVfTkFNRSk7XG4gICAgICAgICAgICBpZiAoY2xhc3NJZHggPj0gMCkge1xuICAgICAgICAgICAgICBsZXQgc2NvcGUgPSBjbGFzc2VzW2NsYXNzSWR4ICsgMV07XG4gICAgICAgICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgICAgIFN0eWxlVHJhbnNmb3JtZXIuZG9tKG4sIHNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihoYW5kbGVyKTtcbiAgbGV0IHN0YXJ0ID0gKG5vZGUpID0+IHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgfVxuICBsZXQgbmF0aXZlQ3VzdG9tRWxlbWVudHMgPSAod2luZG93LmN1c3RvbUVsZW1lbnRzICYmXG4gICAgIXdpbmRvd1snY3VzdG9tRWxlbWVudHMnXVsnZmx1c2gnXSk7XG4gIC8vIG5lZWQgdG8gc3RhcnQgaW1tZWRpYXRlbHkgd2l0aCBuYXRpdmUgY3VzdG9tIGVsZW1lbnRzXG4gIC8vIFRPRE8oZGZyZWVkbSk6IHdpdGggcG9seWZpbGxlZCBIVE1MSW1wb3J0cyBhbmQgbmF0aXZlIGN1c3RvbSBlbGVtZW50c1xuICAvLyBleGNlc3NpdmUgbXV0YXRpb25zIG1heSBiZSBvYnNlcnZlZDsgdGhpcyBjYW4gYmUgb3B0aW1pemVkIHZpYSBjb29wZXJhdGlvblxuICAvLyB3aXRoIHRoZSBIVE1MSW1wb3J0cyBwb2x5ZmlsbC5cbiAgaWYgKG5hdGl2ZUN1c3RvbUVsZW1lbnRzKSB7XG4gICAgc3RhcnQoZG9jdW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGxldCBkZWxheWVkU3RhcnQgPSAoKSA9PiB7XG4gICAgICBzdGFydChkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gICAgLy8gdXNlIHBvbHlmaWxsIHRpbWluZyBpZiBpdCdzIGF2YWlsYWJsZVxuICAgIGlmICh3aW5kb3dbJ0hUTUxJbXBvcnRzJ10pIHtcbiAgICAgIHdpbmRvd1snSFRNTEltcG9ydHMnXVsnd2hlblJlYWR5J10oZGVsYXllZFN0YXJ0KTtcbiAgICAvLyBvdGhlcndpc2UgcHVzaCBiZXlvbmQgbmF0aXZlIGltcG9ydHMgYmVpbmcgcmVhZHlcbiAgICAvLyB3aGljaCByZXF1aXJlcyBSQUYgKyByZWFkeXN0YXRlIGludGVyYWN0aXZlLlxuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRlbGF5ZWRTdGFydCgpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGxpc3RlbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGxpc3RlbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxheWVkU3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICBoYW5kbGVyKG9ic2VydmVyLnRha2VSZWNvcmRzKCkpO1xuICB9XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHt9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHRlbXBsYXRlTWFwIGZyb20gJy4vdGVtcGxhdGUtbWFwJ1xuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlJyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogQGNvbnN0IHtQcm9taXNlfVxuICovXG5jb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlKGVsZW1lbnROYW1lKXtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgdGVtcGxhdGUuX2FwcGx5U2hpbUludmFsaWQgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZChlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUlzVmFsaWQodGVtcGxhdGUpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSB7XG4gIHJldHVybiAhdGVtcGxhdGUuX2FwcGx5U2hpbUludmFsaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRpbmcoZWxlbWVudE5hbWUpIHtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVJc1ZhbGlkYXRpbmcodGVtcGxhdGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSB7XG4gIHJldHVybiB0ZW1wbGF0ZS5fdmFsaWRhdGluZztcbn1cblxuLypcbnRoZSB0ZW1wbGF0ZSBpcyBtYXJrZWQgYXMgYHZhbGlkYXRpbmdgIGZvciBvbmUgbWljcm90YXNrIHNvIHRoYXQgYWxsIGluc3RhbmNlc1xuZm91bmQgaW4gdGhlIHRyZWUgY3Jhd2wgb2YgYGFwcGx5U3R5bGVgIHdpbGwgdXBkYXRlIHRoZW1zZWx2ZXMsXG5idXQgdGhlIHRlbXBsYXRlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZyhlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKSB7XG4gIGlmICghdGVtcGxhdGUuX3ZhbGlkYXRpbmcpIHtcbiAgICB0ZW1wbGF0ZS5fdmFsaWRhdGluZyA9IHRydWU7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgdGVtcGxhdGUuX2FwcGx5U2hpbUludmFsaWQgPSBmYWxzZTtcbiAgICAgIHRlbXBsYXRlLl92YWxpZGF0aW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcGx5U2hpbVNoaW0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICB0aGlzLmltcGw7XG4gIH1cbiAgZW5zdXJlKCkge1xuICAgIGlmICghdGhpcy5pbXBsKSB7XG4gICAgICB0aGlzLmltcGwgPSB3aW5kb3dbJ0FwcGx5U2hpbSddIHx8IHtcbiAgICAgICAgWydkZXRlY3RNaXhpbiddKCl7cmV0dXJuIGZhbHNlfSxcbiAgICAgICAgWyd0cmFuc2Zvcm1SdWxlJ10oKXt9LFxuICAgICAgICBbJ3RyYW5zZm9ybVJ1bGVzJ10oKXt9LFxuICAgICAgICBbJ3RyYW5zZm9ybVRlbXBsYXRlJ10oKXt9LFxuICAgICAgICBbJ3RyYW5zZm9ybUN1c3RvbVN0eWxlJ10oKXt9LFxuICAgICAgICBbJ3RyYW5zZm9ybVN0eWxlJ10oKXt9XG4gICAgICB9O1xuICAgICAgdGhpcy5pbXBsWydpbnZhbGlkQ2FsbGJhY2snXSA9IGludmFsaWRhdGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZGV0ZWN0TWl4aW4odGV4dCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgcmV0dXJuIHRoaXMuaW1wbFsnZGV0ZWN0TWl4aW4nXSh0ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IGFzdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnROYW1lXG4gICAqL1xuICB0cmFuc2Zvcm1SdWxlcyhhc3QsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICByZXR1cm4gdGhpcy5pbXBsWyd0cmFuc2Zvcm1SdWxlcyddKGFzdCwgZWxlbWVudE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0eWxlTm9kZX0gYXN0XG4gICAqL1xuICB0cmFuc2Zvcm1SdWxlKGFzdCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgdGhpcy5pbXBsWyd0cmFuc2Zvcm1SdWxlJ10oYXN0KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50TmFtZVxuICAgKi9cbiAgdHJhbnNmb3JtU3R5bGUoc3R5bGUsIGVsZW1lbnROYW1lID0gJycpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIHRoaXMuaW1wbFsndHJhbnNmb3JtU3R5bGUnXShzdHlsZSwgZWxlbWVudE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICAgKi9cbiAgdHJhbnNmb3JtQ3VzdG9tU3R5bGUoc3R5bGUpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIHRoaXMuaW1wbFsndHJhbnNmb3JtQ3VzdG9tU3R5bGUnXShzdHlsZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKi9cbiAgdHJhbnNmb3JtVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICB0aGlzLmltcGxbJ3RyYW5zZm9ybVRlbXBsYXRlJ10odGVtcGxhdGUsIGVsZW1lbnROYW1lKTtcbiAgfVxufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtQcm9taXNlPHZvaWQ+fSAqL1xubGV0IHJlYWR5UHJvbWlzZSA9IG51bGw7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKGZ1bmN0aW9uKCkpfSAqL1xubGV0IHdoZW5SZWFkeSA9IHdpbmRvd1snSFRNTEltcG9ydHMnXSAmJiB3aW5kb3dbJ0hUTUxJbXBvcnRzJ11bJ3doZW5SZWFkeSddIHx8IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkb2N1bWVudFdhaXQoY2FsbGJhY2spIHtcbiAgaWYgKHdoZW5SZWFkeSkge1xuICAgIHdoZW5SZWFkeShjYWxsYmFjaylcbiAgfSBlbHNlIHtcbiAgICBpZiAoIXJlYWR5UHJvbWlzZSkge1xuICAgICAgLyoqIEB0eXBlIHtmdW5jdGlvbigpfSAqL1xuICAgICAgbGV0IHJlc29sdmVGbjtcbiAgICAgIHJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7cmVzb2x2ZUZuID0gcmVzb2x2ZX0pO1xuICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgcmVzb2x2ZUZuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICByZXNvbHZlRm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZWFkeVByb21pc2UudGhlbihjYWxsYmFjayk7XG4gIH1cbn0iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7cGFyc2UsIFN0eWxlTm9kZX0gZnJvbSAnLi9jc3MtcGFyc2UnXG5pbXBvcnQge25hdGl2ZVNoYWRvdywgbmF0aXZlQ3NzVmFyaWFibGVzfSBmcm9tICcuL3N0eWxlLXNldHRpbmdzJ1xuaW1wb3J0IFN0eWxlVHJhbnNmb3JtZXIgZnJvbSAnLi9zdHlsZS10cmFuc2Zvcm1lcidcbmltcG9ydCAqIGFzIFN0eWxlVXRpbCBmcm9tICcuL3N0eWxlLXV0aWwnXG5pbXBvcnQgU3R5bGVQcm9wZXJ0aWVzIGZyb20gJy4vc3R5bGUtcHJvcGVydGllcydcbmltcG9ydCBwbGFjZWhvbGRlck1hcCBmcm9tICcuL3N0eWxlLXBsYWNlaG9sZGVyJ1xuaW1wb3J0IFN0eWxlSW5mbyBmcm9tICcuL3N0eWxlLWluZm8nXG5pbXBvcnQgU3R5bGVDYWNoZSBmcm9tICcuL3N0eWxlLWNhY2hlJ1xuaW1wb3J0IHtmbHVzaCBhcyB3YXRjaGVyRmx1c2h9IGZyb20gJy4vZG9jdW1lbnQtd2F0Y2hlcidcbmltcG9ydCB0ZW1wbGF0ZU1hcCBmcm9tICcuL3RlbXBsYXRlLW1hcCdcbmltcG9ydCAqIGFzIEFwcGx5U2hpbVV0aWxzIGZyb20gJy4vYXBwbHktc2hpbS11dGlscydcbmltcG9ydCBkb2N1bWVudFdhaXQgZnJvbSAnLi9kb2N1bWVudC13YWl0J1xuXG4vKipcbiAqIEBjb25zdCB7QXBwbHlTaGltVXRpbHMuQXBwbHlTaGltU2hpbX1cbiAqL1xuY29uc3QgQXBwbHlTaGltID0gbmV3IEFwcGx5U2hpbVV0aWxzLkFwcGx5U2hpbVNoaW0oKTtcblxuLyoqXG4gKiBAY29uc3Qge1N0eWxlQ2FjaGV9XG4gKi9cbmNvbnN0IHN0eWxlQ2FjaGUgPSBuZXcgU3R5bGVDYWNoZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29waW5nU2hpbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3Njb3BlQ291bnRlciA9IHt9O1xuICAgIHRoaXMuX2RvY3VtZW50T3duZXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgbGV0IGFzdCA9IG5ldyBTdHlsZU5vZGUoKTtcbiAgICBhc3RbJ3J1bGVzJ10gPSBbXTtcbiAgICB0aGlzLl9kb2N1bWVudE93bmVyU3R5bGVJbmZvID0gU3R5bGVJbmZvLnNldChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5ldyBTdHlsZUluZm8oYXN0KSk7XG4gICAgdGhpcy5fZWxlbWVudHNIYXZlQXBwbGllZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50V2FpdCgoKSA9PiB7dGhpcy5fZW5zdXJlQ3VzdG9tU3R5bGVJbnRlcmZhY2UoKX0pO1xuICB9XG4gIGZsdXNoKCkge1xuICAgIHdhdGNoZXJGbHVzaCgpO1xuICB9XG4gIF9nZW5lcmF0ZVNjb3BlU2VsZWN0b3IobmFtZSkge1xuICAgIGxldCBpZCA9IHRoaXMuX3Njb3BlQ291bnRlcltuYW1lXSA9ICh0aGlzLl9zY29wZUNvdW50ZXJbbmFtZV0gfHwgMCkgKyAxO1xuICAgIHJldHVybiBgJHtuYW1lfS0ke2lkfWA7XG4gIH1cbiAgZ2V0U3R5bGVBc3Qoc3R5bGUpIHtcbiAgICByZXR1cm4gU3R5bGVVdGlsLnJ1bGVzRm9yU3R5bGUoc3R5bGUpO1xuICB9XG4gIHN0eWxlQXN0VG9TdHJpbmcoYXN0KSB7XG4gICAgcmV0dXJuIFN0eWxlVXRpbC50b0Nzc1RleHQoYXN0KTtcbiAgfVxuICBfZ2F0aGVyU3R5bGVzKHRlbXBsYXRlKSB7XG4gICAgbGV0IHN0eWxlcyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTtcbiAgICBsZXQgY3NzVGV4dCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcyA9IHN0eWxlc1tpXTtcbiAgICAgIGNzc1RleHQucHVzaChzLnRleHRDb250ZW50KTtcbiAgICAgIHMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNzc1RleHQuam9pbignJykudHJpbSgpO1xuICB9XG4gIF9nZXRDc3NCdWlsZCh0ZW1wbGF0ZSkge1xuICAgIGxldCBzdHlsZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZS5nZXRBdHRyaWJ1dGUoJ2Nzcy1idWlsZCcpIHx8ICcnO1xuICB9XG4gIC8qKlxuICAgKiBQcmVwYXJlIHRoZSBzdHlsaW5nIGFuZCB0ZW1wbGF0ZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IHR5cGVFeHRlbnNpb25cbiAgICovXG4gIHByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIHR5cGVFeHRlbnNpb24pIHtcbiAgICBpZiAodGVtcGxhdGUuX3ByZXBhcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRlbXBsYXRlLl9wcmVwYXJlZCA9IHRydWU7XG4gICAgdGVtcGxhdGUubmFtZSA9IGVsZW1lbnROYW1lO1xuICAgIHRlbXBsYXRlLmV4dGVuZHMgPSB0eXBlRXh0ZW5zaW9uO1xuICAgIHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXSA9IHRlbXBsYXRlO1xuICAgIGxldCBjc3NCdWlsZCA9IHRoaXMuX2dldENzc0J1aWxkKHRlbXBsYXRlKTtcbiAgICBsZXQgY3NzVGV4dCA9IHRoaXMuX2dhdGhlclN0eWxlcyh0ZW1wbGF0ZSk7XG4gICAgbGV0IGluZm8gPSB7XG4gICAgICBpczogZWxlbWVudE5hbWUsXG4gICAgICBleHRlbmRzOiB0eXBlRXh0ZW5zaW9uLFxuICAgICAgX19jc3NCdWlsZDogY3NzQnVpbGQsXG4gICAgfTtcbiAgICBpZiAoIW5hdGl2ZVNoYWRvdykge1xuICAgICAgU3R5bGVUcmFuc2Zvcm1lci5kb20odGVtcGxhdGUuY29udGVudCwgZWxlbWVudE5hbWUpO1xuICAgIH1cbiAgICAvLyBjaGVjayBpZiB0aGUgc3R5bGluZyBoYXMgbWl4aW4gZGVmaW5pdGlvbnMgb3IgdXNlc1xuICAgIGxldCBoYXNNaXhpbnMgPSBBcHBseVNoaW0uZGV0ZWN0TWl4aW4oY3NzVGV4dCk7XG4gICAgbGV0IGFzdCA9IHBhcnNlKGNzc1RleHQpO1xuICAgIC8vIG9ubHkgcnVuIHRoZSBhcHBseXNoaW0gdHJhbnNmb3JtcyBpZiB0aGVyZSBpcyBhIG1peGluIGludm9sdmVkXG4gICAgaWYgKGhhc01peGlucyAmJiBuYXRpdmVDc3NWYXJpYWJsZXMpIHtcbiAgICAgIEFwcGx5U2hpbS50cmFuc2Zvcm1SdWxlcyhhc3QsIGVsZW1lbnROYW1lKTtcbiAgICB9XG4gICAgdGVtcGxhdGUuX3N0eWxlQXN0ID0gYXN0O1xuICAgIHRlbXBsYXRlLl9jc3NCdWlsZCA9IGNzc0J1aWxkO1xuXG4gICAgbGV0IG93blByb3BlcnR5TmFtZXMgPSBbXTtcbiAgICBpZiAoIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgb3duUHJvcGVydHlOYW1lcyA9IFN0eWxlUHJvcGVydGllcy5kZWNvcmF0ZVN0eWxlcyh0ZW1wbGF0ZS5fc3R5bGVBc3QsIGluZm8pO1xuICAgIH1cbiAgICBpZiAoIW93blByb3BlcnR5TmFtZXMubGVuZ3RoIHx8IG5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgbGV0IHJvb3QgPSBuYXRpdmVTaGFkb3cgPyB0ZW1wbGF0ZS5jb250ZW50IDogbnVsbDtcbiAgICAgIGxldCBwbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyTWFwW2VsZW1lbnROYW1lXTtcbiAgICAgIGxldCBzdHlsZSA9IHRoaXMuX2dlbmVyYXRlU3RhdGljU3R5bGUoaW5mbywgdGVtcGxhdGUuX3N0eWxlQXN0LCByb290LCBwbGFjZWhvbGRlcik7XG4gICAgICB0ZW1wbGF0ZS5fc3R5bGUgPSBzdHlsZTtcbiAgICB9XG4gICAgdGVtcGxhdGUuX293blByb3BlcnR5TmFtZXMgPSBvd25Qcm9wZXJ0eU5hbWVzO1xuICB9XG4gIF9nZW5lcmF0ZVN0YXRpY1N0eWxlKGluZm8sIHJ1bGVzLCBzaGFkb3dyb290LCBwbGFjZWhvbGRlcikge1xuICAgIGxldCBjc3NUZXh0ID0gU3R5bGVUcmFuc2Zvcm1lci5lbGVtZW50U3R5bGVzKGluZm8sIHJ1bGVzKTtcbiAgICBpZiAoY3NzVGV4dC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBTdHlsZVV0aWwuYXBwbHlDc3MoY3NzVGV4dCwgaW5mby5pcywgc2hhZG93cm9vdCwgcGxhY2Vob2xkZXIpO1xuICAgIH1cbiAgfVxuICBfcHJlcGFyZUhvc3QoaG9zdCkge1xuICAgIGxldCB7aXMsIGV4dGVuZHM6IHR5cGVFeHRlbnNpb259ID0gU3R5bGVVdGlsLmdldElzRXh0ZW5kcyhob3N0KTtcbiAgICBsZXQgcGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlck1hcFtpc107XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbaXNdO1xuICAgIGxldCBhc3Q7XG4gICAgbGV0IG93blN0eWxlUHJvcGVydHlOYW1lcztcbiAgICBsZXQgY3NzQnVpbGQ7XG4gICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICBhc3QgPSB0ZW1wbGF0ZS5fc3R5bGVBc3Q7XG4gICAgICBvd25TdHlsZVByb3BlcnR5TmFtZXMgPSB0ZW1wbGF0ZS5fb3duUHJvcGVydHlOYW1lcztcbiAgICAgIGNzc0J1aWxkID0gdGVtcGxhdGUuX2Nzc0J1aWxkO1xuICAgIH1cbiAgICByZXR1cm4gU3R5bGVJbmZvLnNldChob3N0LFxuICAgICAgbmV3IFN0eWxlSW5mbyhcbiAgICAgICAgYXN0LFxuICAgICAgICBwbGFjZWhvbGRlcixcbiAgICAgICAgb3duU3R5bGVQcm9wZXJ0eU5hbWVzLFxuICAgICAgICBpcyxcbiAgICAgICAgdHlwZUV4dGVuc2lvbixcbiAgICAgICAgY3NzQnVpbGRcbiAgICAgIClcbiAgICApO1xuICB9XG4gIF9lbnN1cmVDdXN0b21TdHlsZUludGVyZmFjZSgpIHtcbiAgICBpZiAodGhpcy5fY3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHdpbmRvd1snQ3VzdG9tU3R5bGVJbnRlcmZhY2UnXSkge1xuICAgICAgdGhpcy5fY3VzdG9tU3R5bGVJbnRlcmZhY2UgPSB3aW5kb3dbJ0N1c3RvbVN0eWxlSW50ZXJmYWNlJ107XG4gICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gKi9cbiAgICAgIHRoaXMuX2N1c3RvbVN0eWxlSW50ZXJmYWNlWyd0cmFuc2Zvcm1DYWxsYmFjayddID0gKHN0eWxlKSA9PiB7dGhpcy50cmFuc2Zvcm1DdXN0b21TdHlsZUZvckRvY3VtZW50KHN0eWxlKX07XG4gICAgICB0aGlzLl9jdXN0b21TdHlsZUludGVyZmFjZVsndmFsaWRhdGVDYWxsYmFjayddID0gKCkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLl9jdXN0b21TdHlsZUludGVyZmFjZVsnZW5xdWV1ZWQnXSB8fCB0aGlzLl9lbGVtZW50c0hhdmVBcHBsaWVkKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoQ3VzdG9tU3R5bGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY3VzdG9tU3R5bGVJbnRlcmZhY2UgPSB7XG4gICAgICAgIFsnZmluZFN0eWxlcyddKCkge30sXG4gICAgICAgIFsnZW5xdWV1ZWQnXTogZmFsc2UsXG4gICAgICAgIFsnZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSddKHMpIHsgcmV0dXJuIG51bGwgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmx1c2ggYW5kIGFwcGx5IGN1c3RvbSBzdHlsZXMgdG8gZG9jdW1lbnRcbiAgICovXG4gIGZsdXNoQ3VzdG9tU3R5bGVzKCkge1xuICAgIHRoaXMuX2Vuc3VyZUN1c3RvbVN0eWxlSW50ZXJmYWNlKCk7XG4gICAgdGhpcy5fY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2ZpbmRTdHlsZXMnXSgpO1xuICAgIC8vIGVhcmx5IHJldHVybiBpZiBjdXN0b20tc3R5bGVzIGRvbid0IG5lZWQgdmFsaWRhdGlvblxuICAgIGlmICghdGhpcy5fY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGN1c3RvbVN0eWxlcyA9IHRoaXMuX2N1c3RvbVN0eWxlSW50ZXJmYWNlWydjdXN0b21TdHlsZXMnXTtcbiAgICBpZiAoIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgdGhpcy5fdXBkYXRlUHJvcGVydGllcyh0aGlzLl9kb2N1bWVudE93bmVyLCB0aGlzLl9kb2N1bWVudE93bmVyU3R5bGVJbmZvKTtcbiAgICAgIHRoaXMuX2FwcGx5Q3VzdG9tU3R5bGVzKGN1c3RvbVN0eWxlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JldmFsaWRhdGVDdXN0b21TdHlsZUFwcGx5U2hpbShjdXN0b21TdHlsZXMpO1xuICAgIH1cbiAgICB0aGlzLl9jdXN0b21TdHlsZUludGVyZmFjZVsnZW5xdWV1ZWQnXSA9IGZhbHNlO1xuICAgIC8vIGlmIGN1c3RvbSBlbGVtZW50cyBoYXZlIHVwZ3JhZGVkIGFuZCB0aGVyZSBhcmUgbm8gbmF0aXZlIGN1c3RvbSBwcm9wZXJ0aWVzLCB3ZSBtdXN0IHJlY2FsY3VsYXRlIHRoZSB3aG9sZSB0cmVlXG4gICAgaWYgKHRoaXMuX2VsZW1lbnRzSGF2ZUFwcGxpZWQgJiYgIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgdGhpcy51cGRhdGVTdHlsZXMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IHN0eWxlcyBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGhvc3RcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvdmVycmlkZVByb3BzXG4gICAqL1xuICBhcHBseUVsZW1lbnRTdHlsZShob3N0LCBvdmVycmlkZVByb3BzKSB7XG4gICAgbGV0IHtpc30gPSBTdHlsZVV0aWwuZ2V0SXNFeHRlbmRzKGhvc3QpO1xuICAgIGxldCBzdHlsZUluZm8gPSBTdHlsZUluZm8uZ2V0KGhvc3QpO1xuICAgIGlmICghc3R5bGVJbmZvKSB7XG4gICAgICBzdHlsZUluZm8gPSB0aGlzLl9wcmVwYXJlSG9zdChob3N0KTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlwIHRoZSBgZWxlbWVudHNIYXZlQXBwbGllZGAgZmxhZyBpZiBhIG5vZGUgb3RoZXIgdGhhdCB0aGUgcm9vdCBkb2N1bWVudCBoYXMgYGFwcGx5U3R5bGVgIGNhbGxlZFxuICAgIGlmICghdGhpcy5faXNSb290T3duZXIoaG9zdCkpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRzSGF2ZUFwcGxpZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3ZlcnJpZGVQcm9wcykge1xuICAgICAgc3R5bGVJbmZvLm92ZXJyaWRlU3R5bGVQcm9wZXJ0aWVzID1cbiAgICAgICAgc3R5bGVJbmZvLm92ZXJyaWRlU3R5bGVQcm9wZXJ0aWVzIHx8IHt9O1xuICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZUluZm8ub3ZlcnJpZGVTdHlsZVByb3BlcnRpZXMsIG92ZXJyaWRlUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICB0aGlzLl91cGRhdGVQcm9wZXJ0aWVzKGhvc3QsIHN0eWxlSW5mbyk7XG4gICAgICBpZiAoc3R5bGVJbmZvLm93blN0eWxlUHJvcGVydHlOYW1lcyAmJiBzdHlsZUluZm8ub3duU3R5bGVQcm9wZXJ0eU5hbWVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlUHJvcGVydGllcyhob3N0LCBzdHlsZUluZm8pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3R5bGVJbmZvLm92ZXJyaWRlU3R5bGVQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoaG9zdCwgc3R5bGVJbmZvLm92ZXJyaWRlU3R5bGVQcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2lzXTtcbiAgICAgIC8vIGJhaWwgZWFybHkgaWYgdGhlcmUgaXMgbm8gc2hhZG93cm9vdCBmb3IgdGhpcyBlbGVtZW50XG4gICAgICBpZiAoIXRlbXBsYXRlICYmICF0aGlzLl9pc1Jvb3RPd25lcihob3N0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGVtcGxhdGUgJiYgdGVtcGxhdGUuX3N0eWxlICYmICFBcHBseVNoaW1VdGlscy50ZW1wbGF0ZUlzVmFsaWQodGVtcGxhdGUpKSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0ZW1wbGF0ZVxuICAgICAgICBpZiAoIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSkge1xuICAgICAgICAgIEFwcGx5U2hpbS50cmFuc2Zvcm1SdWxlcyh0ZW1wbGF0ZS5fc3R5bGVBc3QsIGlzKTtcbiAgICAgICAgICB0ZW1wbGF0ZS5fc3R5bGUudGV4dENvbnRlbnQgPSBTdHlsZVRyYW5zZm9ybWVyLmVsZW1lbnRTdHlsZXMoaG9zdCwgc3R5bGVJbmZvLnN0eWxlUnVsZXMpO1xuICAgICAgICAgIEFwcGx5U2hpbVV0aWxzLnN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgaW5zdGFuY2UgaWYgbmF0aXZlIHNoYWRvd2RvbVxuICAgICAgICBpZiAobmF0aXZlU2hhZG93KSB7XG4gICAgICAgICAgbGV0IHJvb3QgPSBob3N0LnNoYWRvd1Jvb3Q7XG4gICAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IHJvb3QucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gU3R5bGVUcmFuc2Zvcm1lci5lbGVtZW50U3R5bGVzKGhvc3QsIHN0eWxlSW5mby5zdHlsZVJ1bGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVJbmZvLnN0eWxlUnVsZXMgPSB0ZW1wbGF0ZS5fc3R5bGVBc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9zdHlsZU93bmVyRm9yTm9kZShub2RlKSB7XG4gICAgbGV0IHJvb3QgPSBub2RlLmdldFJvb3ROb2RlKCk7XG4gICAgbGV0IGhvc3QgPSByb290Lmhvc3Q7XG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIGlmIChTdHlsZUluZm8uZ2V0KGhvc3QpKSB7XG4gICAgICAgIHJldHVybiBob3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlT3duZXJGb3JOb2RlKGhvc3QpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnRPd25lcjtcbiAgfVxuICBfaXNSb290T3duZXIobm9kZSkge1xuICAgIHJldHVybiAobm9kZSA9PT0gdGhpcy5fZG9jdW1lbnRPd25lcik7XG4gIH1cbiAgX2FwcGx5U3R5bGVQcm9wZXJ0aWVzKGhvc3QsIHN0eWxlSW5mbykge1xuICAgIGxldCBpcyA9IFN0eWxlVXRpbC5nZXRJc0V4dGVuZHMoaG9zdCkuaXM7XG4gICAgbGV0IGNhY2hlRW50cnkgPSBzdHlsZUNhY2hlLmZldGNoKGlzLCBzdHlsZUluZm8uc3R5bGVQcm9wZXJ0aWVzLCBzdHlsZUluZm8ub3duU3R5bGVQcm9wZXJ0eU5hbWVzKTtcbiAgICBsZXQgY2FjaGVkU2NvcGVTZWxlY3RvciA9IGNhY2hlRW50cnkgJiYgY2FjaGVFbnRyeS5zY29wZVNlbGVjdG9yO1xuICAgIGxldCBjYWNoZWRTdHlsZSA9IGNhY2hlRW50cnkgPyBjYWNoZUVudHJ5LnN0eWxlRWxlbWVudCA6IG51bGw7XG4gICAgbGV0IG9sZFNjb3BlU2VsZWN0b3IgPSBzdHlsZUluZm8uc2NvcGVTZWxlY3RvcjtcbiAgICAvLyBvbmx5IGdlbmVyYXRlIG5ldyBzY29wZSBpZiBjYWNoZWQgc3R5bGUgaXMgbm90IGZvdW5kXG4gICAgc3R5bGVJbmZvLnNjb3BlU2VsZWN0b3IgPSBjYWNoZWRTY29wZVNlbGVjdG9yIHx8IHRoaXMuX2dlbmVyYXRlU2NvcGVTZWxlY3Rvcihpcyk7XG4gICAgbGV0IHN0eWxlID0gU3R5bGVQcm9wZXJ0aWVzLmFwcGx5RWxlbWVudFN0eWxlKGhvc3QsIHN0eWxlSW5mby5zdHlsZVByb3BlcnRpZXMsIHN0eWxlSW5mby5zY29wZVNlbGVjdG9yLCBjYWNoZWRTdHlsZSk7XG4gICAgaWYgKCFuYXRpdmVTaGFkb3cpIHtcbiAgICAgIFN0eWxlUHJvcGVydGllcy5hcHBseUVsZW1lbnRTY29wZVNlbGVjdG9yKGhvc3QsIHN0eWxlSW5mby5zY29wZVNlbGVjdG9yLCBvbGRTY29wZVNlbGVjdG9yKTtcbiAgICB9XG4gICAgaWYgKCFjYWNoZUVudHJ5KSB7XG4gICAgICBzdHlsZUNhY2hlLnN0b3JlKGlzLCBzdHlsZUluZm8uc3R5bGVQcm9wZXJ0aWVzLCBzdHlsZSwgc3R5bGVJbmZvLnNjb3BlU2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cbiAgX3VwZGF0ZVByb3BlcnRpZXMoaG9zdCwgc3R5bGVJbmZvKSB7XG4gICAgbGV0IG93bmVyID0gdGhpcy5fc3R5bGVPd25lckZvck5vZGUoaG9zdCk7XG4gICAgbGV0IG93bmVyU3R5bGVJbmZvID0gU3R5bGVJbmZvLmdldChvd25lcik7XG4gICAgbGV0IG93bmVyUHJvcGVydGllcyA9IG93bmVyU3R5bGVJbmZvLnN0eWxlUHJvcGVydGllcztcbiAgICBsZXQgcHJvcHMgPSBPYmplY3QuY3JlYXRlKG93bmVyUHJvcGVydGllcyB8fCBudWxsKTtcbiAgICBsZXQgaG9zdEFuZFJvb3RQcm9wcyA9IFN0eWxlUHJvcGVydGllcy5ob3N0QW5kUm9vdFByb3BlcnRpZXNGb3JTY29wZShob3N0LCBzdHlsZUluZm8uc3R5bGVSdWxlcyk7XG4gICAgbGV0IHByb3BlcnR5RGF0YSA9IFN0eWxlUHJvcGVydGllcy5wcm9wZXJ0eURhdGFGcm9tU3R5bGVzKG93bmVyU3R5bGVJbmZvLnN0eWxlUnVsZXMsIGhvc3QpO1xuICAgIGxldCBwcm9wZXJ0aWVzTWF0Y2hpbmdIb3N0ID0gcHJvcGVydHlEYXRhLnByb3BlcnRpZXNcbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAgcHJvcHMsXG4gICAgICBob3N0QW5kUm9vdFByb3BzLmhvc3RQcm9wcyxcbiAgICAgIHByb3BlcnRpZXNNYXRjaGluZ0hvc3QsXG4gICAgICBob3N0QW5kUm9vdFByb3BzLnJvb3RQcm9wc1xuICAgICk7XG4gICAgdGhpcy5fbWl4aW5PdmVycmlkZVN0eWxlcyhwcm9wcywgc3R5bGVJbmZvLm92ZXJyaWRlU3R5bGVQcm9wZXJ0aWVzKTtcbiAgICBTdHlsZVByb3BlcnRpZXMucmVpZnkocHJvcHMpO1xuICAgIHN0eWxlSW5mby5zdHlsZVByb3BlcnRpZXMgPSBwcm9wcztcbiAgfVxuICBfbWl4aW5PdmVycmlkZVN0eWxlcyhwcm9wcywgb3ZlcnJpZGVzKSB7XG4gICAgZm9yIChsZXQgcCBpbiBvdmVycmlkZXMpIHtcbiAgICAgIGxldCB2ID0gb3ZlcnJpZGVzW3BdO1xuICAgICAgLy8gc2tpcCBvdmVycmlkZSBwcm9wcyBpZiB0aGV5IGFyZSBub3QgdHJ1dGh5IG9yIDBcbiAgICAgIC8vIGluIG9yZGVyIHRvIGZhbGwgYmFjayB0byBpbmhlcml0ZWQgdmFsdWVzXG4gICAgICBpZiAodiB8fCB2ID09PSAwKSB7XG4gICAgICAgIHByb3BzW3BdID0gdjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAgIC8vIHJlbW92ZSBwcmV2aW91cyBwcm9wZXJ0aWVzXG4gICAgZm9yIChsZXQgcCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAvLyBOT1RFOiBmb3IgYmMgd2l0aCBzaGltLCBkb24ndCBhcHBseSBudWxsIHZhbHVlcy5cbiAgICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkocCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHAsIHByb3BlcnRpZXNbcF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHN0eWxlcyBvZiB0aGUgd2hvbGUgZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAqL1xuICB1cGRhdGVTdHlsZXMocHJvcGVydGllcykge1xuICAgIHRoaXMuYXBwbHlTdWJ0cmVlU3R5bGUodGhpcy5fZG9jdW1lbnRPd25lciwgcHJvcGVydGllcyk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBzdHlsZXMgb2YgYSBzdWJ0cmVlXG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBob3N0XG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgKi9cbiAgYXBwbHlTdWJ0cmVlU3R5bGUoaG9zdCwgcHJvcGVydGllcykge1xuICAgIGlmIChob3N0LnNoYWRvd1Jvb3QgfHwgdGhpcy5faXNSb290T3duZXIoaG9zdCkpIHtcbiAgICAgIHRoaXMuYXBwbHlFbGVtZW50U3R5bGUoaG9zdCwgcHJvcGVydGllcyk7XG4gICAgfVxuICAgIC8vIHByb2Nlc3MgdGhlIHNoYWRvd2RvbSBjaGlsZHJlbiBvZiBgcm9vdGBcbiAgICBsZXQgcm9vdCA9IGhvc3Quc2hhZG93Um9vdDtcbiAgICBsZXQgc2hhZG93Q2hpbGRyZW4gPSByb290ICYmIChyb290LmNoaWxkcmVuIHx8IHJvb3QuY2hpbGROb2Rlcyk7XG4gICAgaWYgKHNoYWRvd0NoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYWRvd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHNoYWRvd0NoaWxkcmVuW2ldKTtcbiAgICAgICAgdGhpcy5hcHBseVN1YnRyZWVTdHlsZShjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJvY2VzcyB0aGUgbGlnaHRkb20gY2hpbGRyZW4gb2YgYHJvb3RgXG4gICAgbGV0IGNoaWxkcmVuID0gaG9zdC5jaGlsZHJlbiB8fCBob3N0LmNoaWxkTm9kZXM7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgdGhpcy5hcHBseVN1YnRyZWVTdHlsZShjKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyogQ3VzdG9tIFN0eWxlIG9wZXJhdGlvbnMgKi9cbiAgX3JldmFsaWRhdGVDdXN0b21TdHlsZUFwcGx5U2hpbShjdXN0b21TdHlsZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1c3RvbVN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGMgPSBjdXN0b21TdHlsZXNbaV07XG4gICAgICBsZXQgcyA9IHRoaXMuX2N1c3RvbVN0eWxlSW50ZXJmYWNlWydnZXRTdHlsZUZvckN1c3RvbVN0eWxlJ10oYyk7XG4gICAgICBpZiAocykge1xuICAgICAgICB0aGlzLl9yZXZhbGlkYXRlQXBwbHlTaGltKHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfYXBwbHlDdXN0b21TdHlsZXMoY3VzdG9tU3R5bGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXN0b21TdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjID0gY3VzdG9tU3R5bGVzW2ldO1xuICAgICAgbGV0IHMgPSB0aGlzLl9jdXN0b21TdHlsZUludGVyZmFjZVsnZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSddKGMpO1xuICAgICAgaWYgKHMpIHtcbiAgICAgICAgU3R5bGVQcm9wZXJ0aWVzLmFwcGx5Q3VzdG9tU3R5bGUocywgdGhpcy5fZG9jdW1lbnRPd25lclN0eWxlSW5mby5zdHlsZVByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0cmFuc2Zvcm1DdXN0b21TdHlsZUZvckRvY3VtZW50KHN0eWxlKSB7XG4gICAgbGV0IGFzdCA9IFN0eWxlVXRpbC5ydWxlc0ZvclN0eWxlKHN0eWxlKTtcbiAgICBTdHlsZVV0aWwuZm9yRWFjaFJ1bGUoYXN0LCAocnVsZSkgPT4ge1xuICAgICAgaWYgKG5hdGl2ZVNoYWRvdykge1xuICAgICAgICBTdHlsZVRyYW5zZm9ybWVyLm5vcm1hbGl6ZVJvb3RTZWxlY3RvcihydWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFN0eWxlVHJhbnNmb3JtZXIuZG9jdW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKG5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgICBBcHBseVNoaW0udHJhbnNmb3JtUnVsZShydWxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAobmF0aXZlQ3NzVmFyaWFibGVzKSB7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IFN0eWxlVXRpbC50b0Nzc1RleHQoYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZG9jdW1lbnRPd25lclN0eWxlSW5mby5zdHlsZVJ1bGVzLnJ1bGVzLnB1c2goYXN0KTtcbiAgICB9XG4gIH1cbiAgX3JldmFsaWRhdGVBcHBseVNoaW0oc3R5bGUpIHtcbiAgICBpZiAobmF0aXZlQ3NzVmFyaWFibGVzKSB7XG4gICAgICBsZXQgYXN0ID0gU3R5bGVVdGlsLnJ1bGVzRm9yU3R5bGUoc3R5bGUpO1xuICAgICAgQXBwbHlTaGltLnRyYW5zZm9ybVJ1bGVzKGFzdCk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IFN0eWxlVXRpbC50b0Nzc1RleHQoYXN0KTtcbiAgICB9XG4gIH1cbiAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICghbmF0aXZlQ3NzVmFyaWFibGVzKSB7XG4gICAgICAvLyBlbGVtZW50IGlzIGVpdGhlciBhIHN0eWxlIGhvc3QsIG9yIGFuIGFuY2VzdG9yIG9mIGEgc3R5bGUgaG9zdFxuICAgICAgbGV0IHN0eWxlSW5mbyA9IFN0eWxlSW5mby5nZXQoZWxlbWVudCkgfHwgU3R5bGVJbmZvLmdldCh0aGlzLl9zdHlsZU93bmVyRm9yTm9kZShlbGVtZW50KSk7XG4gICAgICB2YWx1ZSA9IHN0eWxlSW5mby5zdHlsZVByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgIH1cbiAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIHByb3BlcnR5IHZhbHVlIGZyb20gdGhlIGNvbXB1dGVkIHN0eWxpbmdcbiAgICB2YWx1ZSA9IHZhbHVlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xuICAgIC8vIHRyaW0gd2hpdGVzcGFjZSB0aGF0IGNhbiBjb21lIGFmdGVyIHRoZSBgOmAgaW4gY3NzXG4gICAgLy8gZXhhbXBsZTogcGFkZGluZzogMnB4IC0+IFwiIDJweFwiXG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfVxuICAvLyBnaXZlbiBhbiBlbGVtZW50IGFuZCBhIGNsYXNzU3RyaW5nLCByZXBsYWNlc1xuICAvLyB0aGUgZWxlbWVudCdzIGNsYXNzIHdpdGggdGhlIHByb3ZpZGVkIGNsYXNzU3RyaW5nIGFuZCBhZGRzXG4gIC8vIGFueSBuZWNlc3NhcnkgU2hhZHlDU1Mgc3RhdGljIGFuZCBwcm9wZXJ0eSBiYXNlZCBzY29waW5nIHNlbGVjdG9yc1xuICBzZXRFbGVtZW50Q2xhc3MoZWxlbWVudCwgY2xhc3NTdHJpbmcpIHtcbiAgICBsZXQgcm9vdCA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKTtcbiAgICBsZXQgY2xhc3NlcyA9IGNsYXNzU3RyaW5nID8gY2xhc3NTdHJpbmcuc3BsaXQoL1xccy8pIDogW107XG4gICAgbGV0IHNjb3BlTmFtZSA9IHJvb3QuaG9zdCAmJiByb290Lmhvc3QubG9jYWxOYW1lO1xuICAgIC8vIElmIG5vIHNjb3BlLCB0cnkgdG8gZGlzY292ZXIgc2NvcGUgbmFtZSBmcm9tIGV4aXN0aW5nIGNsYXNzLlxuICAgIC8vIFRoaXMgY2FuIG9jY3VyIGlmLCBmb3IgZXhhbXBsZSwgYSB0ZW1wbGF0ZSBzdGFtcGVkIGVsZW1lbnQgdGhhdFxuICAgIC8vIGhhcyBiZWVuIHNjb3BlZCBpcyBtYW5pcHVsYXRlZCB3aGVuIG5vdCBpbiBhIHJvb3QuXG4gICAgaWYgKCFzY29wZU5hbWUpIHtcbiAgICAgIHZhciBjbGFzc0F0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICAgIGlmIChjbGFzc0F0dHIpIHtcbiAgICAgICAgbGV0IGskID0gY2xhc3NBdHRyLnNwbGl0KC9cXHMvKTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgayQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoayRbaV0gPT09IFN0eWxlVHJhbnNmb3JtZXIuU0NPUEVfTkFNRSkge1xuICAgICAgICAgICAgc2NvcGVOYW1lID0gayRbaSsxXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NvcGVOYW1lKSB7XG4gICAgICBjbGFzc2VzLnB1c2goU3R5bGVUcmFuc2Zvcm1lci5TQ09QRV9OQU1FLCBzY29wZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgICAgbGV0IHN0eWxlSW5mbyA9IFN0eWxlSW5mby5nZXQoZWxlbWVudCk7XG4gICAgICBpZiAoc3R5bGVJbmZvICYmIHN0eWxlSW5mby5zY29wZVNlbGVjdG9yKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChTdHlsZVByb3BlcnRpZXMuWFNDT1BFX05BTUUsIHN0eWxlSW5mby5zY29wZVNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgU3R5bGVVdGlsLnNldEVsZW1lbnRDbGFzc1JhdyhlbGVtZW50LCBjbGFzc2VzLmpvaW4oJyAnKSk7XG4gIH1cbiAgX3N0eWxlSW5mb0Zvck5vZGUobm9kZSkge1xuICAgIHJldHVybiBTdHlsZUluZm8uZ2V0KG5vZGUpO1xuICB9XG59XG5cbi8qIGV4cG9ydHMgKi9cblNjb3BpbmdTaGltLnByb3RvdHlwZVsnZmx1c2gnXSA9IFNjb3BpbmdTaGltLnByb3RvdHlwZS5mbHVzaDtcblNjb3BpbmdTaGltLnByb3RvdHlwZVsncHJlcGFyZVRlbXBsYXRlJ10gPSBTY29waW5nU2hpbS5wcm90b3R5cGUucHJlcGFyZVRlbXBsYXRlO1xuU2NvcGluZ1NoaW0ucHJvdG90eXBlWydhcHBseUVsZW1lbnRTdHlsZSddID0gU2NvcGluZ1NoaW0ucHJvdG90eXBlLmFwcGx5RWxlbWVudFN0eWxlO1xuU2NvcGluZ1NoaW0ucHJvdG90eXBlWyd1cGRhdGVTdHlsZXMnXSA9IFNjb3BpbmdTaGltLnByb3RvdHlwZS51cGRhdGVTdHlsZXM7XG5TY29waW5nU2hpbS5wcm90b3R5cGVbJ2FwcGx5U3VidHJlZVN0eWxlJ10gPSBTY29waW5nU2hpbS5wcm90b3R5cGUuYXBwbHlTdWJ0cmVlU3R5bGU7XG5TY29waW5nU2hpbS5wcm90b3R5cGVbJ2dldENvbXB1dGVkU3R5bGVWYWx1ZSddID0gU2NvcGluZ1NoaW0ucHJvdG90eXBlLmdldENvbXB1dGVkU3R5bGVWYWx1ZTtcblNjb3BpbmdTaGltLnByb3RvdHlwZVsnc2V0RWxlbWVudENsYXNzJ10gPSBTY29waW5nU2hpbS5wcm90b3R5cGUuc2V0RWxlbWVudENsYXNzO1xuU2NvcGluZ1NoaW0ucHJvdG90eXBlWydfc3R5bGVJbmZvRm9yTm9kZSddID0gU2NvcGluZ1NoaW0ucHJvdG90eXBlLl9zdHlsZUluZm9Gb3JOb2RlO1xuU2NvcGluZ1NoaW0ucHJvdG90eXBlWyd0cmFuc2Zvcm1DdXN0b21TdHlsZUZvckRvY3VtZW50J10gPSBTY29waW5nU2hpbS5wcm90b3R5cGUudHJhbnNmb3JtQ3VzdG9tU3R5bGVGb3JEb2N1bWVudDtcblNjb3BpbmdTaGltLnByb3RvdHlwZVsnZ2V0U3R5bGVBc3QnXSA9IFNjb3BpbmdTaGltLnByb3RvdHlwZS5nZXRTdHlsZUFzdDtcblNjb3BpbmdTaGltLnByb3RvdHlwZVsnc3R5bGVBc3RUb1N0cmluZyddID0gU2NvcGluZ1NoaW0ucHJvdG90eXBlLnN0eWxlQXN0VG9TdHJpbmc7XG5TY29waW5nU2hpbS5wcm90b3R5cGVbJ2ZsdXNoQ3VzdG9tU3R5bGVzJ10gPSBTY29waW5nU2hpbS5wcm90b3R5cGUuZmx1c2hDdXN0b21TdHlsZXM7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhTY29waW5nU2hpbS5wcm90b3R5cGUsIHtcbiAgJ25hdGl2ZVNoYWRvdyc6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gbmF0aXZlU2hhZG93O1xuICAgIH1cbiAgfSxcbiAgJ25hdGl2ZUNzcyc6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gbmF0aXZlQ3NzVmFyaWFibGVzO1xuICAgIH1cbiAgfVxufSk7IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0IFNjb3BpbmdTaGltIGZyb20gJy4uL3NyYy9zY29waW5nLXNoaW0nXG5cbndpbmRvd1snU2NvcGluZ1NoaW0nXSA9IG5ldyBTY29waW5nU2hpbSgpOyJdLCJuYW1lcyI6WyJTdHlsZVV0aWwuc2V0RWxlbWVudENsYXNzUmF3IiwiU3R5bGVVdGlsLnRvQ3NzVGV4dCIsIlN0eWxlVXRpbC5nZXRJc0V4dGVuZHMiLCJTdHlsZVV0aWwuaXNLZXlmcmFtZXNTZWxlY3RvciIsIlN0eWxlVXRpbC5mb3JFYWNoUnVsZSIsIlJYLlZBUl9BU1NJR04iLCJSWC5CUkFDS0VURUQiLCJSWC5WQVJfQ09OU1VNRUQiLCJTdHlsZVV0aWwucHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2siLCJSWC5NSVhJTl9NQVRDSCIsIlJYLkFOSU1BVElPTl9NQVRDSCIsIlN0eWxlVHJhbnNmb3JtZXIiLCJSWC5IT1NUX1BSRUZJWCIsIlJYLkhPU1RfU1VGRklYIiwiU3R5bGVVdGlsLmFwcGx5Q3NzIiwiU3R5bGVVdGlsLmFwcGx5U3R5bGUiLCJTdHlsZVV0aWwucnVsZXNGb3JTdHlsZSIsIkFwcGx5U2hpbVV0aWxzLkFwcGx5U2hpbVNoaW0iLCJ3YXRjaGVyRmx1c2giLCJTdHlsZVByb3BlcnRpZXMiLCJBcHBseVNoaW1VdGlscy50ZW1wbGF0ZUlzVmFsaWQiLCJBcHBseVNoaW1VdGlscy50ZW1wbGF0ZUlzVmFsaWRhdGluZyIsIkFwcGx5U2hpbVV0aWxzLnN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsQUFFQTtBQUNBLE1BQU0sU0FBUyxDQUFDO0VBQ2QsV0FBVyxHQUFHOztJQUVaLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7O0lBRWxCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7O0lBRWhCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXhCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXRCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXJCLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRTNCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRXJCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7O0lBRXZCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7O0lBRWpCLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRTNCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRXRCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQztHQUM3QjtDQUNG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"}