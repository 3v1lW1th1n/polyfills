(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function e(De){return De=a(De),u(d(De),De)}function a(De){return De.replace(X.comments,'').replace(X.port,'')}function d(De){let He={start:0,end:De.length},ke=He;for(let Ue=0,Ke=De.length;Ue<Ke;Ue++)if(De[Ue]===U){ke.rules||(ke.rules=[]);let Xe=ke,je=Xe.rules[Xe.rules.length-1];ke={start:Ue+1,parent:Xe,previous:je},Xe.rules.push(ke)}else De[Ue]===K&&(ke.end=Ue+1,ke=ke.parent||He);return He}function u(De,He){let ke=He.substring(De.start,De.end-1);if(De.parsedCssText=De.cssText=ke.trim(),De.parent){let Ke=De.previous?De.previous.end:De.parent.start;ke=He.substring(Ke,De.start-1),ke=y(ke),ke=ke.replace(X.multipleSpaces,' '),ke=ke.substring(ke.lastIndexOf(';')+1);let Xe=De.parsedSelector=De.selector=ke.trim();De.atRule=0===Xe.indexOf('@'),De.atRule?0===Xe.indexOf('@media')?De.type=k.MEDIA_RULE:Xe.match(X.keyframesRule)&&(De.type=k.KEYFRAMES_RULE,De.keyframesName=De.selector.split(X.multipleSpaces).pop()):0===Xe.indexOf(j)?De.type=k.MIXIN_RULE:De.type=k.STYLE_RULE}let Ue=De.rules;if(Ue)for(let je,Ke=0,Xe=Ue.length;Ke<Xe&&(je=Ue[Ke]);Ke++)u(je,He);return De}function y(De){return De.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let He=arguments[1],ke=6-He.length;for(;ke--;)He='0'+He;return'\\'+He})}function _(De,He,ke){ke=ke||'';let Ue='';if(De.cssText||De.rules){let Ke=De.rules;if(Ke&&!S(Ke))for(let Ve,Xe=0,je=Ke.length;Xe<je&&(Ve=Ke[Xe]);Xe++)Ue=_(Ve,He,Ue);else Ue=He?De.cssText:h(De.cssText),Ue=Ue.trim(),Ue&&(Ue='  '+Ue+'\n')}return Ue&&(De.selector&&(ke+=De.selector+' '+U+'\n'),ke+=Ue,De.selector&&(ke+=K+'\n\n')),ke}function S(De){return 0===De[0].selector.indexOf(j)}function h(De){return De=C(De),g(De)}function C(De){return De.replace(X.customProp,'').replace(X.mixinProp,'')}function g(De){return De.replace(X.mixinApply,'').replace(X.varApply,'')}function E(De){De&&(B=B&&!De.shimcssproperties,V=V&&!De.shimshadow)}function T(De,He){return'string'==typeof De&&(De=e(De)),He&&N(De,He),_(De,B)}function A(De){return!De.__cssRules&&De.textContent&&(De.__cssRules=e(De.textContent)),De.__cssRules}function R(De){return De.parent&&De.parent.type===k.KEYFRAMES_RULE}function N(De,He,ke,Ue){if(De){let Ke=!1;if(Ue&&De.type===k.MEDIA_RULE){let je=De.selector.match(z.MEDIA_MATCH);je&&!window.matchMedia(je[1]).matches&&(Ke=!0)}De.type===k.STYLE_RULE?He(De):ke&&De.type===k.KEYFRAMES_RULE?ke(De):De.type===k.MIXIN_RULE&&(Ke=!0);let Xe=De.rules;if(Xe&&!Ke)for(let Be,je=0,Ve=Xe.length;je<Ve&&(Be=Xe[je]);je++)N(Be,He,ke,Ue)}}function P(De,He,ke,Ue){let Ke=O(De,He);return I(Ke,ke,Ue)}function I(De,He,ke){He=He||document.head;let Ue=ke&&ke.nextSibling||He.firstChild;return G=De,He.insertBefore(De,Ue)}function O(De,He){let ke=document.createElement('style');return He&&ke.setAttribute('scope',He),ke.textContent=De,ke}function M(De){let He=document.createComment(' Shady DOM styles for '+De+' '),ke=G?G.nextSibling:null,Ue=document.head;return Ue.insertBefore(He,ke||Ue.firstChild),G=He,He}function b(De,He){let ke=0;for(let Ue=He,Ke=De.length;Ue<Ke;Ue++)if('('===De[Ue])ke++;else if(')'===De[Ue]&&0==--ke)return Ue;return-1}function w(De,He){let ke=De.indexOf('var(');if(-1===ke)return He(De,'','','');let Ue=b(De,ke+3),Ke=De.substring(ke+4,Ue),Xe=De.substring(0,ke),je=w(De.substring(Ue+1),He),Ve=Ke.indexOf(',');if(-1===Ve)return He(Xe,Ke.trim(),'',je);let Be=Ke.substring(0,Ve).trim(),Ye=Ke.substring(Ve+1).trim();return He(Xe,Be,Ye,je)}function L(De,He){De.__nativeSetAttribute?De.__nativeSetAttribute('class',He):De.setAttribute('class',He)}function F(De,He){let ke=parseInt(De/32);He[ke]=(He[ke]||0)|1<<De%32}function D(){Oe||(Oe=!0,window.HTMLImports?window.HTMLImports.whenReady(H):'complete'===document.readyState?H():!Le&&(Le=!0,document.addEventListener('readystatechange',()=>{'complete'===document.readyState&&H()})))}function H(){requestAnimationFrame(()=>{(Oe||Me)&&Ie.updateStyles(),Oe=!1,Me=!0})}let k={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},U='{',K='}',X={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},j='--',V=!(window.ShadyDOM&&window.ShadyDOM.inUse),B=!navigator.userAgent.match('AppleWebKit/601')&&window.CSS&&CSS.supports&&CSS.supports('box-shadow','0 0 0 var(--foo)'),Y=!1;window.ShadyCSS?E(window.ShadyCSS):window.WebComponents&&E(window.WebComponents.flags);let G=null,z={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:'(?:^|[^.#[:])',HOST_SUFFIX:'($|[.:[\\s>+~])'},q='style-scope',W={dom:function(De,He,ke){De.__styleScoped?De.__styleScoped=null:this._transformDom(De,He||'',ke)},_transformDom:function(De,He,ke){De.nodeType===Node.ELEMENT_NODE&&this.element(De,He,ke);let Ue='template'===De.localName?(De.content||De._content).childNodes:De.children||De.childNodes;if(Ue)for(let Ke=0;Ke<Ue.length;Ke++)this._transformDom(Ue[Ke],He,ke)},element:function(De,He,ke){if(He)if(De.classList)ke?(De.classList.remove(q),De.classList.remove(He)):(De.classList.add(q),De.classList.add(He));else if(De.getAttribute){let Ue=De.getAttribute('class');if(!ke){let Ke=(Ue?Ue+' ':'')+q+' '+He;L(De,Ke)}else if(Ue){let Ke=Ue.replace(q,'').replace(He,'');L(De,Ke)}}},elementStyles:function(De,He,ke){let Ue=De.__cssBuild,Ke=V||'shady'===Ue?T(He,ke):this.css(He,De.is,De.extends,ke)+'\n\n';return Ke.trim()},css:function(De,He,ke,Ue){let Ke=this._calcHostScope(He,ke);He=this._calcElementScope(He);let Xe=this;return T(De,function(je){je.isScoped||(Xe.rule(je,He,Ke),je.isScoped=!0),Ue&&Ue(je,He,Ke)})},_calcElementScope:function(De){return De?'.'+De:''},_calcHostScope:function(De,He){return He?'[is='+De+']':De},rule:function(De,He,ke){this._transformRule(De,this._transformComplexSelector,He,ke)},_transformRule:function(De,He,ke,Ue){De.selector=De.transformedSelector=this._transformRuleCss(De,He,ke,Ue)},_transformRuleCss:function(De,He,ke,Ue){let Ke=De.selector.split(Z);if(!R(De))for(let Ve,Xe=0,je=Ke.length;Xe<je&&(Ve=Ke[Xe]);Xe++)Ke[Xe]=He.call(this,Ve,ke,Ue);return Ke.join(Z)},_transformComplexSelector:function(De,He,ke){let Ue=!1;return De=De.trim(),De=De.replace($,(Ke,Xe,je)=>`:${Xe}(${je.replace(/\s/g,'')})`),De=De.replace(re,`${te} $1`),De=De.replace(J,(Ke,Xe,je)=>{if(!Ue){let Ve=this._transformCompoundSelector(je,Xe,He,ke);Ue=Ue||Ve.stop,Xe=Ve.combinator,je=Ve.value}return Xe+je}),De},_transformCompoundSelector:function(De,He,ke,Ue){let Ke=De.indexOf(se);0<=De.indexOf(te)?De=this._transformHostSelector(De,Ue):0!==Ke&&(De=ke?this._transformSimpleSelector(De,ke):De);let Xe=!1;0<=Ke&&(He='',Xe=!0);let je;return Xe&&(je=!0,Xe&&(De=De.replace(le,(Ve,Be)=>` > ${Be}`))),De=De.replace(ne,(Ve,Be,Ye)=>`[dir="${Ye}"] ${Be}, ${Be}[dir="${Ye}"]`),{value:De,combinator:He,stop:je}},_transformSimpleSelector:function(De,He){let ke=De.split(ae);return ke[0]+=He,ke.join(ae)},_transformHostSelector:function(De,He){let ke=De.match(oe),Ue=ke&&ke[2].trim()||'';if(Ue){if(!Ue[0].match(ee)){let Ke=Ue.split(ee)[0];return Ke===He?Ue:'should_not_match'}return De.replace(oe,function(Ke,Xe,je){return He+je})}return De.replace(te,He)},documentRule:function(De){De.selector=De.parsedSelector,this.normalizeRootSelector(De),this._transformRule(De,this._transformDocumentSelector)},normalizeRootSelector:function(De){':root'===De.selector&&(De.selector='html')},_transformDocumentSelector:function(De){return De.match(se)?this._transformComplexSelector(De,Q):this._transformSimpleSelector(De.trim(),Q)},SCOPE_NAME:q},$=/:(nth[-\w]+)\(([^)]+)\)/,Q=`:not(.${q})`,Z=',',J=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,ee=/[[.:#*]/,te=':host',se='::slotted',re=/^(::slotted)/,oe=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ne=/(.*):dir\((?:(ltr|rtl))\)/,ae=':';var ie={};const pe=Promise.resolve();class de{static get(De){return De.__styleInfo}static set(De,He){return De.__styleInfo=He,He}static invalidate(De){ie[De]&&(ie[De]._applyShimInvalid=!0)}static validate(De){const He=ie[De];He._invalidating||(He._invalidating=!0,pe.then(()=>{He._applyShimInvalid=!1,He._invalidating=!1}))}constructor(De,He,ke,Ue,Ke,Xe){this.styleRules=De||null,this.placeholder=He||null,this.ownStylePropertyNames=ke||[],this.overrideStyleProperties=null,this.elementName=Ue||'',this.cssBuild=Xe||'',this.typeExtension=Ke||'',this.styleProperties=null,this.scopeSelector=null,this.customStyle=null,this.shouldRecalculate=!0}}let me=window.Element.prototype,ue=me.matches||me.matchesSelector||me.mozMatchesSelector||me.msMatchesSelector||me.oMatchesSelector||me.webkitMatchesSelector,ye=navigator.userAgent.match('Trident'),_e={decorateStyles:function(De){let He=this,ke={},Ue=[],Ke=0;N(De,function(je){He.decorateRule(je),je.index=Ke++,He.collectPropertiesInCssText(je.propertyInfo.cssText,ke)},function(Ve){Ue.push(Ve)}),De._keyframes=Ue;let Xe=[];for(let je in ke)Xe.push(je);return Xe},decorateRule:function(De){if(De.propertyInfo)return De.propertyInfo;let He={},ke={},Ue=this.collectProperties(De,ke);return Ue&&(He.properties=ke,De.rules=null),He.cssText=this.collectCssText(De),De.propertyInfo=He,He},collectProperties:function(De,He){let ke=De.propertyInfo;if(!ke){let Ue,Ke=this.rx.VAR_ASSIGN,Xe=De.parsedCssText,je,Ve;for(;Ue=Ke.exec(Xe);)je=(Ue[2]||Ue[3]).trim(),('inherit'!==je||'unset'!==je)&&(He[Ue[1].trim()]=je),Ve=!0;return Ve}else if(ke.properties)return Object.assign(He,ke.properties),!0},collectCssText:function(De){return this.collectConsumingCssText(De.parsedCssText)},collectConsumingCssText:function(De){return De.replace(this.rx.BRACKETED,'').replace(this.rx.VAR_ASSIGN,'')},collectPropertiesInCssText:function(De,He){for(let ke;ke=this.rx.VAR_CONSUMED.exec(De);){let Ue=ke[1];':'!==ke[2]&&(He[Ue]=!0)}},reify:function(De){let He=Object.getOwnPropertyNames(De);for(let Ue,ke=0;ke<He.length;ke++)Ue=He[ke],De[Ue]=this.valueForProperty(De[Ue],De)},valueForProperty:function(De,He){if(De)if(0<=De.indexOf(';'))De=this.valueForProperties(De,He);else{let ke=this;De=w(De,function(Ue,Ke,Xe,je){if(!Ke)return Ue+je;let Ve=ke.valueForProperty(He[Ke],He);return Ve&&'initial'!==Ve?'apply-shim-inherit'===Ve&&(Ve='inherit'):Ve=ke.valueForProperty(He[Xe]||Xe,He)||Xe,Ue+(Ve||'')+je})}return De&&De.trim()||''},valueForProperties:function(De,He){let ke=De.split(';');for(let Ke,Xe,Ue=0;Ue<ke.length;Ue++)if(Ke=ke[Ue]){if(this.rx.MIXIN_MATCH.lastIndex=0,Xe=this.rx.MIXIN_MATCH.exec(Ke),Xe)Ke=this.valueForProperty(He[Xe[1]],He);else{let je=Ke.indexOf(':');if(-1!==je){let Ve=Ke.substring(je);Ve=Ve.trim(),Ve=this.valueForProperty(Ve,He)||Ve,Ke=Ke.substring(0,je)+Ve}}ke[Ue]=Ke&&Ke.lastIndexOf(';')===Ke.length-1?Ke.slice(0,-1):Ke||''}return ke.join(';')},applyProperties:function(De,He){let ke='';De.propertyInfo||this.decorateRule(De),De.propertyInfo.cssText&&(ke=this.valueForProperties(De.propertyInfo.cssText,He)),De.cssText=ke},applyKeyframeTransforms:function(De,He){let ke=De.cssText,Ue=De.cssText;if(null==De.hasAnimations&&(De.hasAnimations=this.rx.ANIMATION_MATCH.test(ke)),De.hasAnimations){let Ke;if(null==De.keyframeNamesToTransform)for(let Xe in De.keyframeNamesToTransform=[],He)Ke=He[Xe],Ue=Ke(ke),ke!==Ue&&(ke=Ue,De.keyframeNamesToTransform.push(Xe));else{for(let Xe=0;Xe<De.keyframeNamesToTransform.length;++Xe)Ke=He[De.keyframeNamesToTransform[Xe]],ke=Ke(ke);Ue=ke}}De.cssText=Ue},propertyDataFromStyles:function(De,He){let ke={},Ue=this,Ke=[];return N(De,function(Xe){Xe.propertyInfo||Ue.decorateRule(Xe);let je=Xe.transformedSelector||Xe.parsedSelector;He&&Xe.propertyInfo.properties&&je&&ue.call(He,je)&&(Ue.collectProperties(Xe,ke),F(Xe.index,Ke))},null,!0),{properties:ke,key:Ke}},whenHostOrRootRule:function(De,He,ke,Ue){if(He.propertyInfo||this.decorateRule(He),!!He.propertyInfo.properties){let Ke=De.is?W._calcHostScope(De.is,De.extends):'html',Xe=He.parsedSelector,je=':host > *'===Xe||'html'===Xe,Ve=0===Xe.indexOf(':host')&&!je;if('shady'===ke&&(je=Xe===Ke+' > *.'+Ke||-1!==Xe.indexOf('html'),Ve=!je&&0===Xe.indexOf(Ke)),'shadow'===ke&&(je=':host > *'===Xe||'html'===Xe,Ve=Ve&&!je),je||Ve){let Be=Ke;Ve&&(V&&!He.transformedSelector&&(He.transformedSelector=W._transformRuleCss(He,W._transformComplexSelector,W._calcElementScope(De.is),Ke)),Be=He.transformedSelector||Ke),Ue({selector:Be,isHost:Ve,isRoot:je})}}},hostAndRootPropertiesForScope:function(De,He){let ke={},Ue={},Ke=this,Xe=He&&He.__cssBuild;return N(He,function(je){Ke.whenHostOrRootRule(De,je,Xe,function(Ve){let Be=De._element||De;ue.call(Be,Ve.selector)&&(Ve.isHost?Ke.collectProperties(je,ke):Ke.collectProperties(je,Ue))})},null,!0),{rootProps:Ue,hostProps:ke}},transformStyles:function(De,He,ke){let Ue=this,Ke=W._calcHostScope(De.is,De.extends),Xe=De.extends?'\\'+Ke.slice(0,-1)+'\\]':Ke,je=new RegExp(this.rx.HOST_PREFIX+Xe+this.rx.HOST_SUFFIX),Ve=de.get(De).styleRules,Be=this._elementKeyframeTransforms(De,Ve,ke);return W.elementStyles(De,Ve,function(Ye){Ue.applyProperties(Ye,He),V||R(Ye)||!Ye.cssText||(Ue.applyKeyframeTransforms(Ye,Be),Ue._scopeSelector(Ye,je,Ke,ke))})},_elementKeyframeTransforms:function(De,He,ke){let Ue=He._keyframes,Ke={};if(!V&&Ue)for(let Xe=0,je=Ue[Xe];Xe<Ue.length;je=Ue[++Xe])this._scopeKeyframes(je,ke),Ke[je.keyframesName]=this._keyframesRuleTransformer(je);return Ke},_keyframesRuleTransformer:function(De){return function(He){return He.replace(De.keyframesNameRx,De.transformedKeyframesName)}},_scopeKeyframes:function(De,He){De.keyframesNameRx=new RegExp(De.keyframesName,'g'),De.transformedKeyframesName=De.keyframesName+'-'+He,De.transformedSelector=De.transformedSelector||De.selector,De.selector=De.transformedSelector.replace(De.keyframesName,De.transformedKeyframesName)},_scopeSelector:function(De,He,ke,Ue){De.transformedSelector=De.transformedSelector||De.selector;let Ke=De.transformedSelector,Xe='.'+Ue,je=Ke.split(',');for(let Ye,Ve=0,Be=je.length;Ve<Be&&(Ye=je[Ve]);Ve++)je[Ve]=Ye.match(He)?Ye.replace(ke,Xe):Xe+' '+Ye;De.selector=je.join(',')},applyElementScopeSelector:function(De,He,ke){let Ue=De.getAttribute('class')||'',Ke=Ue;ke&&(Ke=Ue.replace(new RegExp('\\s*'+this.XSCOPE_NAME+'\\s*'+ke+'\\s*','g'),' ')),Ke+=(Ke?' ':'')+this.XSCOPE_NAME+' '+He,Ue!==Ke&&(De.__nativeSetAttribute?De.__nativeSetAttribute('class',Ke):De.setAttribute('class',Ke))},applyElementStyle:function(De,He,ke,Ue){let Ke=Ue?Ue.textContent||'':this.transformStyles(De,He,ke),Xe=de.get(De),je=Xe.customStyle;return je&&!V&&je!==Ue&&(je._useCount--,0>=je._useCount&&je.parentNode&&je.parentNode.removeChild(je)),V?Xe.customStyle?(Xe.customStyle.textContent=Ke,Ue=Xe.customStyle):Ke&&(Ue=P(Ke,ke,De.shadowRoot,Xe.placeholder)):Ue?!Ue.parentNode&&I(Ue,null,Xe.placeholder):Ke&&(Ue=P(Ke,ke,null,Xe.placeholder)),Ue&&(Ue._useCount=Ue._useCount||0,Xe.customStyle!=Ue&&Ue._useCount++,Xe.customStyle=Ue),ye&&(Ue.textContent=Ue.textContent),Ue},applyCustomStyle:function(De,He){let ke=A(De),Ue=this;De.textContent=T(ke,function(Ke){let Xe=Ke.cssText=Ke.parsedCssText;Ke.propertyInfo&&Ke.propertyInfo.cssText&&(Xe=C(Xe),Ke.cssText=Ue.valueForProperties(Xe,He))})},rx:z,XSCOPE_NAME:'x-scope'},fe={};const Se=window.customElements;if(Se&&!V){const De=Se.define;Se.define=function(He,ke,Ue){return fe[He]=M(He),De.call(Se,He,ke,Ue)}}let he=z.MIXIN_MATCH,xe=z.VAR_ASSIGN,Ce=/;\s*/m,ge=/^\s*(initial)|(inherit)\s*$/,Ee='_-_';class Te{constructor(){this._map={}}set(De,He){De=De.trim(),this._map[De]={properties:He,dependants:{}}}get(De){return De=De.trim(),this._map[De]}}class Ae{constructor(){this._currentTemplate=null,this._measureElement=null,this._map=new Te,this._separator=Ee,this._boundProduceCssProperties=(De,He,ke,Ue)=>this._produceCssProperties(De,He,ke,Ue)}detectMixin(De){const He=he.test(De)||xe.test(De);return he.lastIndex=0,xe.lastIndex=0,He}transformStyle(De,He){let ke=A(De);return this.transformRules(ke,He),ke}transformRules(De,He){this._currentTemplate=ie[He],N(De,ke=>{this.transformRule(ke)}),this._currentTemplate=null}transformRule(De){De.cssText=this.transformCssText(De.parsedCssText),':root'===De.selector&&(De.selector=':host > *')}transformCssText(De){return De=De.replace(xe,this._boundProduceCssProperties),this._consumeCssProperties(De)}_getInitialValueForProperty(De){return this._measureElement||(this._measureElement=document.createElement('meta'),this._measureElement.style.all='initial',document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(De)}_consumeCssProperties(De){for(let He;He=he.exec(De);){let ke=He[0],Ue=He[1],Ke=He.index,Xe=Ke+ke.indexOf('@apply'),je=Ke+ke.length,Ve=De.slice(0,Xe),Be=De.slice(je),Ye=this._cssTextToMap(Ve),Ge=this._atApplyToCssProperties(Ue,Ye);De=[Ve,Ge,Be].join(''),he.lastIndex=Ke+Ge.length}return De}_atApplyToCssProperties(De,He){De=De.replace(Ce,'');let ke=[],Ue=this._map.get(De);if(Ue||(this._map.set(De,{}),Ue=this._map.get(De)),Ue){this._currentTemplate&&(Ue.dependants[this._currentTemplate.name]=this._currentTemplate);let Ke,Xe,je;for(Ke in Ue.properties)je=He&&He[Ke],Xe=[Ke,': var(',De,Ee,Ke],je&&Xe.push(',',je),Xe.push(')'),ke.push(Xe.join(''))}return ke.join('; ')}_replaceInitialOrInherit(De,He){let ke=ge.exec(He);return ke&&(ke[1]?He=Ae._getInitialValueForProperty(De):He='apply-shim-inherit'),He}_cssTextToMap(De){let He=De.split(';'),ke,Ue,Ke={};for(let je,Ve,Xe=0;Xe<He.length;Xe++)je=He[Xe],je&&(Ve=je.split(':'),1<Ve.length&&(ke=Ve[0].trim(),Ue=this._replaceInitialOrInherit(ke,Ve.slice(1).join(':')),Ke[ke]=Ue));return Ke}_invalidateMixinEntry(De){for(let He in De.dependants)this._currentTemplate&&He===this._currentTemplate.name||de.invalidate(He)}_produceCssProperties(De,He,ke,Ue){if(ke&&w(ke,($e,Qe)=>{Qe&&this._map.get(Qe)&&(Ue='@apply '+Qe+';')}),!Ue)return De;let Ke=this._consumeCssProperties(Ue),Xe=De.slice(0,De.indexOf('--')),je=this._cssTextToMap(Ke),Ve=je,Be=this._map.get(He),Ye=Be&&Be.properties;Ye?Ve=Object.assign(Object.create(Ye),je):this._map.set(He,Ve);let ze,qe,Ge=[],We=!1;for(ze in Ve)qe=je[ze],void 0==qe&&(qe='initial'),Ye&&!(ze in Ye)&&(We=!0),Ge.push(He+Ee+ze+': '+qe);return We&&this._invalidateMixinEntry(Be),Be&&(Be.properties=Ve),ke&&(Xe=De+';'+Xe),Xe+Ge.join('; ')+';'}}let Re=new Ae;window.ApplyShim=Re;let Ne=function(){};if(!V){let De=Xe=>{return Xe.classList&&!Xe.classList.contains(W.SCOPE_NAME)||Xe instanceof SVGElement&&(!Xe.hasAttribute('class')||0>Xe.getAttribute('class').indexOf(W.SCOPE_NAME))},He=Xe=>{for(let je=0;je<Xe.length;je++){let Ve=Xe[je];if(Ve.target!==document.documentElement&&Ve.target!==document.head){for(let Be=0;Be<Ve.addedNodes.length;Be++){let Ye=Ve.addedNodes[Be];if(De(Ye)){let Ge=Ye.getRootNode();if(Ge.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let ze=Ge.host;if(ze){let qe=ze.is||ze.localName;W.dom(Ye,qe)}}}}for(let Be=0;Be<Ve.removedNodes.length;Be++){let Ye=Ve.removedNodes[Be];if(Ye.nodeType===Node.ELEMENT_NODE){let Ge;if(Ye.classList?Ge=Array.from(Ye.classList):Ye.hasAttribute('class')&&(Ge=Ye.getAttribute('class').split(/\s+/)),void 0!=Ge){let ze=Ge.indexOf(W.SCOPE_NAME);if(0<=ze){let qe=Ge[ze+1];qe&&W.dom(Ye,qe,!0)}}}}}}},ke=new MutationObserver(He),Ue=Xe=>{ke.observe(Xe,{childList:!0,subtree:!0})},Ke=window.customElements&&!window.customElements.flush;if(Ke)Ue(document);else{let Xe=()=>{Ue(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Xe):requestAnimationFrame(function(){if('loading'===document.readyState){let je=function(){Xe(),document.removeEventListener('readystatechange',je)};document.addEventListener('readystatechange',je)}else Xe()})}Ne=function(){He(ke.takeRecords())}}let ve=new class{constructor(He=100){this.cache={},this.typeMax=He}_validate(He,ke,Ue){for(let Ke=0;Ke<Ue.length;Ke++){let Xe=Ue[Ke];if(He.properties[Xe]!==ke[Xe])return!1}return!0}store(He,ke,Ue,Ke){let Xe=this.cache[He]||[];Xe.push({properties:ke,styleElement:Ue,scopeSelector:Ke}),Xe.length>this.typeMax&&Xe.shift(),this.cache[He]=Xe}fetch(He,ke,Ue){let Ke=this.cache[He];if(Ke)for(let Xe=Ke.length-1;0<=Xe;Xe--){let je=Ke[Xe];if(this._validate(je,ke,Ue))return je}}},Pe={flush:Ne,scopeCounter:{},nativeShadow:V,nativeCss:B,nativeCssApply:Y,_documentOwner:document.documentElement,_documentOwnerStyleInfo:de.set(document.documentElement,new de({rules:[]})),_generateScopeSelector(De){let He=this.scopeCounter[De]=(this.scopeCounter[De]||0)+1;return`${De}-${He}`},getStyleAst(De){return A(De)},styleAstToString(De){return T(De)},_gatherStyles(De){let He=De.content.querySelectorAll('style'),ke=[];for(let Ue=0;Ue<He.length;Ue++){let Ke=He[Ue];ke.push(Ke.textContent),Ke.parentNode.removeChild(Ke)}return ke.join('').trim()},_getCssBuild(De){let He=De.content.querySelector('style');return He?He.getAttribute('css-build')||'':''},prepareTemplate(De,He,ke){if(!De._prepared){De._prepared=!0,De.name=He,De.extends=ke,ie[He]=De;let Ue=this._getCssBuild(De),Ke=this._gatherStyles(De),Xe={is:He,extends:ke,__cssBuild:Ue};this.nativeShadow||W.dom(De.content,He);let je=Re.detectMixin(Ke),Ve=e(Ke);je&&this.nativeCss&&!this.nativeCssApply&&Re.transformRules(Ve,He),De._styleAst=Ve;let Be=[];if(this.nativeCss||(Be=_e.decorateStyles(De._styleAst,Xe)),!Be.length||this.nativeCss){let Ye=this.nativeShadow?De.content:null,Ge=fe[He],ze=this._generateStaticStyle(Xe,De._styleAst,Ye,Ge);De._style=ze}De._ownPropertyNames=Be}},_generateStaticStyle(De,He,ke,Ue){let Ke=W.elementStyles(De,He);if(Ke.length)return P(Ke,De.is,ke,Ue)},_prepareHost(De){let ke,He=De.getAttribute('is')||De.localName;He!==De.localName&&(ke=De.localName);let Xe,je,Ve,Ue=fe[He],Ke=ie[He];return Ke&&(Xe=Ke._styleAst,je=Ke._ownPropertyNames,Ve=Ke._cssBuild),de.set(De,new de(Xe,Ue,je,He,ke,Ve))},applyStyle(De,He){let ke=De.getAttribute('is')||De.localName;if(window.CustomStyle){let Xe=window.CustomStyle;Xe._documentDirty&&(Xe.findStyles(),this.nativeCss?!this.nativeCssApply&&Xe._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),Xe.applyStyles())}let Ue=de.get(De),Ke=!!Ue;if(Ue||(Ue=this._prepareHost(De)),He&&(Ue.overrideStyleProperties=Ue.overrideStyleProperties||{},Object.assign(Ue.overrideStyleProperties,He)),this.nativeCss){Ue.overrideStyleProperties&&this._updateNativeProperties(De,Ue.overrideStyleProperties);let Xe=ie[ke];if(!Xe&&'html'!==ke)return;if(Xe&&Xe._applyShimInvalid&&Xe._style){if(Xe._invalidating||(Re.transformRules(Xe._styleAst,ke),Xe._style.textContent=W.elementStyles(De,Ue.styleRules),de.validate(ke)),this.nativeShadow){let je=De.shadowRoot;if(je){let Ve=je.querySelector('style');Ve.textContent=W.elementStyles(De,Ue.styleRules)}}Ue.styleRules=Xe._styleAst}}else this._updateProperties(De,Ue),Ue.ownStylePropertyNames&&Ue.ownStylePropertyNames.length&&this._applyStyleProperties(De,Ue);if(Ke){let Xe=this._isRootOwner(De)?De:De.shadowRoot;Xe&&this._applyToDescendants(Xe)}},_applyToDescendants(De){let He=De.children;for(let Ue,ke=0;ke<He.length;ke++)Ue=He[ke],Ue.shadowRoot&&this.applyStyle(Ue),this._applyToDescendants(Ue)},_styleOwnerForNode(De){let He=De.getRootNode(),ke=He.host;return ke?de.get(ke)?ke:this._styleOwnerForNode(ke):this._documentOwner},_isRootOwner(De){return De===this._documentOwner},_applyStyleProperties(De,He){let ke=De.getAttribute('is')||De.localName,Ue=ve.fetch(ke,He.styleProperties,He.ownStylePropertyNames),Ke=Ue&&Ue.scopeSelector,Xe=Ue?Ue.styleElement:null,je=He.scopeSelector;He.scopeSelector=Ke||this._generateScopeSelector(ke);let Ve=_e.applyElementStyle(De,He.styleProperties,He.scopeSelector,Xe);return this.nativeShadow||_e.applyElementScopeSelector(De,He.scopeSelector,je),Ue||ve.store(ke,He.styleProperties,Ve,He.scopeSelector),Ve},_updateProperties(De,He){let ke=this._styleOwnerForNode(De),Ue=de.get(ke),Ke=Ue.styleProperties,Xe=Object.create(Ke||null),je=_e.hostAndRootPropertiesForScope(De,He.styleRules),Ve=_e.propertyDataFromStyles(Ue.styleRules,De),Be=Ve.properties;Object.assign(Xe,je.hostProps,Be,je.rootProps),this._mixinOverrideStyles(Xe,He.overrideStyleProperties),_e.reify(Xe),He.styleProperties=Xe},_mixinOverrideStyles(De,He){for(let ke in He){let Ue=He[ke];(Ue||0===Ue)&&(De[ke]=Ue)}},_updateNativeProperties(De,He){for(let ke in He)null===ke?De.style.removeProperty(ke):De.style.setProperty(ke,He[ke])},updateStyles(De){this.applyStyle(this._documentOwner,De)},_transformCustomStyleForDocument(De){let He=A(De);N(He,ke=>{V?W.normalizeRootSelector(ke):W.documentRule(ke),this.nativeCss&&!this.nativeCssApply&&Re.transformRule(ke)}),this.nativeCss?De.textContent=T(He):this._documentOwnerStyleInfo.styleRules.rules.push(He)},_revalidateApplyShim(De){if(this.nativeCss&&!this.nativeCssApply){let He=A(De);Re.transformRules(He),De.textContent=T(He)}},_applyCustomStyleToDocument(De){this.nativeCss||_e.applyCustomStyle(De,this._documentOwnerStyleInfo.styleProperties)},getComputedStyleValue(De,He){let ke;if(!this.nativeCss){let Ue=de.get(De)||de.get(this._styleOwnerForNode(De));ke=Ue.styleProperties[He]}return ke=ke||window.getComputedStyle(De).getPropertyValue(He),ke.trim()},setElementClass(De,He){let ke=De.getRootNode(),Ue=He?He.split(/\s/):[],Ke=ke.host&&ke.host.localName;if(!Ke){var Xe=De.getAttribute('class');if(Xe){let je=Xe.split(/\s/);for(let Ve=0;Ve<je.length;Ve++)if(je[Ve]===W.SCOPE_NAME){Ke=je[Ve+1];break}}}if(Ke&&Ue.push(W.SCOPE_NAME,Ke),!this.nativeCss){let je=de.get(De);je&&je.scopeSelector&&Ue.push(_e.XSCOPE_NAME,je.scopeSelector)}L(De,Ue.join(' '))},_styleInfoForNode(De){return de.get(De)}};window.ShadyCSS=Pe;let Ie=window.ShadyCSS,Oe=!1,Me=!1,be=[],we=null,Le=!1;class Fe extends HTMLElement{static get registered(){return!1}static get _customStyles(){return be}static get processHook(){return we}static set processHook(De){return we=De,De}static get _documentDirty(){return Oe}static findStyles(){for(let De=0;De<be.length;De++)be[De]._findStyle()}static _revalidateApplyShim(){for(let De=0;De<be.length;De++){let He=be[De];He._style&&Ie._revalidateApplyShim(He._style)}}static applyStyles(){for(let De=0;De<be.length;De++)be[De]._applyStyle();Oe=!1}constructor(){super(),be.push(this),D()}_findStyle(){if(!this._style){let De=this.querySelector('style');if(!De)return;if(De.__appliedElement)for(let He=0;He<De.attributes.length;He++){let ke=De.attributes[He];De.__appliedElement.setAttribute(ke.name,ke.value)}this._style=De.__appliedElement||De,we&&we(this._style),Ie._transformCustomStyleForDocument(this._style)}}_applyStyle(){this._style&&Ie._applyCustomStyleToDocument(this._style)}}window.CustomStyle=Fe,window.customElements.define('custom-style',Fe)})();
//# sourceMappingURL=shadycss.min.js.map
