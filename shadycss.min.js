(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function e(ke){return ke=a(ke),u(d(ke),ke)}function a(ke){return ke.replace(V.comments,'').replace(V.port,'')}function d(ke){let Ue={start:0,end:ke.length},Ke=Ue;for(let Xe=0,Ve=ke.length;Xe<Ve;Xe++)if(ke[Xe]===K){Ke.rules||(Ke.rules=[]);let je=Ke,Be=je.rules[je.rules.length-1];Ke={start:Xe+1,parent:je,previous:Be},je.rules.push(Ke)}else ke[Xe]===X&&(Ke.end=Xe+1,Ke=Ke.parent||Ue);return Ue}function u(ke,Ue){let Ke=Ue.substring(ke.start,ke.end-1);if(ke.parsedCssText=ke.cssText=Ke.trim(),ke.parent){let Ve=ke.previous?ke.previous.end:ke.parent.start;Ke=Ue.substring(Ve,ke.start-1),Ke=y(Ke),Ke=Ke.replace(V.multipleSpaces,' '),Ke=Ke.substring(Ke.lastIndexOf(';')+1);let je=ke.parsedSelector=ke.selector=Ke.trim();ke.atRule=0===je.indexOf('@'),ke.atRule?0===je.indexOf('@media')?ke.type=U.MEDIA_RULE:je.match(V.keyframesRule)&&(ke.type=U.KEYFRAMES_RULE,ke.keyframesName=ke.selector.split(V.multipleSpaces).pop()):0===je.indexOf(j)?ke.type=U.MIXIN_RULE:ke.type=U.STYLE_RULE}let Xe=ke.rules;if(Xe)for(let Be,Ve=0,je=Xe.length;Ve<je&&(Be=Xe[Ve]);Ve++)u(Be,Ue);return ke}function y(ke){return ke.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let Ue=arguments[1],Ke=6-Ue.length;for(;Ke--;)Ue='0'+Ue;return'\\'+Ue})}function _(ke,Ue,Ke){Ke=Ke||'';let Xe='';if(ke.cssText||ke.rules){let Ve=ke.rules;if(Ve&&!S(Ve))for(let Ye,je=0,Be=Ve.length;je<Be&&(Ye=Ve[je]);je++)Xe=_(Ye,Ue,Xe);else Xe=Ue?ke.cssText:h(ke.cssText),Xe=Xe.trim(),Xe&&(Xe='  '+Xe+'\n')}return Xe&&(ke.selector&&(Ke+=ke.selector+' '+K+'\n'),Ke+=Xe,ke.selector&&(Ke+=X+'\n\n')),Ke}function S(ke){return 0===ke[0].selector.indexOf(j)}function h(ke){return ke=g(ke),C(ke)}function g(ke){return ke.replace(V.customProp,'').replace(V.mixinProp,'')}function C(ke){return ke.replace(V.mixinApply,'').replace(V.varApply,'')}function E(ke){ke&&(Y=Y&&!ke.shimcssproperties,B=B&&!ke.shimshadow)}function T(ke,Ue,Ke){window.ShadyDOM?window.ShadyDOM.nativeMethods.setAttribute.call(ke,Ue,Ke):ke.setAttribute(Ue,Ke)}function A(ke,Ue){return'string'==typeof ke&&(ke=e(ke)),Ue&&P(ke,Ue),_(ke,Y)}function N(ke){return!ke.__cssRules&&ke.textContent&&(ke.__cssRules=e(ke.textContent)),ke.__cssRules}function R(ke){return ke.parent&&ke.parent.type===U.KEYFRAMES_RULE}function P(ke,Ue,Ke,Xe){if(ke){let Ve=!1;if(Xe&&ke.type===U.MEDIA_RULE){let Be=ke.selector.match(W.MEDIA_MATCH);Be&&!window.matchMedia(Be[1]).matches&&(Ve=!0)}ke.type===U.STYLE_RULE?Ue(ke):Ke&&ke.type===U.KEYFRAMES_RULE?Ke(ke):ke.type===U.MIXIN_RULE&&(Ve=!0);let je=ke.rules;if(je&&!Ve)for(let Ge,Be=0,Ye=je.length;Be<Ye&&(Ge=je[Be]);Be++)P(Ge,Ue,Ke,Xe)}}function I(ke,Ue,Ke,Xe){let Ve=M(ke,Ue);return O(Ve,Ke,Xe)}function O(ke,Ue,Ke){Ue=Ue||document.head;let Xe=Ke&&Ke.nextSibling||Ue.firstChild;return q=ke,Ue.insertBefore(ke,Xe)}function M(ke,Ue){let Ke=document.createElement('style');return Ue&&Ke.setAttribute('scope',Ue),Ke.textContent=ke,Ke}function b(ke){let Ue=document.createComment(' Shady DOM styles for '+ke+' '),Ke=q?q.nextSibling:null,Xe=document.head;return Xe.insertBefore(Ue,Ke||Xe.firstChild),q=Ue,Ue}function w(ke,Ue){let Ke=0;for(let Xe=Ue,Ve=ke.length;Xe<Ve;Xe++)if('('===ke[Xe])Ke++;else if(')'===ke[Xe]&&0==--Ke)return Xe;return-1}function L(ke,Ue){let Ke=ke.indexOf('var(');if(-1===Ke)return Ue(ke,'','','');let Xe=w(ke,Ke+3),Ve=ke.substring(Ke+4,Xe),je=ke.substring(0,Ke),Be=L(ke.substring(Xe+1),Ue),Ye=Ve.indexOf(',');if(-1===Ye)return Ue(je,Ve.trim(),'',Be);let Ge=Ve.substring(0,Ye).trim(),qe=Ve.substring(Ye+1).trim();return Ue(je,Ge,qe,Be)}function H(ke,Ue){T(ke,'class',Ue)}function D(ke,Ue){let Ke=parseInt(ke/32);Ue[Ke]=(Ue[Ke]||0)|1<<ke%32}function F(){Le||(Le=!0,window.HTMLImports?window.HTMLImports.whenReady(k):'complete'===document.readyState?k():document.addEventListener('readystatechange',()=>{'complete'===document.readyState&&k()}))}function k(){requestAnimationFrame(()=>{(Le||we._elementsHaveApplied)&&we.updateStyles(),Le=!1})}let U={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},K='{',X='}',V={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},j='--',B=!(window.ShadyDOM&&window.ShadyDOM.inUse),Y=!navigator.userAgent.match('AppleWebKit/601')&&window.CSS&&CSS.supports&&CSS.supports('box-shadow','0 0 0 var(--foo)'),G=!1;window.ShadyCSS?E(window.ShadyCSS):window.WebComponents&&E(window.WebComponents.flags);let q=null,W={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:'(?:^|[^.#[:])',HOST_SUFFIX:'($|[.:[\\s>+~])'};const z='style-scope';class ${get SCOPE_NAME(){return z}dom(ke,Ue,Ke){ke.__styleScoped?ke.__styleScoped=null:this._transformDom(ke,Ue||'',Ke)}_transformDom(ke,Ue,Ke){ke.nodeType===Node.ELEMENT_NODE&&this.element(ke,Ue,Ke);let Xe='template'===ke.localName?(ke.content||ke._content).childNodes:ke.children||ke.childNodes;if(Xe)for(let Ve=0;Ve<Xe.length;Ve++)this._transformDom(Xe[Ve],Ue,Ke)}element(ke,Ue,Ke){if(Ue)if(ke.classList)Ke?(ke.classList.remove(z),ke.classList.remove(Ue)):(ke.classList.add(z),ke.classList.add(Ue));else if(ke.getAttribute){let Xe=ke.getAttribute('class');if(!Ke){let Ve=(Xe?Xe+' ':'')+z+' '+Ue;H(ke,Ve)}else if(Xe){let Ve=Xe.replace(z,'').replace(Ue,'');H(ke,Ve)}}}elementStyles(ke,Ue,Ke){let Xe=ke.__cssBuild,Ve=B||'shady'===Xe?A(Ue,Ke):this.css(Ue,ke.is,ke.extends,Ke)+'\n\n';return Ve.trim()}css(ke,Ue,Ke,Xe){let Ve=this._calcHostScope(Ue,Ke);Ue=this._calcElementScope(Ue);let je=this;return A(ke,function(Be){Be.isScoped||(je.rule(Be,Ue,Ve),Be.isScoped=!0),Xe&&Xe(Be,Ue,Ve)})}_calcElementScope(ke){return ke?'.'+ke:''}_calcHostScope(ke,Ue){return Ue?'[is='+ke+']':ke}rule(ke,Ue,Ke){this._transformRule(ke,this._transformComplexSelector,Ue,Ke)}_transformRule(ke,Ue,Ke,Xe){ke.selector=ke.transformedSelector=this._transformRuleCss(ke,Ue,Ke,Xe)}_transformRuleCss(ke,Ue,Ke,Xe){let Ve=ke.selector.split(J);if(!R(ke))for(let Ye,je=0,Be=Ve.length;je<Be&&(Ye=Ve[je]);je++)Ve[je]=Ue.call(this,Ye,Ke,Xe);return Ve.join(J)}_transformComplexSelector(ke,Ue,Ke){let Xe=!1;return ke=ke.trim(),ke=ke.replace(Q,(Ve,je,Be)=>`:${je}(${Be.replace(/\s/g,'')})`),ke=ke.replace(ne,`${se} $1`),ke=ke.replace(ee,(Ve,je,Be)=>{if(!Xe){let Ye=this._transformCompoundSelector(Be,je,Ue,Ke);Xe=Xe||Ye.stop,je=Ye.combinator,Be=Ye.value}return je+Be}),ke}_transformCompoundSelector(ke,Ue,Ke,Xe){let Ve=ke.indexOf(re);0<=ke.indexOf(se)?ke=this._transformHostSelector(ke,Xe):0!==Ve&&(ke=Ke?this._transformSimpleSelector(ke,Ke):ke);let je=!1;0<=Ve&&(Ue='',je=!0);let Be;return je&&(Be=!0,je&&(ke=ke.replace(le,(Ye,Ge)=>` > ${Ge}`))),ke=ke.replace(ae,(Ye,Ge,qe)=>`[dir="${qe}"] ${Ge}, ${Ge}[dir="${qe}"]`),{value:ke,combinator:Ue,stop:Be}}_transformSimpleSelector(ke,Ue){let Ke=ke.split(ie);return Ke[0]+=Ue,Ke.join(ie)}_transformHostSelector(ke,Ue){let Ke=ke.match(oe),Xe=Ke&&Ke[2].trim()||'';if(Xe){if(!Xe[0].match(te)){let Ve=Xe.split(te)[0];return Ve===Ue?Xe:'should_not_match'}return ke.replace(oe,function(Ve,je,Be){return Ue+Be})}return ke.replace(se,Ue)}documentRule(ke){ke.selector=ke.parsedSelector,this.normalizeRootSelector(ke),this._transformRule(ke,this._transformDocumentSelector)}normalizeRootSelector(ke){':root'===ke.selector&&(ke.selector='html')}_transformDocumentSelector(ke){return ke.match(re)?this._transformComplexSelector(ke,Z):this._transformSimpleSelector(ke.trim(),Z)}}let Q=/:(nth[-\w]+)\(([^)]+)\)/,Z=`:not(.${z})`,J=',',ee=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,te=/[[.:#*]/,se=':host',re='::slotted',ne=/^(::slotted)/,oe=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ae=/(.*):dir\((?:(ltr|rtl))\)/,ie=':';var pe=new $,de={};const me=Promise.resolve();class ue{static get(ke){return ke.__styleInfo}static set(ke,Ue){return ke.__styleInfo=Ue,Ue}static invalidate(ke){de[ke]&&(de[ke]._applyShimInvalid=!0)}static startValidating(ke){const Ue=de[ke];Ue._validating||(Ue._validating=!0,me.then(()=>{Ue._applyShimInvalid=!1,Ue._validating=!1}))}constructor(ke,Ue,Ke,Xe,Ve,je){this.styleRules=ke||null,this.placeholder=Ue||null,this.ownStylePropertyNames=Ke||[],this.overrideStyleProperties=null,this.elementName=Xe||'',this.cssBuild=je||'',this.typeExtension=Ve||'',this.styleProperties=null,this.scopeSelector=null,this.customStyle=null}}const ye=window.Element.prototype,_e=ye.matches||ye.matchesSelector||ye.mozMatchesSelector||ye.msMatchesSelector||ye.oMatchesSelector||ye.webkitMatchesSelector,fe=navigator.userAgent.match('Trident'),Se='x-scope';class he{get XSCOPE_NAME(){return Se}decorateStyles(ke){let Ue=this,Ke={},Xe=[],Ve=0;P(ke,function(Be){Ue.decorateRule(Be),Be.index=Ve++,Ue.collectPropertiesInCssText(Be.propertyInfo.cssText,Ke)},function(Ye){Xe.push(Ye)}),ke._keyframes=Xe;let je=[];for(let Be in Ke)je.push(Be);return je}decorateRule(ke){if(ke.propertyInfo)return ke.propertyInfo;let Ue={},Ke={},Xe=this.collectProperties(ke,Ke);return Xe&&(Ue.properties=Ke,ke.rules=null),Ue.cssText=this.collectCssText(ke),ke.propertyInfo=Ue,Ue}collectProperties(ke,Ue){let Ke=ke.propertyInfo;if(!Ke){let Xe,Ve=W.VAR_ASSIGN,je=ke.parsedCssText,Be,Ye;for(;Xe=Ve.exec(je);)Be=(Xe[2]||Xe[3]).trim(),('inherit'!==Be||'unset'!==Be)&&(Ue[Xe[1].trim()]=Be),Ye=!0;return Ye}else if(Ke.properties)return Object.assign(Ue,Ke.properties),!0}collectCssText(ke){return this.collectConsumingCssText(ke.parsedCssText)}collectConsumingCssText(ke){return ke.replace(W.BRACKETED,'').replace(W.VAR_ASSIGN,'')}collectPropertiesInCssText(ke,Ue){for(let Ke;Ke=W.VAR_CONSUMED.exec(ke);){let Xe=Ke[1];':'!==Ke[2]&&(Ue[Xe]=!0)}}reify(ke){let Ue=Object.getOwnPropertyNames(ke);for(let Xe,Ke=0;Ke<Ue.length;Ke++)Xe=Ue[Ke],ke[Xe]=this.valueForProperty(ke[Xe],ke)}valueForProperty(ke,Ue){if(ke)if(0<=ke.indexOf(';'))ke=this.valueForProperties(ke,Ue);else{let Ke=this;ke=L(ke,function(Xe,Ve,je,Be){if(!Ve)return Xe+Be;let Ye=Ke.valueForProperty(Ue[Ve],Ue);return Ye&&'initial'!==Ye?'apply-shim-inherit'===Ye&&(Ye='inherit'):Ye=Ke.valueForProperty(Ue[je]||je,Ue)||je,Xe+(Ye||'')+Be})}return ke&&ke.trim()||''}valueForProperties(ke,Ue){let Ke=ke.split(';');for(let Ve,je,Xe=0;Xe<Ke.length;Xe++)if(Ve=Ke[Xe]){if(W.MIXIN_MATCH.lastIndex=0,je=W.MIXIN_MATCH.exec(Ve),je)Ve=this.valueForProperty(Ue[je[1]],Ue);else{let Be=Ve.indexOf(':');if(-1!==Be){let Ye=Ve.substring(Be);Ye=Ye.trim(),Ye=this.valueForProperty(Ye,Ue)||Ye,Ve=Ve.substring(0,Be)+Ye}}Ke[Xe]=Ve&&Ve.lastIndexOf(';')===Ve.length-1?Ve.slice(0,-1):Ve||''}return Ke.join(';')}applyProperties(ke,Ue){let Ke='';ke.propertyInfo||this.decorateRule(ke),ke.propertyInfo.cssText&&(Ke=this.valueForProperties(ke.propertyInfo.cssText,Ue)),ke.cssText=Ke}applyKeyframeTransforms(ke,Ue){let Ke=ke.cssText,Xe=ke.cssText;if(null==ke.hasAnimations&&(ke.hasAnimations=W.ANIMATION_MATCH.test(Ke)),ke.hasAnimations){let Ve;if(null==ke.keyframeNamesToTransform)for(let je in ke.keyframeNamesToTransform=[],Ue)Ve=Ue[je],Xe=Ve(Ke),Ke!==Xe&&(Ke=Xe,ke.keyframeNamesToTransform.push(je));else{for(let je=0;je<ke.keyframeNamesToTransform.length;++je)Ve=Ue[ke.keyframeNamesToTransform[je]],Ke=Ve(Ke);Xe=Ke}}ke.cssText=Xe}propertyDataFromStyles(ke,Ue){let Ke={},Xe=this,Ve=[];return P(ke,function(je){je.propertyInfo||Xe.decorateRule(je);let Be=je.transformedSelector||je.parsedSelector;Ue&&je.propertyInfo.properties&&Be&&_e.call(Ue,Be)&&(Xe.collectProperties(je,Ke),D(je.index,Ve))},null,!0),{properties:Ke,key:Ve}}whenHostOrRootRule(ke,Ue,Ke,Xe){if(Ue.propertyInfo||this.decorateRule(Ue),!!Ue.propertyInfo.properties){let Ve=ke.is?pe._calcHostScope(ke.is,ke.extends):'html',je=Ue.parsedSelector,Be=':host > *'===je||'html'===je,Ye=0===je.indexOf(':host')&&!Be;if('shady'===Ke&&(Be=je===Ve+' > *.'+Ve||-1!==je.indexOf('html'),Ye=!Be&&0===je.indexOf(Ve)),'shadow'===Ke&&(Be=':host > *'===je||'html'===je,Ye=Ye&&!Be),Be||Ye){let Ge=Ve;Ye&&(B&&!Ue.transformedSelector&&(Ue.transformedSelector=pe._transformRuleCss(Ue,pe._transformComplexSelector,pe._calcElementScope(ke.is),Ve)),Ge=Ue.transformedSelector||Ve),Xe({selector:Ge,isHost:Ye,isRoot:Be})}}}hostAndRootPropertiesForScope(ke,Ue){let Ke={},Xe={},Ve=this,je=Ue&&Ue.__cssBuild;return P(Ue,function(Be){Ve.whenHostOrRootRule(ke,Be,je,function(Ye){let Ge=ke._element||ke;_e.call(Ge,Ye.selector)&&(Ye.isHost?Ve.collectProperties(Be,Ke):Ve.collectProperties(Be,Xe))})},null,!0),{rootProps:Xe,hostProps:Ke}}transformStyles(ke,Ue,Ke){let Xe=this,Ve=pe._calcHostScope(ke.is,ke.extends),je=ke.extends?'\\'+Ve.slice(0,-1)+'\\]':Ve,Be=new RegExp(W.HOST_PREFIX+je+W.HOST_SUFFIX),Ye=ue.get(ke).styleRules,Ge=this._elementKeyframeTransforms(ke,Ye,Ke);return pe.elementStyles(ke,Ye,function(qe){Xe.applyProperties(qe,Ue),B||R(qe)||!qe.cssText||(Xe.applyKeyframeTransforms(qe,Ge),Xe._scopeSelector(qe,Be,Ve,Ke))})}_elementKeyframeTransforms(ke,Ue,Ke){let Xe=Ue._keyframes,Ve={};if(!B&&Xe)for(let je=0,Be=Xe[je];je<Xe.length;Be=Xe[++je])this._scopeKeyframes(Be,Ke),Ve[Be.keyframesName]=this._keyframesRuleTransformer(Be);return Ve}_keyframesRuleTransformer(ke){return function(Ue){return Ue.replace(ke.keyframesNameRx,ke.transformedKeyframesName)}}_scopeKeyframes(ke,Ue){ke.keyframesNameRx=new RegExp(ke.keyframesName,'g'),ke.transformedKeyframesName=ke.keyframesName+'-'+Ue,ke.transformedSelector=ke.transformedSelector||ke.selector,ke.selector=ke.transformedSelector.replace(ke.keyframesName,ke.transformedKeyframesName)}_scopeSelector(ke,Ue,Ke,Xe){ke.transformedSelector=ke.transformedSelector||ke.selector;let Ve=ke.transformedSelector,je='.'+Xe,Be=Ve.split(',');for(let qe,Ye=0,Ge=Be.length;Ye<Ge&&(qe=Be[Ye]);Ye++)Be[Ye]=qe.match(Ue)?qe.replace(Ke,je):je+' '+qe;ke.selector=Be.join(',')}applyElementScopeSelector(ke,Ue,Ke){let Xe=ke.getAttribute('class')||'',Ve=Xe;Ke&&(Ve=Xe.replace(new RegExp('\\s*'+Se+'\\s*'+Ke+'\\s*','g'),' ')),Ve+=(Ve?' ':'')+Se+' '+Ue,Xe!==Ve&&T(ke,'class',Ve)}applyElementStyle(ke,Ue,Ke,Xe){let Ve=Xe?Xe.textContent||'':this.transformStyles(ke,Ue,Ke),je=ue.get(ke),Be=je.customStyle;return Be&&!B&&Be!==Xe&&(Be._useCount--,0>=Be._useCount&&Be.parentNode&&Be.parentNode.removeChild(Be)),B?je.customStyle?(je.customStyle.textContent=Ve,Xe=je.customStyle):Ve&&(Xe=I(Ve,Ke,ke.shadowRoot,je.placeholder)):Xe?!Xe.parentNode&&O(Xe,null,je.placeholder):Ve&&(Xe=I(Ve,Ke,null,je.placeholder)),Xe&&(Xe._useCount=Xe._useCount||0,je.customStyle!=Xe&&Xe._useCount++,je.customStyle=Xe),fe&&(Xe.textContent=Xe.textContent),Xe}applyCustomStyle(ke,Ue){let Ke=N(ke),Xe=this;ke.textContent=A(Ke,function(Ve){let je=Ve.cssText=Ve.parsedCssText;Ve.propertyInfo&&Ve.propertyInfo.cssText&&(je=g(je),Ve.cssText=Xe.valueForProperties(je,Ue))})}}var ge=new he;let xe={};const Ce=window.customElements;if(Ce&&!B){const ke=Ce.define;Ce.define=function(Ue,Ke,Xe){return xe[Ue]=b(Ue),ke.call(Ce,Ue,Ke,Xe)}}let Ee=W.MIXIN_MATCH,Te=W.VAR_ASSIGN,Ae=/;\s*/m,Ne=/^\s*(initial)|(inherit)\s*$/,Re='_-_';class ve{constructor(){this._map={}}set(ke,Ue){ke=ke.trim(),this._map[ke]={properties:Ue,dependants:{}}}get(ke){return ke=ke.trim(),this._map[ke]}}class Pe{constructor(){this._currentTemplate=null,this._measureElement=null,this._map=new ve,this._separator=Re,this._boundProduceCssProperties=(ke,Ue,Ke,Xe)=>this._produceCssProperties(ke,Ue,Ke,Xe)}detectMixin(ke){const Ue=Ee.test(ke)||Te.test(ke);return Ee.lastIndex=0,Te.lastIndex=0,Ue}transformStyle(ke,Ue){let Ke=N(ke);return this.transformRules(Ke,Ue),Ke}transformRules(ke,Ue){this._currentTemplate=de[Ue],P(ke,Ke=>{this.transformRule(Ke)}),this._currentTemplate=null}transformRule(ke){ke.cssText=this.transformCssText(ke.parsedCssText),':root'===ke.selector&&(ke.selector=':host > *')}transformCssText(ke){return ke=ke.replace(Te,this._boundProduceCssProperties),this._consumeCssProperties(ke)}_getInitialValueForProperty(ke){return this._measureElement||(this._measureElement=document.createElement('meta'),this._measureElement.style.all='initial',document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(ke)}_consumeCssProperties(ke){for(let Ue;Ue=Ee.exec(ke);){let Ke=Ue[0],Xe=Ue[1],Ve=Ue.index,je=Ve+Ke.indexOf('@apply'),Be=Ve+Ke.length,Ye=ke.slice(0,je),Ge=ke.slice(Be),qe=this._cssTextToMap(Ye),We=this._atApplyToCssProperties(Xe,qe);ke=[Ye,We,Ge].join(''),Ee.lastIndex=Ve+We.length}return ke}_atApplyToCssProperties(ke,Ue){ke=ke.replace(Ae,'');let Ke=[],Xe=this._map.get(ke);if(Xe||(this._map.set(ke,{}),Xe=this._map.get(ke)),Xe){this._currentTemplate&&(Xe.dependants[this._currentTemplate.name]=this._currentTemplate);let Ve,je,Be;for(Ve in Xe.properties)Be=Ue&&Ue[Ve],je=[Ve,': var(',ke,Re,Ve],Be&&je.push(',',Be),je.push(')'),Ke.push(je.join(''))}return Ke.join('; ')}_replaceInitialOrInherit(ke,Ue){let Ke=Ne.exec(Ue);return Ke&&(Ke[1]?Ue=Pe._getInitialValueForProperty(ke):Ue='apply-shim-inherit'),Ue}_cssTextToMap(ke){let Ue=ke.split(';'),Ke,Xe,Ve={};for(let Be,Ye,je=0;je<Ue.length;je++)Be=Ue[je],Be&&(Ye=Be.split(':'),1<Ye.length&&(Ke=Ye[0].trim(),Xe=this._replaceInitialOrInherit(Ke,Ye.slice(1).join(':')),Ve[Ke]=Xe));return Ve}_invalidateMixinEntry(ke){for(let Ue in ke.dependants)this._currentTemplate&&Ue===this._currentTemplate.name||ue.invalidate(Ue)}_produceCssProperties(ke,Ue,Ke,Xe){if(Ke&&L(Ke,(Ze,Je)=>{Je&&this._map.get(Je)&&(Xe='@apply '+Je+';')}),!Xe)return ke;let Ve=this._consumeCssProperties(Xe),je=ke.slice(0,ke.indexOf('--')),Be=this._cssTextToMap(Ve),Ye=Be,Ge=this._map.get(Ue),qe=Ge&&Ge.properties;qe?Ye=Object.assign(Object.create(qe),Be):this._map.set(Ue,Ye);let ze,$e,We=[],Qe=!1;for(ze in Ye)$e=Be[ze],void 0==$e&&($e='initial'),qe&&!(ze in qe)&&(Qe=!0),We.push(Ue+Re+ze+': '+$e);return Qe&&this._invalidateMixinEntry(Ge),Ge&&(Ge.properties=Ye),Ke&&(je=ke+';'+je),je+We.join('; ')+';'}}let Ie=new Pe;window.ApplyShim=Ie;let Oe=function(){};if(!B){let ke=je=>{return je.classList&&!je.classList.contains(pe.SCOPE_NAME)||je instanceof SVGElement&&(!je.hasAttribute('class')||0>je.getAttribute('class').indexOf(pe.SCOPE_NAME))},Ue=je=>{for(let Be=0;Be<je.length;Be++){let Ye=je[Be];if(Ye.target!==document.documentElement&&Ye.target!==document.head){for(let Ge=0;Ge<Ye.addedNodes.length;Ge++){let qe=Ye.addedNodes[Ge];if(ke(qe)){let We=qe.getRootNode();if(We.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let ze=We.host;if(ze){let $e=ze.is||ze.localName;pe.dom(qe,$e)}}}}for(let Ge=0;Ge<Ye.removedNodes.length;Ge++){let qe=Ye.removedNodes[Ge];if(qe.nodeType===Node.ELEMENT_NODE){let We;if(qe.classList?We=Array.from(qe.classList):qe.hasAttribute('class')&&(We=qe.getAttribute('class').split(/\s+/)),void 0!=We){let ze=We.indexOf(pe.SCOPE_NAME);if(0<=ze){let $e=We[ze+1];$e&&pe.dom(qe,$e,!0)}}}}}}},Ke=new MutationObserver(Ue),Xe=je=>{Ke.observe(je,{childList:!0,subtree:!0})},Ve=window.customElements&&!window.customElements.flush;if(Ve)Xe(document);else{let je=()=>{Xe(document.body)};window.HTMLImports?window.HTMLImports.whenReady(je):requestAnimationFrame(function(){if('loading'===document.readyState){let Be=function(){je(),document.removeEventListener('readystatechange',Be)};document.addEventListener('readystatechange',Be)}else je()})}Oe=function(){Ue(Ke.takeRecords())}}let Me=new class{constructor(Ue=100){this.cache={},this.typeMax=Ue}_validate(Ue,Ke,Xe){for(let Ve=0;Ve<Xe.length;Ve++){let je=Xe[Ve];if(Ue.properties[je]!==Ke[je])return!1}return!0}store(Ue,Ke,Xe,Ve){let je=this.cache[Ue]||[];je.push({properties:Ke,styleElement:Xe,scopeSelector:Ve}),je.length>this.typeMax&&je.shift(),this.cache[Ue]=je}fetch(Ue,Ke,Xe){let Ve=this.cache[Ue];if(Ve)for(let je=Ve.length-1;0<=je;je--){let Be=Ve[je];if(this._validate(Be,Ke,Xe))return Be}}};class be{constructor(){this._scopeCounter={},this._documentOwner=document.documentElement,this._documentOwnerStyleInfo=ue.set(document.documentElement,new ue({rules:[]})),this._elementsHaveApplied=!1}get nativeShadow(){return B}get nativeCss(){return Y}get nativeCssApply(){return G}flush(){Oe()}_generateScopeSelector(ke){let Ue=this._scopeCounter[ke]=(this._scopeCounter[ke]||0)+1;return`${ke}-${Ue}`}getStyleAst(ke){return N(ke)}styleAstToString(ke){return A(ke)}_gatherStyles(ke){let Ue=ke.content.querySelectorAll('style'),Ke=[];for(let Xe=0;Xe<Ue.length;Xe++){let Ve=Ue[Xe];Ke.push(Ve.textContent),Ve.parentNode.removeChild(Ve)}return Ke.join('').trim()}_getCssBuild(ke){let Ue=ke.content.querySelector('style');return Ue?Ue.getAttribute('css-build')||'':''}prepareTemplate(ke,Ue,Ke){if(!ke._prepared){ke._prepared=!0,ke.name=Ue,ke.extends=Ke,de[Ue]=ke;let Xe=this._getCssBuild(ke),Ve=this._gatherStyles(ke),je={is:Ue,extends:Ke,__cssBuild:Xe};this.nativeShadow||pe.dom(ke.content,Ue);let Be=Ie.detectMixin(Ve),Ye=e(Ve);Be&&this.nativeCss&&!this.nativeCssApply&&Ie.transformRules(Ye,Ue),ke._styleAst=Ye;let Ge=[];if(this.nativeCss||(Ge=ge.decorateStyles(ke._styleAst,je)),!Ge.length||this.nativeCss){let qe=this.nativeShadow?ke.content:null,We=xe[Ue],ze=this._generateStaticStyle(je,ke._styleAst,qe,We);ke._style=ze}ke._ownPropertyNames=Ge}}_generateStaticStyle(ke,Ue,Ke,Xe){let Ve=pe.elementStyles(ke,Ue);if(Ve.length)return I(Ve,ke.is,Ke,Xe)}_prepareHost(ke){let Ke,Ue=ke.getAttribute('is')||ke.localName;Ue!==ke.localName&&(Ke=ke.localName);let je,Be,Ye,Xe=xe[Ue],Ve=de[Ue];return Ve&&(je=Ve._styleAst,Be=Ve._ownPropertyNames,Ye=Ve._cssBuild),ue.set(ke,new ue(je,Xe,Be,Ue,Ke,Ye))}applyStyle(ke,Ue){let Ke=ke.getAttribute('is')||ke.localName,Xe=ue.get(ke),Ve=!!Xe;if(Xe||(Xe=this._prepareHost(ke)),this._isRootOwner(ke)||(this._elementsHaveApplied=!0),window.CustomStyle){let je=window.CustomStyle;if(je._documentDirty){if(je.findStyles(),this.nativeCss?!this.nativeCssApply&&je._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),je.applyStyles(),!this._elementsHaveApplied)return;if(!this.nativeCss&&(this.updateStyles(),Ve))return}}if(Ue&&(Xe.overrideStyleProperties=Xe.overrideStyleProperties||{},Object.assign(Xe.overrideStyleProperties,Ue)),this.nativeCss){Xe.overrideStyleProperties&&this._updateNativeProperties(ke,Xe.overrideStyleProperties);let je=de[Ke];if(!je&&!this._isRootOwner(ke))return;if(je&&je._applyShimInvalid&&je._style){if(je._validating||(Ie.transformRules(je._styleAst,Ke),je._style.textContent=pe.elementStyles(ke,Xe.styleRules),ue.startValidating(Ke)),this.nativeShadow){let Be=ke.shadowRoot;if(Be){let Ye=Be.querySelector('style');Ye.textContent=pe.elementStyles(ke,Xe.styleRules)}}Xe.styleRules=je._styleAst}}else this._updateProperties(ke,Xe),Xe.ownStylePropertyNames&&Xe.ownStylePropertyNames.length&&this._applyStyleProperties(ke,Xe);if(Ve){let je=this._isRootOwner(ke)?ke:ke.shadowRoot;je&&this._applyToDescendants(je)}}_applyToDescendants(ke){let Ue=ke.children;for(let Xe,Ke=0;Ke<Ue.length;Ke++)Xe=Ue[Ke],Xe.shadowRoot&&this.applyStyle(Xe),this._applyToDescendants(Xe)}_styleOwnerForNode(ke){let Ue=ke.getRootNode(),Ke=Ue.host;return Ke?ue.get(Ke)?Ke:this._styleOwnerForNode(Ke):this._documentOwner}_isRootOwner(ke){return ke===this._documentOwner}_applyStyleProperties(ke,Ue){let Ke=ke.getAttribute('is')||ke.localName,Xe=Me.fetch(Ke,Ue.styleProperties,Ue.ownStylePropertyNames),Ve=Xe&&Xe.scopeSelector,je=Xe?Xe.styleElement:null,Be=Ue.scopeSelector;Ue.scopeSelector=Ve||this._generateScopeSelector(Ke);let Ye=ge.applyElementStyle(ke,Ue.styleProperties,Ue.scopeSelector,je);return this.nativeShadow||ge.applyElementScopeSelector(ke,Ue.scopeSelector,Be),Xe||Me.store(Ke,Ue.styleProperties,Ye,Ue.scopeSelector),Ye}_updateProperties(ke,Ue){let Ke=this._styleOwnerForNode(ke),Xe=ue.get(Ke),Ve=Xe.styleProperties,je=Object.create(Ve||null),Be=ge.hostAndRootPropertiesForScope(ke,Ue.styleRules),Ye=ge.propertyDataFromStyles(Xe.styleRules,ke),Ge=Ye.properties;Object.assign(je,Be.hostProps,Ge,Be.rootProps),this._mixinOverrideStyles(je,Ue.overrideStyleProperties),ge.reify(je),Ue.styleProperties=je}_mixinOverrideStyles(ke,Ue){for(let Ke in Ue){let Xe=Ue[Ke];(Xe||0===Xe)&&(ke[Ke]=Xe)}}_updateNativeProperties(ke,Ue){for(let Ke in Ue)null===Ke?ke.style.removeProperty(Ke):ke.style.setProperty(Ke,Ue[Ke])}updateStyles(ke){this.applyStyle(this._documentOwner,ke)}_transformCustomStyleForDocument(ke){let Ue=N(ke);P(Ue,Ke=>{B?pe.normalizeRootSelector(Ke):pe.documentRule(Ke),this.nativeCss&&!this.nativeCssApply&&Ie.transformRule(Ke)}),this.nativeCss?ke.textContent=A(Ue):this._documentOwnerStyleInfo.styleRules.rules.push(Ue)}_revalidateApplyShim(ke){if(this.nativeCss&&!this.nativeCssApply){let Ue=N(ke);Ie.transformRules(Ue),ke.textContent=A(Ue)}}_applyCustomStyleToDocument(ke){this.nativeCss||ge.applyCustomStyle(ke,this._documentOwnerStyleInfo.styleProperties)}getComputedStyleValue(ke,Ue){let Ke;if(!this.nativeCss){let Xe=ue.get(ke)||ue.get(this._styleOwnerForNode(ke));Ke=Xe.styleProperties[Ue]}return Ke=Ke||window.getComputedStyle(ke).getPropertyValue(Ue),Ke.trim()}setElementClass(ke,Ue){let Ke=ke.getRootNode(),Xe=Ue?Ue.split(/\s/):[],Ve=Ke.host&&Ke.host.localName;if(!Ve){var je=ke.getAttribute('class');if(je){let Be=je.split(/\s/);for(let Ye=0;Ye<Be.length;Ye++)if(Be[Ye]===pe.SCOPE_NAME){Ve=Be[Ye+1];break}}}if(Ve&&Xe.push(pe.SCOPE_NAME,Ve),!this.nativeCss){let Be=ue.get(ke);Be&&Be.scopeSelector&&Xe.push(ge.XSCOPE_NAME,Be.scopeSelector)}H(ke,Xe.join(' '))}_styleInfoForNode(ke){return ue.get(ke)}}window.ShadyCSS=new be;let we=window.ShadyCSS,Le=!1,He=[],De=null;class Fe extends HTMLElement{static get _customStyles(){return He}static get processHook(){return De}static set processHook(ke){De=ke}static get _documentDirty(){return Le}static findStyles(){for(let ke=0;ke<He.length;ke++){let Ue=He[ke];if(!Ue._style){let Ke=Ue.querySelector('style');if(!Ke)continue;if(Ke.__appliedElement)for(let Xe=0;Xe<Ke.attributes.length;Xe++){let Ve=Ke.attributes[Xe];Ke.__appliedElement.setAttribute(Ve.name,Ve.value)}Ue._style=Ke.__appliedElement||Ke,De&&De(Ue._style),we._transformCustomStyleForDocument(Ue._style)}}}static _revalidateApplyShim(){for(let ke=0;ke<He.length;ke++){let Ue=He[ke];Ue._style&&we._revalidateApplyShim(Ue._style)}}static applyStyles(){for(let ke=0;ke<He.length;ke++){let Ue=He[ke];Ue._style&&we._applyCustomStyleToDocument(Ue._style)}Le=!1}constructor(){super(),He.push(this),F()}}window.CustomStyle=Fe,window.customElements.define('custom-style',Fe)})();
//# sourceMappingURL=shadycss.min.js.map
