(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function e(Ke){return Ke=a(Ke),u(d(Ke),Ke)}function a(Ke){return Ke.replace(X.comments,'').replace(X.port,'')}function d(Ke){let Xe={start:0,end:Ke.length},je=Xe;for(let Be=0,Ve=Ke.length;Be<Ve;Be++)if(Ke[Be]===U){je.rules||(je.rules=[]);let Ye=je,Ge=Ye.rules[Ye.rules.length-1];je={start:Be+1,parent:Ye,previous:Ge},Ye.rules.push(je)}else Ke[Be]===K&&(je.end=Be+1,je=je.parent||Xe);return Xe}function u(Ke,Xe){let je=Xe.substring(Ke.start,Ke.end-1);if(Ke.parsedCssText=Ke.cssText=je.trim(),Ke.parent){let Ve=Ke.previous?Ke.previous.end:Ke.parent.start;je=Xe.substring(Ve,Ke.start-1),je=y(je),je=je.replace(X.multipleSpaces,' '),je=je.substring(je.lastIndexOf(';')+1);let Ye=Ke.parsedSelector=Ke.selector=je.trim();Ke.atRule=0===Ye.indexOf('@'),Ke.atRule?0===Ye.indexOf('@media')?Ke.type=k.MEDIA_RULE:Ye.match(X.keyframesRule)&&(Ke.type=k.KEYFRAMES_RULE,Ke.keyframesName=Ke.selector.split(X.multipleSpaces).pop()):0===Ye.indexOf(j)?Ke.type=k.MIXIN_RULE:Ke.type=k.STYLE_RULE}let Be=Ke.rules;if(Be)for(let Ge,Ve=0,Ye=Be.length;Ve<Ye&&(Ge=Be[Ve]);Ve++)u(Ge,Xe);return Ke}function y(Ke){return Ke.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let Xe=arguments[1],je=6-Xe.length;for(;je--;)Xe='0'+Xe;return'\\'+Xe})}function _(Ke,Xe,je){je=je||'';let Be='';if(Ke.cssText||Ke.rules){let Ve=Ke.rules;if(Ve&&!S(Ve))for(let qe,Ye=0,Ge=Ve.length;Ye<Ge&&(qe=Ve[Ye]);Ye++)Be=_(qe,Xe,Be);else Be=Xe?Ke.cssText:h(Ke.cssText),Be=Be.trim(),Be&&(Be='  '+Be+'\n')}return Be&&(Ke.selector&&(je+=Ke.selector+' '+U+'\n'),je+=Be,Ke.selector&&(je+=K+'\n\n')),je}function S(Ke){return 0===Ke[0].selector.indexOf(j)}function h(Ke){return Ke=g(Ke),C(Ke)}function g(Ke){return Ke.replace(X.customProp,'').replace(X.mixinProp,'')}function C(Ke){return Ke.replace(X.mixinApply,'').replace(X.varApply,'')}function E(Ke){Ke&&(V=V&&!Ke.shimcssproperties,B=B&&!Ke.shimshadow)}function T(Ke,Xe){return'string'==typeof Ke&&(Ke=e(Ke)),Xe&&R(Ke,Xe),_(Ke,V)}function A(Ke){return!Ke.__cssRules&&Ke.textContent&&(Ke.__cssRules=e(Ke.textContent)),Ke.__cssRules}function N(Ke){return Ke.parent&&Ke.parent.type===k.KEYFRAMES_RULE}function R(Ke,Xe,je,Be){if(Ke){let Ve=!1;if(Be&&Ke.type===k.MEDIA_RULE){let Ge=Ke.selector.match(q.MEDIA_MATCH);Ge&&!window.matchMedia(Ge[1]).matches&&(Ve=!0)}Ke.type===k.STYLE_RULE?Xe(Ke):je&&Ke.type===k.KEYFRAMES_RULE?je(Ke):Ke.type===k.MIXIN_RULE&&(Ve=!0);let Ye=Ke.rules;if(Ye&&!Ve)for(let We,Ge=0,qe=Ye.length;Ge<qe&&(We=Ye[Ge]);Ge++)R(We,Xe,je,Be)}}function P(Ke,Xe,je,Be){let Ve=O(Ke,Xe);return I(Ve,je,Be)}function I(Ke,Xe,je){Xe=Xe||document.head;let Be=je&&je.nextSibling||Xe.firstChild;return G=Ke,Xe.insertBefore(Ke,Be)}function O(Ke,Xe){let je=document.createElement('style');return Xe&&je.setAttribute('scope',Xe),je.textContent=Ke,je}function M(Ke){let Xe=document.createComment(' Shady DOM styles for '+Ke+' '),je=G?G.nextSibling:null,Be=document.head;return Be.insertBefore(Xe,je||Be.firstChild),G=Xe,Xe}function b(Ke,Xe){let je=0;for(let Be=Xe,Ve=Ke.length;Be<Ve;Be++)if('('===Ke[Be])je++;else if(')'===Ke[Be]&&0==--je)return Be;return-1}function w(Ke,Xe){let je=Ke.indexOf('var(');if(-1===je)return Xe(Ke,'','','');let Be=b(Ke,je+3),Ve=Ke.substring(je+4,Be),Ye=Ke.substring(0,je),Ge=w(Ke.substring(Be+1),Xe),qe=Ve.indexOf(',');if(-1===qe)return Xe(Ye,Ve.trim(),'',Ge);let We=Ve.substring(0,qe).trim(),ze=Ve.substring(qe+1).trim();return Xe(Ye,We,ze,Ge)}function L(Ke,Xe){Ke.__nativeSetAttribute?Ke.__nativeSetAttribute('class',Xe):Ke.setAttribute('class',Xe)}function F(Ke,Xe){let je=parseInt(Ke/32);Xe[je]=(Xe[je]||0)|1<<Ke%32}function D(){Le||(Le=!0,window.HTMLImports?window.HTMLImports.whenReady(H):'complete'===document.readyState?H():!ke&&(ke=!0,document.addEventListener('readystatechange',()=>{'complete'===document.readyState&&H()})))}function H(){requestAnimationFrame(()=>{(Le||Fe)&&we.updateStyles(),Le=!1,Fe=!0})}let k={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},U='{',K='}',X={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},j='--',B=!(window.ShadyDOM&&window.ShadyDOM.inUse),V=!navigator.userAgent.match('AppleWebKit/601')&&window.CSS&&CSS.supports&&CSS.supports('box-shadow','0 0 0 var(--foo)'),Y=!1;window.ShadyCSS?E(window.ShadyCSS):window.WebComponents&&E(window.WebComponents.flags);let G=null,q={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:'(?:^|[^.#[:])',HOST_SUFFIX:'($|[.:[\\s>+~])'};const W='style-scope';class z{get SCOPE_NAME(){return W}dom(Ke,Xe,je){Ke.__styleScoped?Ke.__styleScoped=null:this._transformDom(Ke,Xe||'',je)}_transformDom(Ke,Xe,je){Ke.nodeType===Node.ELEMENT_NODE&&this.element(Ke,Xe,je);let Be='template'===Ke.localName?(Ke.content||Ke._content).childNodes:Ke.children||Ke.childNodes;if(Be)for(let Ve=0;Ve<Be.length;Ve++)this._transformDom(Be[Ve],Xe,je)}element(Ke,Xe,je){if(Xe)if(Ke.classList)je?(Ke.classList.remove(W),Ke.classList.remove(Xe)):(Ke.classList.add(W),Ke.classList.add(Xe));else if(Ke.getAttribute){let Be=Ke.getAttribute('class');if(!je){let Ve=(Be?Be+' ':'')+W+' '+Xe;L(Ke,Ve)}else if(Be){let Ve=Be.replace(W,'').replace(Xe,'');L(Ke,Ve)}}}elementStyles(Ke,Xe,je){let Be=Ke.__cssBuild,Ve=B||'shady'===Be?T(Xe,je):this.css(Xe,Ke.is,Ke.extends,je)+'\n\n';return Ve.trim()}css(Ke,Xe,je,Be){let Ve=this._calcHostScope(Xe,je);Xe=this._calcElementScope(Xe);let Ye=this;return T(Ke,function(Ge){Ge.isScoped||(Ye.rule(Ge,Xe,Ve),Ge.isScoped=!0),Be&&Be(Ge,Xe,Ve)})}_calcElementScope(Ke){return Ke?'.'+Ke:''}_calcHostScope(Ke,Xe){return Xe?'[is='+Ke+']':Ke}rule(Ke,Xe,je){this._transformRule(Ke,this._transformComplexSelector,Xe,je)}_transformRule(Ke,Xe,je,Be){Ke.selector=Ke.transformedSelector=this._transformRuleCss(Ke,Xe,je,Be)}_transformRuleCss(Ke,Xe,je,Be){let Ve=Ke.selector.split(Z);if(!N(Ke))for(let qe,Ye=0,Ge=Ve.length;Ye<Ge&&(qe=Ve[Ye]);Ye++)Ve[Ye]=Xe.call(this,qe,je,Be);return Ve.join(Z)}_transformComplexSelector(Ke,Xe,je){let Be=!1;return Ke=Ke.trim(),Ke=Ke.replace($,(Ve,Ye,Ge)=>`:${Ye}(${Ge.replace(/\s/g,'')})`),Ke=Ke.replace(re,`${te} $1`),Ke=Ke.replace(J,(Ve,Ye,Ge)=>{if(!Be){let qe=this._transformCompoundSelector(Ge,Ye,Xe,je);Be=Be||qe.stop,Ye=qe.combinator,Ge=qe.value}return Ye+Ge}),Ke}_transformCompoundSelector(Ke,Xe,je,Be){let Ve=Ke.indexOf(se);0<=Ke.indexOf(te)?Ke=this._transformHostSelector(Ke,Be):0!==Ve&&(Ke=je?this._transformSimpleSelector(Ke,je):Ke);let Ye=!1;0<=Ve&&(Xe='',Ye=!0);let Ge;return Ye&&(Ge=!0,Ye&&(Ke=Ke.replace(oe,(qe,We)=>` > ${We}`))),Ke=Ke.replace(le,(qe,We,ze)=>`[dir="${ze}"] ${We}, ${We}[dir="${ze}"]`),{value:Ke,combinator:Xe,stop:Ge}}_transformSimpleSelector(Ke,Xe){let je=Ke.split(ae);return je[0]+=Xe,je.join(ae)}_transformHostSelector(Ke,Xe){let je=Ke.match(ne),Be=je&&je[2].trim()||'';if(Be){if(!Be[0].match(ee)){let Ve=Be.split(ee)[0];return Ve===Xe?Be:'should_not_match'}return Ke.replace(ne,function(Ve,Ye,Ge){return Xe+Ge})}return Ke.replace(te,Xe)}documentRule(Ke){Ke.selector=Ke.parsedSelector,this.normalizeRootSelector(Ke),this._transformRule(Ke,this._transformDocumentSelector)}normalizeRootSelector(Ke){':root'===Ke.selector&&(Ke.selector='html')}_transformDocumentSelector(Ke){return Ke.match(se)?this._transformComplexSelector(Ke,Q):this._transformSimpleSelector(Ke.trim(),Q)}}let $=/:(nth[-\w]+)\(([^)]+)\)/,Q=`:not(.${W})`,Z=',',J=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,ee=/[[.:#*]/,te=':host',se='::slotted',re=/^(::slotted)/,ne=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,oe=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(.*):dir\((?:(ltr|rtl))\)/,ae=':';var ie=new z,pe={};const de=Promise.resolve();class me{static get(Ke){return Ke.__styleInfo}static set(Ke,Xe){return Ke.__styleInfo=Xe,Xe}static invalidate(Ke){pe[Ke]&&(pe[Ke]._applyShimInvalid=!0)}static validate(Ke){const Xe=pe[Ke];Xe._invalidating||(Xe._invalidating=!0,de.then(()=>{Xe._applyShimInvalid=!1,Xe._invalidating=!1}))}constructor(Ke,Xe,je,Be,Ve,Ye){this.styleRules=Ke||null,this.placeholder=Xe||null,this.ownStylePropertyNames=je||[],this.overrideStyleProperties=null,this.elementName=Be||'',this.cssBuild=Ye||'',this.typeExtension=Ve||'',this.styleProperties=null,this.scopeSelector=null,this.customStyle=null,this.shouldRecalculate=!0}}const ue=window.Element.prototype,ye=ue.matches||ue.matchesSelector||ue.mozMatchesSelector||ue.msMatchesSelector||ue.oMatchesSelector||ue.webkitMatchesSelector,_e=navigator.userAgent.match('Trident'),fe='x-scope';class Se{get XSCOPE_NAME(){return fe}decorateStyles(Ke){let Xe=this,je={},Be=[],Ve=0;R(Ke,function(Ge){Xe.decorateRule(Ge),Ge.index=Ve++,Xe.collectPropertiesInCssText(Ge.propertyInfo.cssText,je)},function(qe){Be.push(qe)}),Ke._keyframes=Be;let Ye=[];for(let Ge in je)Ye.push(Ge);return Ye}decorateRule(Ke){if(Ke.propertyInfo)return Ke.propertyInfo;let Xe={},je={},Be=this.collectProperties(Ke,je);return Be&&(Xe.properties=je,Ke.rules=null),Xe.cssText=this.collectCssText(Ke),Ke.propertyInfo=Xe,Xe}collectProperties(Ke,Xe){let je=Ke.propertyInfo;if(!je){let Be,Ve=q.VAR_ASSIGN,Ye=Ke.parsedCssText,Ge,qe;for(;Be=Ve.exec(Ye);)Ge=(Be[2]||Be[3]).trim(),('inherit'!==Ge||'unset'!==Ge)&&(Xe[Be[1].trim()]=Ge),qe=!0;return qe}else if(je.properties)return Object.assign(Xe,je.properties),!0}collectCssText(Ke){return this.collectConsumingCssText(Ke.parsedCssText)}collectConsumingCssText(Ke){return Ke.replace(q.BRACKETED,'').replace(q.VAR_ASSIGN,'')}collectPropertiesInCssText(Ke,Xe){for(let je;je=q.VAR_CONSUMED.exec(Ke);){let Be=je[1];':'!==je[2]&&(Xe[Be]=!0)}}reify(Ke){let Xe=Object.getOwnPropertyNames(Ke);for(let Be,je=0;je<Xe.length;je++)Be=Xe[je],Ke[Be]=this.valueForProperty(Ke[Be],Ke)}valueForProperty(Ke,Xe){if(Ke)if(0<=Ke.indexOf(';'))Ke=this.valueForProperties(Ke,Xe);else{let je=this;Ke=w(Ke,function(Be,Ve,Ye,Ge){if(!Ve)return Be+Ge;let qe=je.valueForProperty(Xe[Ve],Xe);return qe&&'initial'!==qe?'apply-shim-inherit'===qe&&(qe='inherit'):qe=je.valueForProperty(Xe[Ye]||Ye,Xe)||Ye,Be+(qe||'')+Ge})}return Ke&&Ke.trim()||''}valueForProperties(Ke,Xe){let je=Ke.split(';');for(let Ve,Ye,Be=0;Be<je.length;Be++)if(Ve=je[Be]){if(q.MIXIN_MATCH.lastIndex=0,Ye=q.MIXIN_MATCH.exec(Ve),Ye)Ve=this.valueForProperty(Xe[Ye[1]],Xe);else{let Ge=Ve.indexOf(':');if(-1!==Ge){let qe=Ve.substring(Ge);qe=qe.trim(),qe=this.valueForProperty(qe,Xe)||qe,Ve=Ve.substring(0,Ge)+qe}}je[Be]=Ve&&Ve.lastIndexOf(';')===Ve.length-1?Ve.slice(0,-1):Ve||''}return je.join(';')}applyProperties(Ke,Xe){let je='';Ke.propertyInfo||this.decorateRule(Ke),Ke.propertyInfo.cssText&&(je=this.valueForProperties(Ke.propertyInfo.cssText,Xe)),Ke.cssText=je}applyKeyframeTransforms(Ke,Xe){let je=Ke.cssText,Be=Ke.cssText;if(null==Ke.hasAnimations&&(Ke.hasAnimations=q.ANIMATION_MATCH.test(je)),Ke.hasAnimations){let Ve;if(null==Ke.keyframeNamesToTransform)for(let Ye in Ke.keyframeNamesToTransform=[],Xe)Ve=Xe[Ye],Be=Ve(je),je!==Be&&(je=Be,Ke.keyframeNamesToTransform.push(Ye));else{for(let Ye=0;Ye<Ke.keyframeNamesToTransform.length;++Ye)Ve=Xe[Ke.keyframeNamesToTransform[Ye]],je=Ve(je);Be=je}}Ke.cssText=Be}propertyDataFromStyles(Ke,Xe){let je={},Be=this,Ve=[];return R(Ke,function(Ye){Ye.propertyInfo||Be.decorateRule(Ye);let Ge=Ye.transformedSelector||Ye.parsedSelector;Xe&&Ye.propertyInfo.properties&&Ge&&ye.call(Xe,Ge)&&(Be.collectProperties(Ye,je),F(Ye.index,Ve))},null,!0),{properties:je,key:Ve}}whenHostOrRootRule(Ke,Xe,je,Be){if(Xe.propertyInfo||this.decorateRule(Xe),!!Xe.propertyInfo.properties){let Ve=Ke.is?ie._calcHostScope(Ke.is,Ke.extends):'html',Ye=Xe.parsedSelector,Ge=':host > *'===Ye||'html'===Ye,qe=0===Ye.indexOf(':host')&&!Ge;if('shady'===je&&(Ge=Ye===Ve+' > *.'+Ve||-1!==Ye.indexOf('html'),qe=!Ge&&0===Ye.indexOf(Ve)),'shadow'===je&&(Ge=':host > *'===Ye||'html'===Ye,qe=qe&&!Ge),Ge||qe){let We=Ve;qe&&(B&&!Xe.transformedSelector&&(Xe.transformedSelector=ie._transformRuleCss(Xe,ie._transformComplexSelector,ie._calcElementScope(Ke.is),Ve)),We=Xe.transformedSelector||Ve),Be({selector:We,isHost:qe,isRoot:Ge})}}}hostAndRootPropertiesForScope(Ke,Xe){let je={},Be={},Ve=this,Ye=Xe&&Xe.__cssBuild;return R(Xe,function(Ge){Ve.whenHostOrRootRule(Ke,Ge,Ye,function(qe){let We=Ke._element||Ke;ye.call(We,qe.selector)&&(qe.isHost?Ve.collectProperties(Ge,je):Ve.collectProperties(Ge,Be))})},null,!0),{rootProps:Be,hostProps:je}}transformStyles(Ke,Xe,je){let Be=this,Ve=ie._calcHostScope(Ke.is,Ke.extends),Ye=Ke.extends?'\\'+Ve.slice(0,-1)+'\\]':Ve,Ge=new RegExp(q.HOST_PREFIX+Ye+q.HOST_SUFFIX),qe=me.get(Ke).styleRules,We=this._elementKeyframeTransforms(Ke,qe,je);return ie.elementStyles(Ke,qe,function(ze){Be.applyProperties(ze,Xe),B||N(ze)||!ze.cssText||(Be.applyKeyframeTransforms(ze,We),Be._scopeSelector(ze,Ge,Ve,je))})}_elementKeyframeTransforms(Ke,Xe,je){let Be=Xe._keyframes,Ve={};if(!B&&Be)for(let Ye=0,Ge=Be[Ye];Ye<Be.length;Ge=Be[++Ye])this._scopeKeyframes(Ge,je),Ve[Ge.keyframesName]=this._keyframesRuleTransformer(Ge);return Ve}_keyframesRuleTransformer(Ke){return function(Xe){return Xe.replace(Ke.keyframesNameRx,Ke.transformedKeyframesName)}}_scopeKeyframes(Ke,Xe){Ke.keyframesNameRx=new RegExp(Ke.keyframesName,'g'),Ke.transformedKeyframesName=Ke.keyframesName+'-'+Xe,Ke.transformedSelector=Ke.transformedSelector||Ke.selector,Ke.selector=Ke.transformedSelector.replace(Ke.keyframesName,Ke.transformedKeyframesName)}_scopeSelector(Ke,Xe,je,Be){Ke.transformedSelector=Ke.transformedSelector||Ke.selector;let Ve=Ke.transformedSelector,Ye='.'+Be,Ge=Ve.split(',');for(let ze,qe=0,We=Ge.length;qe<We&&(ze=Ge[qe]);qe++)Ge[qe]=ze.match(Xe)?ze.replace(je,Ye):Ye+' '+ze;Ke.selector=Ge.join(',')}applyElementScopeSelector(Ke,Xe,je){let Be=Ke.getAttribute('class')||'',Ve=Be;je&&(Ve=Be.replace(new RegExp('\\s*'+fe+'\\s*'+je+'\\s*','g'),' ')),Ve+=(Ve?' ':'')+fe+' '+Xe,Be!==Ve&&(Ke.__nativeSetAttribute?Ke.__nativeSetAttribute('class',Ve):Ke.setAttribute('class',Ve))}applyElementStyle(Ke,Xe,je,Be){let Ve=Be?Be.textContent||'':this.transformStyles(Ke,Xe,je),Ye=me.get(Ke),Ge=Ye.customStyle;return Ge&&!B&&Ge!==Be&&(Ge._useCount--,0>=Ge._useCount&&Ge.parentNode&&Ge.parentNode.removeChild(Ge)),B?Ye.customStyle?(Ye.customStyle.textContent=Ve,Be=Ye.customStyle):Ve&&(Be=P(Ve,je,Ke.shadowRoot,Ye.placeholder)):Be?!Be.parentNode&&I(Be,null,Ye.placeholder):Ve&&(Be=P(Ve,je,null,Ye.placeholder)),Be&&(Be._useCount=Be._useCount||0,Ye.customStyle!=Be&&Be._useCount++,Ye.customStyle=Be),_e&&(Be.textContent=Be.textContent),Be}applyCustomStyle(Ke,Xe){let je=A(Ke),Be=this;Ke.textContent=T(je,function(Ve){let Ye=Ve.cssText=Ve.parsedCssText;Ve.propertyInfo&&Ve.propertyInfo.cssText&&(Ye=g(Ye),Ve.cssText=Be.valueForProperties(Ye,Xe))})}}var he=new Se;let ge={};const xe=window.customElements;if(xe&&!B){const Ke=xe.define;xe.define=function(Xe,je,Be){return ge[Xe]=M(Xe),Ke.call(xe,Xe,je,Be)}}let Ce=q.MIXIN_MATCH,Ee=q.VAR_ASSIGN,Te=/;\s*/m,Ae=/^\s*(initial)|(inherit)\s*$/,Ne='_-_';class Re{constructor(){this._map={}}set(Ke,Xe){Ke=Ke.trim(),this._map[Ke]={properties:Xe,dependants:{}}}get(Ke){return Ke=Ke.trim(),this._map[Ke]}}class ve{constructor(){this._currentTemplate=null,this._measureElement=null,this._map=new Re,this._separator=Ne,this._boundProduceCssProperties=(Ke,Xe,je,Be)=>this._produceCssProperties(Ke,Xe,je,Be)}detectMixin(Ke){const Xe=Ce.test(Ke)||Ee.test(Ke);return Ce.lastIndex=0,Ee.lastIndex=0,Xe}transformStyle(Ke,Xe){let je=A(Ke);return this.transformRules(je,Xe),je}transformRules(Ke,Xe){this._currentTemplate=pe[Xe],R(Ke,je=>{this.transformRule(je)}),this._currentTemplate=null}transformRule(Ke){Ke.cssText=this.transformCssText(Ke.parsedCssText),':root'===Ke.selector&&(Ke.selector=':host > *')}transformCssText(Ke){return Ke=Ke.replace(Ee,this._boundProduceCssProperties),this._consumeCssProperties(Ke)}_getInitialValueForProperty(Ke){return this._measureElement||(this._measureElement=document.createElement('meta'),this._measureElement.style.all='initial',document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(Ke)}_consumeCssProperties(Ke){for(let Xe;Xe=Ce.exec(Ke);){let je=Xe[0],Be=Xe[1],Ve=Xe.index,Ye=Ve+je.indexOf('@apply'),Ge=Ve+je.length,qe=Ke.slice(0,Ye),We=Ke.slice(Ge),ze=this._cssTextToMap(qe),$e=this._atApplyToCssProperties(Be,ze);Ke=[qe,$e,We].join(''),Ce.lastIndex=Ve+$e.length}return Ke}_atApplyToCssProperties(Ke,Xe){Ke=Ke.replace(Te,'');let je=[],Be=this._map.get(Ke);if(Be||(this._map.set(Ke,{}),Be=this._map.get(Ke)),Be){this._currentTemplate&&(Be.dependants[this._currentTemplate.name]=this._currentTemplate);let Ve,Ye,Ge;for(Ve in Be.properties)Ge=Xe&&Xe[Ve],Ye=[Ve,': var(',Ke,Ne,Ve],Ge&&Ye.push(',',Ge),Ye.push(')'),je.push(Ye.join(''))}return je.join('; ')}_replaceInitialOrInherit(Ke,Xe){let je=Ae.exec(Xe);return je&&(je[1]?Xe=ve._getInitialValueForProperty(Ke):Xe='apply-shim-inherit'),Xe}_cssTextToMap(Ke){let Xe=Ke.split(';'),je,Be,Ve={};for(let Ge,qe,Ye=0;Ye<Xe.length;Ye++)Ge=Xe[Ye],Ge&&(qe=Ge.split(':'),1<qe.length&&(je=qe[0].trim(),Be=this._replaceInitialOrInherit(je,qe.slice(1).join(':')),Ve[je]=Be));return Ve}_invalidateMixinEntry(Ke){for(let Xe in Ke.dependants)this._currentTemplate&&Xe===this._currentTemplate.name||me.invalidate(Xe)}_produceCssProperties(Ke,Xe,je,Be){if(je&&w(je,(et,tt)=>{tt&&this._map.get(tt)&&(Be='@apply '+tt+';')}),!Be)return Ke;let Ve=this._consumeCssProperties(Be),Ye=Ke.slice(0,Ke.indexOf('--')),Ge=this._cssTextToMap(Ve),qe=Ge,We=this._map.get(Xe),ze=We&&We.properties;ze?qe=Object.assign(Object.create(ze),Ge):this._map.set(Xe,qe);let Qe,Ze,$e=[],Je=!1;for(Qe in qe)Ze=Ge[Qe],void 0==Ze&&(Ze='initial'),ze&&!(Qe in ze)&&(Je=!0),$e.push(Xe+Ne+Qe+': '+Ze);return Je&&this._invalidateMixinEntry(We),We&&(We.properties=qe),je&&(Ye=Ke+';'+Ye),Ye+$e.join('; ')+';'}}let Pe=new ve;window.ApplyShim=Pe;let Ie=function(){};if(!B){let Ke=Ye=>{return Ye.classList&&!Ye.classList.contains(ie.SCOPE_NAME)||Ye instanceof SVGElement&&(!Ye.hasAttribute('class')||0>Ye.getAttribute('class').indexOf(ie.SCOPE_NAME))},Xe=Ye=>{for(let Ge=0;Ge<Ye.length;Ge++){let qe=Ye[Ge];if(qe.target!==document.documentElement&&qe.target!==document.head){for(let We=0;We<qe.addedNodes.length;We++){let ze=qe.addedNodes[We];if(Ke(ze)){let $e=ze.getRootNode();if($e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let Qe=$e.host;if(Qe){let Ze=Qe.is||Qe.localName;ie.dom(ze,Ze)}}}}for(let We=0;We<qe.removedNodes.length;We++){let ze=qe.removedNodes[We];if(ze.nodeType===Node.ELEMENT_NODE){let $e;if(ze.classList?$e=Array.from(ze.classList):ze.hasAttribute('class')&&($e=ze.getAttribute('class').split(/\s+/)),void 0!=$e){let Qe=$e.indexOf(ie.SCOPE_NAME);if(0<=Qe){let Ze=$e[Qe+1];Ze&&ie.dom(ze,Ze,!0)}}}}}}},je=new MutationObserver(Xe),Be=Ye=>{je.observe(Ye,{childList:!0,subtree:!0})},Ve=window.customElements&&!window.customElements.flush;if(Ve)Be(document);else{let Ye=()=>{Be(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Ye):requestAnimationFrame(function(){if('loading'===document.readyState){let Ge=function(){Ye(),document.removeEventListener('readystatechange',Ge)};document.addEventListener('readystatechange',Ge)}else Ye()})}Ie=function(){Xe(je.takeRecords())}}let Oe=new class{constructor(Xe=100){this.cache={},this.typeMax=Xe}_validate(Xe,je,Be){for(let Ve=0;Ve<Be.length;Ve++){let Ye=Be[Ve];if(Xe.properties[Ye]!==je[Ye])return!1}return!0}store(Xe,je,Be,Ve){let Ye=this.cache[Xe]||[];Ye.push({properties:je,styleElement:Be,scopeSelector:Ve}),Ye.length>this.typeMax&&Ye.shift(),this.cache[Xe]=Ye}fetch(Xe,je,Be){let Ve=this.cache[Xe];if(Ve)for(let Ye=Ve.length-1;0<=Ye;Ye--){let Ge=Ve[Ye];if(this._validate(Ge,je,Be))return Ge}}},Me=!1;class be{constructor(){this.scopeCounter={},this._documentOwner=document.documentElement,this._documentOwnerStyleInfo=me.set(document.documentElement,new me({rules:[]}))}get nativeShadow(){return B}get nativeCss(){return V}get nativeCssApply(){return Y}flush(){Ie()}_generateScopeSelector(Ke){let Xe=this.scopeCounter[Ke]=(this.scopeCounter[Ke]||0)+1;return`${Ke}-${Xe}`}getStyleAst(Ke){return A(Ke)}styleAstToString(Ke){return T(Ke)}_gatherStyles(Ke){let Xe=Ke.content.querySelectorAll('style'),je=[];for(let Be=0;Be<Xe.length;Be++){let Ve=Xe[Be];je.push(Ve.textContent),Ve.parentNode.removeChild(Ve)}return je.join('').trim()}_getCssBuild(Ke){let Xe=Ke.content.querySelector('style');return Xe?Xe.getAttribute('css-build')||'':''}prepareTemplate(Ke,Xe,je){if(!Ke._prepared){Ke._prepared=!0,Ke.name=Xe,Ke.extends=je,pe[Xe]=Ke;let Be=this._getCssBuild(Ke),Ve=this._gatherStyles(Ke),Ye={is:Xe,extends:je,__cssBuild:Be};this.nativeShadow||ie.dom(Ke.content,Xe);let Ge=Pe.detectMixin(Ve),qe=e(Ve);Ge&&this.nativeCss&&!this.nativeCssApply&&Pe.transformRules(qe,Xe),Ke._styleAst=qe;let We=[];if(this.nativeCss||(We=he.decorateStyles(Ke._styleAst,Ye)),!We.length||this.nativeCss){let ze=this.nativeShadow?Ke.content:null,$e=ge[Xe],Qe=this._generateStaticStyle(Ye,Ke._styleAst,ze,$e);Ke._style=Qe}Ke._ownPropertyNames=We}}_generateStaticStyle(Ke,Xe,je,Be){let Ve=ie.elementStyles(Ke,Xe);if(Ve.length)return P(Ve,Ke.is,je,Be)}_prepareHost(Ke){let je,Xe=Ke.getAttribute('is')||Ke.localName;Xe!==Ke.localName&&(je=Ke.localName);let Ye,Ge,qe,Be=ge[Xe],Ve=pe[Xe];return Ve&&(Ye=Ve._styleAst,Ge=Ve._ownPropertyNames,qe=Ve._cssBuild),me.set(Ke,new me(Ye,Be,Ge,Xe,je,qe))}applyStyle(Ke,Xe){let je=Ke.getAttribute('is')||Ke.localName,Be=me.get(Ke),Ve=!!Be;if(Be||(Be=this._prepareHost(Ke)),this._isRootOwner(Ke)||(Me=!0),window.CustomStyle){let Ye=window.CustomStyle;if(Ye._documentDirty){if(Ye.findStyles(),this.nativeCss?!this.nativeCssApply&&Ye._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),Ye.applyStyles(),!Me)return;if(!V&&(this.updateStyles(),Ve))return}}if(Xe&&(Be.overrideStyleProperties=Be.overrideStyleProperties||{},Object.assign(Be.overrideStyleProperties,Xe)),this.nativeCss){Be.overrideStyleProperties&&this._updateNativeProperties(Ke,Be.overrideStyleProperties);let Ye=pe[je];if(!Ye&&'html'!==je)return;if(Ye&&Ye._applyShimInvalid&&Ye._style){if(Ye._invalidating||(Pe.transformRules(Ye._styleAst,je),Ye._style.textContent=ie.elementStyles(Ke,Be.styleRules),me.validate(je)),this.nativeShadow){let Ge=Ke.shadowRoot;if(Ge){let qe=Ge.querySelector('style');qe.textContent=ie.elementStyles(Ke,Be.styleRules)}}Be.styleRules=Ye._styleAst}}else this._updateProperties(Ke,Be),Be.ownStylePropertyNames&&Be.ownStylePropertyNames.length&&this._applyStyleProperties(Ke,Be);if(Ve){let Ye=this._isRootOwner(Ke)?Ke:Ke.shadowRoot;Ye&&this._applyToDescendants(Ye)}}_applyToDescendants(Ke){let Xe=Ke.children;for(let Be,je=0;je<Xe.length;je++)Be=Xe[je],Be.shadowRoot&&this.applyStyle(Be),this._applyToDescendants(Be)}_styleOwnerForNode(Ke){let Xe=Ke.getRootNode(),je=Xe.host;return je?me.get(je)?je:this._styleOwnerForNode(je):this._documentOwner}_isRootOwner(Ke){return Ke===this._documentOwner}_applyStyleProperties(Ke,Xe){let je=Ke.getAttribute('is')||Ke.localName,Be=Oe.fetch(je,Xe.styleProperties,Xe.ownStylePropertyNames),Ve=Be&&Be.scopeSelector,Ye=Be?Be.styleElement:null,Ge=Xe.scopeSelector;Xe.scopeSelector=Ve||this._generateScopeSelector(je);let qe=he.applyElementStyle(Ke,Xe.styleProperties,Xe.scopeSelector,Ye);return this.nativeShadow||he.applyElementScopeSelector(Ke,Xe.scopeSelector,Ge),Be||Oe.store(je,Xe.styleProperties,qe,Xe.scopeSelector),qe}_updateProperties(Ke,Xe){let je=this._styleOwnerForNode(Ke),Be=me.get(je),Ve=Be.styleProperties,Ye=Object.create(Ve||null),Ge=he.hostAndRootPropertiesForScope(Ke,Xe.styleRules),qe=he.propertyDataFromStyles(Be.styleRules,Ke),We=qe.properties;Object.assign(Ye,Ge.hostProps,We,Ge.rootProps),this._mixinOverrideStyles(Ye,Xe.overrideStyleProperties),he.reify(Ye),Xe.styleProperties=Ye}_mixinOverrideStyles(Ke,Xe){for(let je in Xe){let Be=Xe[je];(Be||0===Be)&&(Ke[je]=Be)}}_updateNativeProperties(Ke,Xe){for(let je in Xe)null===je?Ke.style.removeProperty(je):Ke.style.setProperty(je,Xe[je])}updateStyles(Ke){this.applyStyle(this._documentOwner,Ke)}_transformCustomStyleForDocument(Ke){let Xe=A(Ke);R(Xe,je=>{B?ie.normalizeRootSelector(je):ie.documentRule(je),this.nativeCss&&!this.nativeCssApply&&Pe.transformRule(je)}),this.nativeCss?Ke.textContent=T(Xe):this._documentOwnerStyleInfo.styleRules.rules.push(Xe)}_revalidateApplyShim(Ke){if(this.nativeCss&&!this.nativeCssApply){let Xe=A(Ke);Pe.transformRules(Xe),Ke.textContent=T(Xe)}}_applyCustomStyleToDocument(Ke){this.nativeCss||he.applyCustomStyle(Ke,this._documentOwnerStyleInfo.styleProperties)}getComputedStyleValue(Ke,Xe){let je;if(!this.nativeCss){let Be=me.get(Ke)||me.get(this._styleOwnerForNode(Ke));je=Be.styleProperties[Xe]}return je=je||window.getComputedStyle(Ke).getPropertyValue(Xe),je.trim()}setElementClass(Ke,Xe){let je=Ke.getRootNode(),Be=Xe?Xe.split(/\s/):[],Ve=je.host&&je.host.localName;if(!Ve){var Ye=Ke.getAttribute('class');if(Ye){let Ge=Ye.split(/\s/);for(let qe=0;qe<Ge.length;qe++)if(Ge[qe]===ie.SCOPE_NAME){Ve=Ge[qe+1];break}}}if(Ve&&Be.push(ie.SCOPE_NAME,Ve),!this.nativeCss){let Ge=me.get(Ke);Ge&&Ge.scopeSelector&&Be.push(he.XSCOPE_NAME,Ge.scopeSelector)}L(Ke,Be.join(' '))}_styleInfoForNode(Ke){return me.get(Ke)}}window.ShadyCSS=new be;let we=window.ShadyCSS,Le=!1,Fe=!1,De=[],He=null,ke=!1;class Ue extends HTMLElement{static get _customStyles(){return De}static get processHook(){return He}static set processHook(Ke){return He=Ke}static get _documentDirty(){return Le}static findStyles(){for(let Ke=0;Ke<De.length;Ke++){let Xe=De[Ke];if(!Xe._style){let je=Xe.querySelector('style');if(!je)continue;if(je.__appliedElement)for(let Be=0;Be<je.attributes.length;Be++){let Ve=je.attributes[Be];je.__appliedElement.setAttribute(Ve.name,Ve.value)}Xe._style=je.__appliedElement||je,He&&He(Xe._style),we._transformCustomStyleForDocument(Xe._style)}}}static _revalidateApplyShim(){for(let Ke=0;Ke<De.length;Ke++){let Xe=De[Ke];Xe._style&&we._revalidateApplyShim(Xe._style)}}static applyStyles(){for(let Ke=0;Ke<De.length;Ke++){let Xe=De[Ke];Xe._style&&we._applyCustomStyleToDocument(Xe._style)}Le=!1}constructor(){super(),De.push(this),D()}}window.CustomStyle=Ue,window.customElements.define('custom-style',Ue)})();
//# sourceMappingURL=shadycss.min.js.map
