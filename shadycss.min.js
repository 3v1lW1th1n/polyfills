(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function e(Ue){return Ue=a(Ue),u(d(Ue),Ue)}function a(Ue){return Ue.replace(X.comments,'').replace(X.port,'')}function d(Ue){let Ke={start:0,end:Ue.length},Xe=Ke;for(let je=0,Be=Ue.length;je<Be;je++)if(Ue[je]===U){Xe.rules||(Xe.rules=[]);let Ve=Xe,Ye=Ve.rules[Ve.rules.length-1];Xe={start:je+1,parent:Ve,previous:Ye},Ve.rules.push(Xe)}else Ue[je]===K&&(Xe.end=je+1,Xe=Xe.parent||Ke);return Ke}function u(Ue,Ke){let Xe=Ke.substring(Ue.start,Ue.end-1);if(Ue.parsedCssText=Ue.cssText=Xe.trim(),Ue.parent){let Be=Ue.previous?Ue.previous.end:Ue.parent.start;Xe=Ke.substring(Be,Ue.start-1),Xe=y(Xe),Xe=Xe.replace(X.multipleSpaces,' '),Xe=Xe.substring(Xe.lastIndexOf(';')+1);let Ve=Ue.parsedSelector=Ue.selector=Xe.trim();Ue.atRule=0===Ve.indexOf('@'),Ue.atRule?0===Ve.indexOf('@media')?Ue.type=k.MEDIA_RULE:Ve.match(X.keyframesRule)&&(Ue.type=k.KEYFRAMES_RULE,Ue.keyframesName=Ue.selector.split(X.multipleSpaces).pop()):0===Ve.indexOf(j)?Ue.type=k.MIXIN_RULE:Ue.type=k.STYLE_RULE}let je=Ue.rules;if(je)for(let Ye,Be=0,Ve=je.length;Be<Ve&&(Ye=je[Be]);Be++)u(Ye,Ke);return Ue}function y(Ue){return Ue.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let Ke=arguments[1],Xe=6-Ke.length;for(;Xe--;)Ke='0'+Ke;return'\\'+Ke})}function _(Ue,Ke,Xe){Xe=Xe||'';let je='';if(Ue.cssText||Ue.rules){let Be=Ue.rules;if(Be&&!S(Be))for(let Ge,Ve=0,Ye=Be.length;Ve<Ye&&(Ge=Be[Ve]);Ve++)je=_(Ge,Ke,je);else je=Ke?Ue.cssText:h(Ue.cssText),je=je.trim(),je&&(je='  '+je+'\n')}return je&&(Ue.selector&&(Xe+=Ue.selector+' '+U+'\n'),Xe+=je,Ue.selector&&(Xe+=K+'\n\n')),Xe}function S(Ue){return 0===Ue[0].selector.indexOf(j)}function h(Ue){return Ue=g(Ue),C(Ue)}function g(Ue){return Ue.replace(X.customProp,'').replace(X.mixinProp,'')}function C(Ue){return Ue.replace(X.mixinApply,'').replace(X.varApply,'')}function E(Ue){Ue&&(V=V&&!Ue.shimcssproperties,B=B&&!Ue.shimshadow)}function T(Ue,Ke){return'string'==typeof Ue&&(Ue=e(Ue)),Ke&&R(Ue,Ke),_(Ue,V)}function A(Ue){return!Ue.__cssRules&&Ue.textContent&&(Ue.__cssRules=e(Ue.textContent)),Ue.__cssRules}function N(Ue){return Ue.parent&&Ue.parent.type===k.KEYFRAMES_RULE}function R(Ue,Ke,Xe,je){if(Ue){let Be=!1;if(je&&Ue.type===k.MEDIA_RULE){let Ye=Ue.selector.match(q.MEDIA_MATCH);Ye&&!window.matchMedia(Ye[1]).matches&&(Be=!0)}Ue.type===k.STYLE_RULE?Ke(Ue):Xe&&Ue.type===k.KEYFRAMES_RULE?Xe(Ue):Ue.type===k.MIXIN_RULE&&(Be=!0);let Ve=Ue.rules;if(Ve&&!Be)for(let qe,Ye=0,Ge=Ve.length;Ye<Ge&&(qe=Ve[Ye]);Ye++)R(qe,Ke,Xe,je)}}function P(Ue,Ke,Xe,je){let Be=O(Ue,Ke);return I(Be,Xe,je)}function I(Ue,Ke,Xe){Ke=Ke||document.head;let je=Xe&&Xe.nextSibling||Ke.firstChild;return G=Ue,Ke.insertBefore(Ue,je)}function O(Ue,Ke){let Xe=document.createElement('style');return Ke&&Xe.setAttribute('scope',Ke),Xe.textContent=Ue,Xe}function M(Ue){let Ke=document.createComment(' Shady DOM styles for '+Ue+' '),Xe=G?G.nextSibling:null,je=document.head;return je.insertBefore(Ke,Xe||je.firstChild),G=Ke,Ke}function b(Ue,Ke){let Xe=0;for(let je=Ke,Be=Ue.length;je<Be;je++)if('('===Ue[je])Xe++;else if(')'===Ue[je]&&0==--Xe)return je;return-1}function w(Ue,Ke){let Xe=Ue.indexOf('var(');if(-1===Xe)return Ke(Ue,'','','');let je=b(Ue,Xe+3),Be=Ue.substring(Xe+4,je),Ve=Ue.substring(0,Xe),Ye=w(Ue.substring(je+1),Ke),Ge=Be.indexOf(',');if(-1===Ge)return Ke(Ve,Be.trim(),'',Ye);let qe=Be.substring(0,Ge).trim(),We=Be.substring(Ge+1).trim();return Ke(Ve,qe,We,Ye)}function L(Ue,Ke){Ue.__nativeSetAttribute?Ue.__nativeSetAttribute('class',Ke):Ue.setAttribute('class',Ke)}function F(Ue,Ke){let Xe=parseInt(Ue/32);Ke[Xe]=(Ke[Xe]||0)|1<<Ue%32}function D(){we||(we=!0,window.HTMLImports?window.HTMLImports.whenReady(H):'complete'===document.readyState?H():!He&&(He=!0,document.addEventListener('readystatechange',()=>{'complete'===document.readyState&&H()})))}function H(){requestAnimationFrame(()=>{(we||Le)&&be.updateStyles(),we=!1,Le=!0})}let k={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},U='{',K='}',X={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},j='--',B=!(window.ShadyDOM&&window.ShadyDOM.inUse),V=!navigator.userAgent.match('AppleWebKit/601')&&window.CSS&&CSS.supports&&CSS.supports('box-shadow','0 0 0 var(--foo)'),Y=!1;window.ShadyCSS?E(window.ShadyCSS):window.WebComponents&&E(window.WebComponents.flags);let G=null,q={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:'(?:^|[^.#[:])',HOST_SUFFIX:'($|[.:[\\s>+~])'};const W='style-scope';class z{get SCOPE_NAME(){return W}dom(Ue,Ke,Xe){Ue.__styleScoped?Ue.__styleScoped=null:this._transformDom(Ue,Ke||'',Xe)}_transformDom(Ue,Ke,Xe){Ue.nodeType===Node.ELEMENT_NODE&&this.element(Ue,Ke,Xe);let je='template'===Ue.localName?(Ue.content||Ue._content).childNodes:Ue.children||Ue.childNodes;if(je)for(let Be=0;Be<je.length;Be++)this._transformDom(je[Be],Ke,Xe)}element(Ue,Ke,Xe){if(Ke)if(Ue.classList)Xe?(Ue.classList.remove(W),Ue.classList.remove(Ke)):(Ue.classList.add(W),Ue.classList.add(Ke));else if(Ue.getAttribute){let je=Ue.getAttribute('class');if(!Xe){let Be=(je?je+' ':'')+W+' '+Ke;L(Ue,Be)}else if(je){let Be=je.replace(W,'').replace(Ke,'');L(Ue,Be)}}}elementStyles(Ue,Ke,Xe){let je=Ue.__cssBuild,Be=B||'shady'===je?T(Ke,Xe):this.css(Ke,Ue.is,Ue.extends,Xe)+'\n\n';return Be.trim()}css(Ue,Ke,Xe,je){let Be=this._calcHostScope(Ke,Xe);Ke=this._calcElementScope(Ke);let Ve=this;return T(Ue,function(Ye){Ye.isScoped||(Ve.rule(Ye,Ke,Be),Ye.isScoped=!0),je&&je(Ye,Ke,Be)})}_calcElementScope(Ue){return Ue?'.'+Ue:''}_calcHostScope(Ue,Ke){return Ke?'[is='+Ue+']':Ue}rule(Ue,Ke,Xe){this._transformRule(Ue,this._transformComplexSelector,Ke,Xe)}_transformRule(Ue,Ke,Xe,je){Ue.selector=Ue.transformedSelector=this._transformRuleCss(Ue,Ke,Xe,je)}_transformRuleCss(Ue,Ke,Xe,je){let Be=Ue.selector.split(Z);if(!N(Ue))for(let Ge,Ve=0,Ye=Be.length;Ve<Ye&&(Ge=Be[Ve]);Ve++)Be[Ve]=Ke.call(this,Ge,Xe,je);return Be.join(Z)}_transformComplexSelector(Ue,Ke,Xe){let je=!1;return Ue=Ue.trim(),Ue=Ue.replace($,(Be,Ve,Ye)=>`:${Ve}(${Ye.replace(/\s/g,'')})`),Ue=Ue.replace(re,`${te} $1`),Ue=Ue.replace(J,(Be,Ve,Ye)=>{if(!je){let Ge=this._transformCompoundSelector(Ye,Ve,Ke,Xe);je=je||Ge.stop,Ve=Ge.combinator,Ye=Ge.value}return Ve+Ye}),Ue}_transformCompoundSelector(Ue,Ke,Xe,je){let Be=Ue.indexOf(se);0<=Ue.indexOf(te)?Ue=this._transformHostSelector(Ue,je):0!==Be&&(Ue=Xe?this._transformSimpleSelector(Ue,Xe):Ue);let Ve=!1;0<=Be&&(Ke='',Ve=!0);let Ye;return Ve&&(Ye=!0,Ve&&(Ue=Ue.replace(oe,(Ge,qe)=>` > ${qe}`))),Ue=Ue.replace(le,(Ge,qe,We)=>`[dir="${We}"] ${qe}, ${qe}[dir="${We}"]`),{value:Ue,combinator:Ke,stop:Ye}}_transformSimpleSelector(Ue,Ke){let Xe=Ue.split(ae);return Xe[0]+=Ke,Xe.join(ae)}_transformHostSelector(Ue,Ke){let Xe=Ue.match(ne),je=Xe&&Xe[2].trim()||'';if(je){if(!je[0].match(ee)){let Be=je.split(ee)[0];return Be===Ke?je:'should_not_match'}return Ue.replace(ne,function(Be,Ve,Ye){return Ke+Ye})}return Ue.replace(te,Ke)}documentRule(Ue){Ue.selector=Ue.parsedSelector,this.normalizeRootSelector(Ue),this._transformRule(Ue,this._transformDocumentSelector)}normalizeRootSelector(Ue){':root'===Ue.selector&&(Ue.selector='html')}_transformDocumentSelector(Ue){return Ue.match(se)?this._transformComplexSelector(Ue,Q):this._transformSimpleSelector(Ue.trim(),Q)}}let $=/:(nth[-\w]+)\(([^)]+)\)/,Q=`:not(.${W})`,Z=',',J=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,ee=/[[.:#*]/,te=':host',se='::slotted',re=/^(::slotted)/,ne=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,oe=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(.*):dir\((?:(ltr|rtl))\)/,ae=':';var ie=new z,pe={};const de=Promise.resolve();class me{static get(Ue){return Ue.__styleInfo}static set(Ue,Ke){return Ue.__styleInfo=Ke,Ke}static invalidate(Ue){pe[Ue]&&(pe[Ue]._applyShimInvalid=!0)}static validate(Ue){const Ke=pe[Ue];Ke._invalidating||(Ke._invalidating=!0,de.then(()=>{Ke._applyShimInvalid=!1,Ke._invalidating=!1}))}constructor(Ue,Ke,Xe,je,Be,Ve){this.styleRules=Ue||null,this.placeholder=Ke||null,this.ownStylePropertyNames=Xe||[],this.overrideStyleProperties=null,this.elementName=je||'',this.cssBuild=Ve||'',this.typeExtension=Be||'',this.styleProperties=null,this.scopeSelector=null,this.customStyle=null,this.shouldRecalculate=!0}}const ue=window.Element.prototype,ye=ue.matches||ue.matchesSelector||ue.mozMatchesSelector||ue.msMatchesSelector||ue.oMatchesSelector||ue.webkitMatchesSelector,_e=navigator.userAgent.match('Trident'),fe='x-scope';class Se{get XSCOPE_NAME(){return fe}decorateStyles(Ue){let Ke=this,Xe={},je=[],Be=0;R(Ue,function(Ye){Ke.decorateRule(Ye),Ye.index=Be++,Ke.collectPropertiesInCssText(Ye.propertyInfo.cssText,Xe)},function(Ge){je.push(Ge)}),Ue._keyframes=je;let Ve=[];for(let Ye in Xe)Ve.push(Ye);return Ve}decorateRule(Ue){if(Ue.propertyInfo)return Ue.propertyInfo;let Ke={},Xe={},je=this.collectProperties(Ue,Xe);return je&&(Ke.properties=Xe,Ue.rules=null),Ke.cssText=this.collectCssText(Ue),Ue.propertyInfo=Ke,Ke}collectProperties(Ue,Ke){let Xe=Ue.propertyInfo;if(!Xe){let je,Be=q.VAR_ASSIGN,Ve=Ue.parsedCssText,Ye,Ge;for(;je=Be.exec(Ve);)Ye=(je[2]||je[3]).trim(),('inherit'!==Ye||'unset'!==Ye)&&(Ke[je[1].trim()]=Ye),Ge=!0;return Ge}else if(Xe.properties)return Object.assign(Ke,Xe.properties),!0}collectCssText(Ue){return this.collectConsumingCssText(Ue.parsedCssText)}collectConsumingCssText(Ue){return Ue.replace(q.BRACKETED,'').replace(q.VAR_ASSIGN,'')}collectPropertiesInCssText(Ue,Ke){for(let Xe;Xe=q.VAR_CONSUMED.exec(Ue);){let je=Xe[1];':'!==Xe[2]&&(Ke[je]=!0)}}reify(Ue){let Ke=Object.getOwnPropertyNames(Ue);for(let je,Xe=0;Xe<Ke.length;Xe++)je=Ke[Xe],Ue[je]=this.valueForProperty(Ue[je],Ue)}valueForProperty(Ue,Ke){if(Ue)if(0<=Ue.indexOf(';'))Ue=this.valueForProperties(Ue,Ke);else{let Xe=this;Ue=w(Ue,function(je,Be,Ve,Ye){if(!Be)return je+Ye;let Ge=Xe.valueForProperty(Ke[Be],Ke);return Ge&&'initial'!==Ge?'apply-shim-inherit'===Ge&&(Ge='inherit'):Ge=Xe.valueForProperty(Ke[Ve]||Ve,Ke)||Ve,je+(Ge||'')+Ye})}return Ue&&Ue.trim()||''}valueForProperties(Ue,Ke){let Xe=Ue.split(';');for(let Be,Ve,je=0;je<Xe.length;je++)if(Be=Xe[je]){if(q.MIXIN_MATCH.lastIndex=0,Ve=q.MIXIN_MATCH.exec(Be),Ve)Be=this.valueForProperty(Ke[Ve[1]],Ke);else{let Ye=Be.indexOf(':');if(-1!==Ye){let Ge=Be.substring(Ye);Ge=Ge.trim(),Ge=this.valueForProperty(Ge,Ke)||Ge,Be=Be.substring(0,Ye)+Ge}}Xe[je]=Be&&Be.lastIndexOf(';')===Be.length-1?Be.slice(0,-1):Be||''}return Xe.join(';')}applyProperties(Ue,Ke){let Xe='';Ue.propertyInfo||this.decorateRule(Ue),Ue.propertyInfo.cssText&&(Xe=this.valueForProperties(Ue.propertyInfo.cssText,Ke)),Ue.cssText=Xe}applyKeyframeTransforms(Ue,Ke){let Xe=Ue.cssText,je=Ue.cssText;if(null==Ue.hasAnimations&&(Ue.hasAnimations=q.ANIMATION_MATCH.test(Xe)),Ue.hasAnimations){let Be;if(null==Ue.keyframeNamesToTransform)for(let Ve in Ue.keyframeNamesToTransform=[],Ke)Be=Ke[Ve],je=Be(Xe),Xe!==je&&(Xe=je,Ue.keyframeNamesToTransform.push(Ve));else{for(let Ve=0;Ve<Ue.keyframeNamesToTransform.length;++Ve)Be=Ke[Ue.keyframeNamesToTransform[Ve]],Xe=Be(Xe);je=Xe}}Ue.cssText=je}propertyDataFromStyles(Ue,Ke){let Xe={},je=this,Be=[];return R(Ue,function(Ve){Ve.propertyInfo||je.decorateRule(Ve);let Ye=Ve.transformedSelector||Ve.parsedSelector;Ke&&Ve.propertyInfo.properties&&Ye&&ye.call(Ke,Ye)&&(je.collectProperties(Ve,Xe),F(Ve.index,Be))},null,!0),{properties:Xe,key:Be}}whenHostOrRootRule(Ue,Ke,Xe,je){if(Ke.propertyInfo||this.decorateRule(Ke),!!Ke.propertyInfo.properties){let Be=Ue.is?ie._calcHostScope(Ue.is,Ue.extends):'html',Ve=Ke.parsedSelector,Ye=':host > *'===Ve||'html'===Ve,Ge=0===Ve.indexOf(':host')&&!Ye;if('shady'===Xe&&(Ye=Ve===Be+' > *.'+Be||-1!==Ve.indexOf('html'),Ge=!Ye&&0===Ve.indexOf(Be)),'shadow'===Xe&&(Ye=':host > *'===Ve||'html'===Ve,Ge=Ge&&!Ye),Ye||Ge){let qe=Be;Ge&&(B&&!Ke.transformedSelector&&(Ke.transformedSelector=ie._transformRuleCss(Ke,ie._transformComplexSelector,ie._calcElementScope(Ue.is),Be)),qe=Ke.transformedSelector||Be),je({selector:qe,isHost:Ge,isRoot:Ye})}}}hostAndRootPropertiesForScope(Ue,Ke){let Xe={},je={},Be=this,Ve=Ke&&Ke.__cssBuild;return R(Ke,function(Ye){Be.whenHostOrRootRule(Ue,Ye,Ve,function(Ge){let qe=Ue._element||Ue;ye.call(qe,Ge.selector)&&(Ge.isHost?Be.collectProperties(Ye,Xe):Be.collectProperties(Ye,je))})},null,!0),{rootProps:je,hostProps:Xe}}transformStyles(Ue,Ke,Xe){let je=this,Be=ie._calcHostScope(Ue.is,Ue.extends),Ve=Ue.extends?'\\'+Be.slice(0,-1)+'\\]':Be,Ye=new RegExp(q.HOST_PREFIX+Ve+q.HOST_SUFFIX),Ge=me.get(Ue).styleRules,qe=this._elementKeyframeTransforms(Ue,Ge,Xe);return ie.elementStyles(Ue,Ge,function(We){je.applyProperties(We,Ke),B||N(We)||!We.cssText||(je.applyKeyframeTransforms(We,qe),je._scopeSelector(We,Ye,Be,Xe))})}_elementKeyframeTransforms(Ue,Ke,Xe){let je=Ke._keyframes,Be={};if(!B&&je)for(let Ve=0,Ye=je[Ve];Ve<je.length;Ye=je[++Ve])this._scopeKeyframes(Ye,Xe),Be[Ye.keyframesName]=this._keyframesRuleTransformer(Ye);return Be}_keyframesRuleTransformer(Ue){return function(Ke){return Ke.replace(Ue.keyframesNameRx,Ue.transformedKeyframesName)}}_scopeKeyframes(Ue,Ke){Ue.keyframesNameRx=new RegExp(Ue.keyframesName,'g'),Ue.transformedKeyframesName=Ue.keyframesName+'-'+Ke,Ue.transformedSelector=Ue.transformedSelector||Ue.selector,Ue.selector=Ue.transformedSelector.replace(Ue.keyframesName,Ue.transformedKeyframesName)}_scopeSelector(Ue,Ke,Xe,je){Ue.transformedSelector=Ue.transformedSelector||Ue.selector;let Be=Ue.transformedSelector,Ve='.'+je,Ye=Be.split(',');for(let We,Ge=0,qe=Ye.length;Ge<qe&&(We=Ye[Ge]);Ge++)Ye[Ge]=We.match(Ke)?We.replace(Xe,Ve):Ve+' '+We;Ue.selector=Ye.join(',')}applyElementScopeSelector(Ue,Ke,Xe){let je=Ue.getAttribute('class')||'',Be=je;Xe&&(Be=je.replace(new RegExp('\\s*'+fe+'\\s*'+Xe+'\\s*','g'),' ')),Be+=(Be?' ':'')+fe+' '+Ke,je!==Be&&(Ue.__nativeSetAttribute?Ue.__nativeSetAttribute('class',Be):Ue.setAttribute('class',Be))}applyElementStyle(Ue,Ke,Xe,je){let Be=je?je.textContent||'':this.transformStyles(Ue,Ke,Xe),Ve=me.get(Ue),Ye=Ve.customStyle;return Ye&&!B&&Ye!==je&&(Ye._useCount--,0>=Ye._useCount&&Ye.parentNode&&Ye.parentNode.removeChild(Ye)),B?Ve.customStyle?(Ve.customStyle.textContent=Be,je=Ve.customStyle):Be&&(je=P(Be,Xe,Ue.shadowRoot,Ve.placeholder)):je?!je.parentNode&&I(je,null,Ve.placeholder):Be&&(je=P(Be,Xe,null,Ve.placeholder)),je&&(je._useCount=je._useCount||0,Ve.customStyle!=je&&je._useCount++,Ve.customStyle=je),_e&&(je.textContent=je.textContent),je}applyCustomStyle(Ue,Ke){let Xe=A(Ue),je=this;Ue.textContent=T(Xe,function(Be){let Ve=Be.cssText=Be.parsedCssText;Be.propertyInfo&&Be.propertyInfo.cssText&&(Ve=g(Ve),Be.cssText=je.valueForProperties(Ve,Ke))})}}var he=new Se;let ge={};const xe=window.customElements;if(xe&&!B){const Ue=xe.define;xe.define=function(Ke,Xe,je){return ge[Ke]=M(Ke),Ue.call(xe,Ke,Xe,je)}}let Ce=q.MIXIN_MATCH,Ee=q.VAR_ASSIGN,Te=/;\s*/m,Ae=/^\s*(initial)|(inherit)\s*$/,Ne='_-_';class Re{constructor(){this._map={}}set(Ue,Ke){Ue=Ue.trim(),this._map[Ue]={properties:Ke,dependants:{}}}get(Ue){return Ue=Ue.trim(),this._map[Ue]}}class ve{constructor(){this._currentTemplate=null,this._measureElement=null,this._map=new Re,this._separator=Ne,this._boundProduceCssProperties=(Ue,Ke,Xe,je)=>this._produceCssProperties(Ue,Ke,Xe,je)}detectMixin(Ue){const Ke=Ce.test(Ue)||Ee.test(Ue);return Ce.lastIndex=0,Ee.lastIndex=0,Ke}transformStyle(Ue,Ke){let Xe=A(Ue);return this.transformRules(Xe,Ke),Xe}transformRules(Ue,Ke){this._currentTemplate=pe[Ke],R(Ue,Xe=>{this.transformRule(Xe)}),this._currentTemplate=null}transformRule(Ue){Ue.cssText=this.transformCssText(Ue.parsedCssText),':root'===Ue.selector&&(Ue.selector=':host > *')}transformCssText(Ue){return Ue=Ue.replace(Ee,this._boundProduceCssProperties),this._consumeCssProperties(Ue)}_getInitialValueForProperty(Ue){return this._measureElement||(this._measureElement=document.createElement('meta'),this._measureElement.style.all='initial',document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(Ue)}_consumeCssProperties(Ue){for(let Ke;Ke=Ce.exec(Ue);){let Xe=Ke[0],je=Ke[1],Be=Ke.index,Ve=Be+Xe.indexOf('@apply'),Ye=Be+Xe.length,Ge=Ue.slice(0,Ve),qe=Ue.slice(Ye),We=this._cssTextToMap(Ge),ze=this._atApplyToCssProperties(je,We);Ue=[Ge,ze,qe].join(''),Ce.lastIndex=Be+ze.length}return Ue}_atApplyToCssProperties(Ue,Ke){Ue=Ue.replace(Te,'');let Xe=[],je=this._map.get(Ue);if(je||(this._map.set(Ue,{}),je=this._map.get(Ue)),je){this._currentTemplate&&(je.dependants[this._currentTemplate.name]=this._currentTemplate);let Be,Ve,Ye;for(Be in je.properties)Ye=Ke&&Ke[Be],Ve=[Be,': var(',Ue,Ne,Be],Ye&&Ve.push(',',Ye),Ve.push(')'),Xe.push(Ve.join(''))}return Xe.join('; ')}_replaceInitialOrInherit(Ue,Ke){let Xe=Ae.exec(Ke);return Xe&&(Xe[1]?Ke=ve._getInitialValueForProperty(Ue):Ke='apply-shim-inherit'),Ke}_cssTextToMap(Ue){let Ke=Ue.split(';'),Xe,je,Be={};for(let Ye,Ge,Ve=0;Ve<Ke.length;Ve++)Ye=Ke[Ve],Ye&&(Ge=Ye.split(':'),1<Ge.length&&(Xe=Ge[0].trim(),je=this._replaceInitialOrInherit(Xe,Ge.slice(1).join(':')),Be[Xe]=je));return Be}_invalidateMixinEntry(Ue){for(let Ke in Ue.dependants)this._currentTemplate&&Ke===this._currentTemplate.name||me.invalidate(Ke)}_produceCssProperties(Ue,Ke,Xe,je){if(Xe&&w(Xe,(Je,et)=>{et&&this._map.get(et)&&(je='@apply '+et+';')}),!je)return Ue;let Be=this._consumeCssProperties(je),Ve=Ue.slice(0,Ue.indexOf('--')),Ye=this._cssTextToMap(Be),Ge=Ye,qe=this._map.get(Ke),We=qe&&qe.properties;We?Ge=Object.assign(Object.create(We),Ye):this._map.set(Ke,Ge);let $e,Qe,ze=[],Ze=!1;for($e in Ge)Qe=Ye[$e],void 0==Qe&&(Qe='initial'),We&&!($e in We)&&(Ze=!0),ze.push(Ke+Ne+$e+': '+Qe);return Ze&&this._invalidateMixinEntry(qe),qe&&(qe.properties=Ge),Xe&&(Ve=Ue+';'+Ve),Ve+ze.join('; ')+';'}}let Pe=new ve;window.ApplyShim=Pe;let Ie=function(){};if(!B){let Ue=Ve=>{return Ve.classList&&!Ve.classList.contains(ie.SCOPE_NAME)||Ve instanceof SVGElement&&(!Ve.hasAttribute('class')||0>Ve.getAttribute('class').indexOf(ie.SCOPE_NAME))},Ke=Ve=>{for(let Ye=0;Ye<Ve.length;Ye++){let Ge=Ve[Ye];if(Ge.target!==document.documentElement&&Ge.target!==document.head){for(let qe=0;qe<Ge.addedNodes.length;qe++){let We=Ge.addedNodes[qe];if(Ue(We)){let ze=We.getRootNode();if(ze.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let $e=ze.host;if($e){let Qe=$e.is||$e.localName;ie.dom(We,Qe)}}}}for(let qe=0;qe<Ge.removedNodes.length;qe++){let We=Ge.removedNodes[qe];if(We.nodeType===Node.ELEMENT_NODE){let ze;if(We.classList?ze=Array.from(We.classList):We.hasAttribute('class')&&(ze=We.getAttribute('class').split(/\s+/)),void 0!=ze){let $e=ze.indexOf(ie.SCOPE_NAME);if(0<=$e){let Qe=ze[$e+1];Qe&&ie.dom(We,Qe,!0)}}}}}}},Xe=new MutationObserver(Ke),je=Ve=>{Xe.observe(Ve,{childList:!0,subtree:!0})},Be=window.customElements&&!window.customElements.flush;if(Be)je(document);else{let Ve=()=>{je(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Ve):requestAnimationFrame(function(){if('loading'===document.readyState){let Ye=function(){Ve(),document.removeEventListener('readystatechange',Ye)};document.addEventListener('readystatechange',Ye)}else Ve()})}Ie=function(){Ke(Xe.takeRecords())}}let Oe=new class{constructor(Ke=100){this.cache={},this.typeMax=Ke}_validate(Ke,Xe,je){for(let Be=0;Be<je.length;Be++){let Ve=je[Be];if(Ke.properties[Ve]!==Xe[Ve])return!1}return!0}store(Ke,Xe,je,Be){let Ve=this.cache[Ke]||[];Ve.push({properties:Xe,styleElement:je,scopeSelector:Be}),Ve.length>this.typeMax&&Ve.shift(),this.cache[Ke]=Ve}fetch(Ke,Xe,je){let Be=this.cache[Ke];if(Be)for(let Ve=Be.length-1;0<=Ve;Ve--){let Ye=Be[Ve];if(this._validate(Ye,Xe,je))return Ye}}};class Me{constructor(){this.scopeCounter={},this._documentOwner=document.documentElement,this._documentOwnerStyleInfo=me.set(document.documentElement,new me({rules:[]}))}get nativeShadow(){return B}get nativeCss(){return V}get nativeCssApply(){return Y}flush(){Ie()}_generateScopeSelector(Ue){let Ke=this.scopeCounter[Ue]=(this.scopeCounter[Ue]||0)+1;return`${Ue}-${Ke}`}getStyleAst(Ue){return A(Ue)}styleAstToString(Ue){return T(Ue)}_gatherStyles(Ue){let Ke=Ue.content.querySelectorAll('style'),Xe=[];for(let je=0;je<Ke.length;je++){let Be=Ke[je];Xe.push(Be.textContent),Be.parentNode.removeChild(Be)}return Xe.join('').trim()}_getCssBuild(Ue){let Ke=Ue.content.querySelector('style');return Ke?Ke.getAttribute('css-build')||'':''}prepareTemplate(Ue,Ke,Xe){if(!Ue._prepared){Ue._prepared=!0,Ue.name=Ke,Ue.extends=Xe,pe[Ke]=Ue;let je=this._getCssBuild(Ue),Be=this._gatherStyles(Ue),Ve={is:Ke,extends:Xe,__cssBuild:je};this.nativeShadow||ie.dom(Ue.content,Ke);let Ye=Pe.detectMixin(Be),Ge=e(Be);Ye&&this.nativeCss&&!this.nativeCssApply&&Pe.transformRules(Ge,Ke),Ue._styleAst=Ge;let qe=[];if(this.nativeCss||(qe=he.decorateStyles(Ue._styleAst,Ve)),!qe.length||this.nativeCss){let We=this.nativeShadow?Ue.content:null,ze=ge[Ke],$e=this._generateStaticStyle(Ve,Ue._styleAst,We,ze);Ue._style=$e}Ue._ownPropertyNames=qe}}_generateStaticStyle(Ue,Ke,Xe,je){let Be=ie.elementStyles(Ue,Ke);if(Be.length)return P(Be,Ue.is,Xe,je)}_prepareHost(Ue){let Xe,Ke=Ue.getAttribute('is')||Ue.localName;Ke!==Ue.localName&&(Xe=Ue.localName);let Ve,Ye,Ge,je=ge[Ke],Be=pe[Ke];return Be&&(Ve=Be._styleAst,Ye=Be._ownPropertyNames,Ge=Be._cssBuild),me.set(Ue,new me(Ve,je,Ye,Ke,Xe,Ge))}applyStyle(Ue,Ke){let Xe=Ue.getAttribute('is')||Ue.localName;if(window.CustomStyle){let Ve=window.CustomStyle;Ve._documentDirty&&(Ve.findStyles(),this.nativeCss?!this.nativeCssApply&&Ve._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),Ve.applyStyles())}let je=me.get(Ue),Be=!!je;if(je||(je=this._prepareHost(Ue)),Ke&&(je.overrideStyleProperties=je.overrideStyleProperties||{},Object.assign(je.overrideStyleProperties,Ke)),this.nativeCss){je.overrideStyleProperties&&this._updateNativeProperties(Ue,je.overrideStyleProperties);let Ve=pe[Xe];if(!Ve&&'html'!==Xe)return;if(Ve&&Ve._applyShimInvalid&&Ve._style){if(Ve._invalidating||(Pe.transformRules(Ve._styleAst,Xe),Ve._style.textContent=ie.elementStyles(Ue,je.styleRules),me.validate(Xe)),this.nativeShadow){let Ye=Ue.shadowRoot;if(Ye){let Ge=Ye.querySelector('style');Ge.textContent=ie.elementStyles(Ue,je.styleRules)}}je.styleRules=Ve._styleAst}}else this._updateProperties(Ue,je),je.ownStylePropertyNames&&je.ownStylePropertyNames.length&&this._applyStyleProperties(Ue,je);if(Be){let Ve=this._isRootOwner(Ue)?Ue:Ue.shadowRoot;Ve&&this._applyToDescendants(Ve)}}_applyToDescendants(Ue){let Ke=Ue.children;for(let je,Xe=0;Xe<Ke.length;Xe++)je=Ke[Xe],je.shadowRoot&&this.applyStyle(je),this._applyToDescendants(je)}_styleOwnerForNode(Ue){let Ke=Ue.getRootNode(),Xe=Ke.host;return Xe?me.get(Xe)?Xe:this._styleOwnerForNode(Xe):this._documentOwner}_isRootOwner(Ue){return Ue===this._documentOwner}_applyStyleProperties(Ue,Ke){let Xe=Ue.getAttribute('is')||Ue.localName,je=Oe.fetch(Xe,Ke.styleProperties,Ke.ownStylePropertyNames),Be=je&&je.scopeSelector,Ve=je?je.styleElement:null,Ye=Ke.scopeSelector;Ke.scopeSelector=Be||this._generateScopeSelector(Xe);let Ge=he.applyElementStyle(Ue,Ke.styleProperties,Ke.scopeSelector,Ve);return this.nativeShadow||he.applyElementScopeSelector(Ue,Ke.scopeSelector,Ye),je||Oe.store(Xe,Ke.styleProperties,Ge,Ke.scopeSelector),Ge}_updateProperties(Ue,Ke){let Xe=this._styleOwnerForNode(Ue),je=me.get(Xe),Be=je.styleProperties,Ve=Object.create(Be||null),Ye=he.hostAndRootPropertiesForScope(Ue,Ke.styleRules),Ge=he.propertyDataFromStyles(je.styleRules,Ue),qe=Ge.properties;Object.assign(Ve,Ye.hostProps,qe,Ye.rootProps),this._mixinOverrideStyles(Ve,Ke.overrideStyleProperties),he.reify(Ve),Ke.styleProperties=Ve}_mixinOverrideStyles(Ue,Ke){for(let Xe in Ke){let je=Ke[Xe];(je||0===je)&&(Ue[Xe]=je)}}_updateNativeProperties(Ue,Ke){for(let Xe in Ke)null===Xe?Ue.style.removeProperty(Xe):Ue.style.setProperty(Xe,Ke[Xe])}updateStyles(Ue){this.applyStyle(this._documentOwner,Ue)}_transformCustomStyleForDocument(Ue){let Ke=A(Ue);R(Ke,Xe=>{B?ie.normalizeRootSelector(Xe):ie.documentRule(Xe),this.nativeCss&&!this.nativeCssApply&&Pe.transformRule(Xe)}),this.nativeCss?Ue.textContent=T(Ke):this._documentOwnerStyleInfo.styleRules.rules.push(Ke)}_revalidateApplyShim(Ue){if(this.nativeCss&&!this.nativeCssApply){let Ke=A(Ue);Pe.transformRules(Ke),Ue.textContent=T(Ke)}}_applyCustomStyleToDocument(Ue){this.nativeCss||he.applyCustomStyle(Ue,this._documentOwnerStyleInfo.styleProperties)}getComputedStyleValue(Ue,Ke){let Xe;if(!this.nativeCss){let je=me.get(Ue)||me.get(this._styleOwnerForNode(Ue));Xe=je.styleProperties[Ke]}return Xe=Xe||window.getComputedStyle(Ue).getPropertyValue(Ke),Xe.trim()}setElementClass(Ue,Ke){let Xe=Ue.getRootNode(),je=Ke?Ke.split(/\s/):[],Be=Xe.host&&Xe.host.localName;if(!Be){var Ve=Ue.getAttribute('class');if(Ve){let Ye=Ve.split(/\s/);for(let Ge=0;Ge<Ye.length;Ge++)if(Ye[Ge]===ie.SCOPE_NAME){Be=Ye[Ge+1];break}}}if(Be&&je.push(ie.SCOPE_NAME,Be),!this.nativeCss){let Ye=me.get(Ue);Ye&&Ye.scopeSelector&&je.push(he.XSCOPE_NAME,Ye.scopeSelector)}L(Ue,je.join(' '))}_styleInfoForNode(Ue){return me.get(Ue)}}window.ShadyCSS=new Me;let be=window.ShadyCSS,we=!1,Le=!1,Fe=[],De=null,He=!1;class ke extends HTMLElement{static get registered(){return!1}static get _customStyles(){return Fe}static get processHook(){return De}static set processHook(Ue){return De=Ue,Ue}static get _documentDirty(){return we}static findStyles(){for(let Ue=0;Ue<Fe.length;Ue++)Fe[Ue]._findStyle()}static _revalidateApplyShim(){for(let Ue=0;Ue<Fe.length;Ue++){let Ke=Fe[Ue];Ke._style&&be._revalidateApplyShim(Ke._style)}}static applyStyles(){for(let Ue=0;Ue<Fe.length;Ue++)Fe[Ue]._applyStyle();we=!1}constructor(){super(),Fe.push(this),D()}_findStyle(){if(!this._style){let Ue=this.querySelector('style');if(!Ue)return;if(Ue.__appliedElement)for(let Ke=0;Ke<Ue.attributes.length;Ke++){let Xe=Ue.attributes[Ke];Ue.__appliedElement.setAttribute(Xe.name,Xe.value)}this._style=Ue.__appliedElement||Ue,De&&De(this._style),be._transformCustomStyleForDocument(this._style)}}_applyStyle(){this._style&&be._applyCustomStyleToDocument(this._style)}}window.CustomStyle=ke,window.customElements.define('custom-style',ke)})();
//# sourceMappingURL=shadycss.min.js.map
